{"version":3,"file":"59.js","mappings":"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","sources":["./projects/ngx-editor-js2-mermaidjs/src/lib/mermaidjs-config/mermaidjs-config.component.ts","./projects/ngx-editor-js2-mermaidjs/src/lib/ngx-editor-js2-mermaidjs.component.ts","./projects/ngx-editor-js2-mermaidjs/src/public-api.ts","./projects/ngx-editor-js2-mermaidjs/src/tmdjr-ngx-editor-js2-mermaidjs.ts","./node_modules/@tmdjr/ngx-editor-js2/fesm2022/tmdjr-ngx-editor-js2.mjs","./node_modules/@ctrl/ngx-codemirror/fesm2022/ctrl-ngx-codemirror.mjs","./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["import { Component, effect, model, output, signal } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { MatButton } from '@angular/material/button';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { CodemirrorModule } from '@ctrl/ngx-codemirror';\n\n@Component({\n  selector: 'mermaidjs-config',\n  imports: [\n    MatButton,\n    MatFormFieldModule,\n    ReactiveFormsModule,\n    FormsModule,\n    CodemirrorModule,\n  ],\n  template: `\n    <div class=\"mermaidjs-block-modal\">\n      <h2 mat-dialog-title>MermaidJs Configurations</h2>\n      <ngx-codemirror [(ngModel)]=\"value\" [options]=\"codeMirrorOptions()\">\n      </ngx-codemirror>\n      <div class=\"action-group\">\n        <button type=\"button\" mat-flat-button (click)=\"closeConfig()\">\n          Update\n        </button>\n      </div>\n    </div>\n  `,\n  styles: [\n    `\n      :host {\n        display: block;\n        position: relative;\n        padding: 20px;\n        border: 1px solid #ccc;\n        border-radius: var(\n          --mat-card-outlined-container-shape,\n          var(--mat-sys-corner-medium)\n        );\n\n        .action-group {\n          margin-top: 20px;\n          display: flex;\n          justify-content: flex-end;\n        }\n      }\n\n      :host ::ng-deep .CodeMirror {\n        font-family: Cascadia Code, Fira Code, Menlo, Monaco, 'Courier New',\n          monospace;\n        font-size: 16px;\n        font-weight: 400;\n        line-height: 32px;\n        letter-spacing: 0.5px;\n        height: 100%;\n      }\n    `,\n  ],\n})\nexport class MermaidjsConfigComponent {\n  updateConfig = output<void>();\n  value = model<string>();\n  codeMirrorOptions = signal({\n    lineNumbers: true,\n    theme: 'material-palenight',\n    mode: 'text/typescript',\n    extraKeys: { 'Ctrl-Space': 'autocomplete' },\n    styleActiveLine: true, // Highlight active line\n    matchBrackets: true,\n    indentUnit: 2,\n    tabSize: 2,\n    cursorScrollMargin: 5,\n  });\n\n  closeConfig() {\n    this.updateConfig.emit();\n  }\n}\n","import { CdkDrag } from '@angular/cdk/drag-drop';\nimport { NgClass } from '@angular/common';\nimport {\n  Component,\n  inject,\n  input,\n  NgZone,\n  Pipe,\n  PipeTransform,\n  signal,\n} from '@angular/core';\nimport { FormGroup, ReactiveFormsModule } from '@angular/forms';\nimport { MatFabButton } from '@angular/material/button';\nimport { MatIcon } from '@angular/material/icon';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport {\n  AutofocusDirective,\n  BlockOptionAction,\n  ControlAccessorDirective,\n  ToolbarFabDirective,\n} from '@tmdjr/ngx-editor-js2';\nimport type { Mermaid } from 'mermaid';\nimport MermaidImport from 'mermaid';\nimport { MermaidjsConfigComponent } from './mermaidjs-config/mermaidjs-config.component';\n\nconst mermaid: Mermaid = (MermaidImport as any).default\n  ? (MermaidImport as any).default\n  : MermaidImport;\n\n@Pipe({ name: 'safeHtml', standalone: true })\nexport class SafeHtmlPipe implements PipeTransform {\n  constructor(private sanitized: DomSanitizer) {}\n  transform(value: string) {\n    return this.sanitized.bypassSecurityTrustHtml(value);\n  }\n}\n\nmermaid.parseError = function (err: any, hash: any) {\n  console.warn(`Error parsing mermaid diagram: ${err} ${hash}`);\n};\n\n@Component({\n  selector: 'ngx-editor-js2-mermaidjs',\n  host: { class: 'cdk-drag-animating no-toolbar-inline' },\n  hostDirectives: [CdkDrag],\n  imports: [\n    ReactiveFormsModule,\n    ControlAccessorDirective,\n    AutofocusDirective,\n    ToolbarFabDirective,\n    MatFabButton,\n    MatIcon,\n    NgClass,\n    MermaidjsConfigComponent,\n    SafeHtmlPipe,\n  ],\n  template: `\n    <ng-container [formGroup]=\"formGroup()\">\n      <span\n        controlAccessor\n        toolbarFab\n        class=\"mermaidjs-container-overlay\"\n        [actionCallback]=\"actionCallbackBind\"\n        [autofocus]=\"autofocus()\"\n        [blockOptionActions]=\"blockOptionActions()\"\n        [formControlName]=\"formControlName()\"\n        [componentContextPositionIndex]=\"sortIndex()\"\n      ></span>\n      @if (!openOverlay()) {\n      <div class=\"mermaidjs-container\">\n        <div\n          #mermaidContainer\n          [ngClass]=\"savedAction()\"\n          [innerHTML]=\"mermaidDiagramSVG | safeHtml\"\n          class=\"mermaid\"\n        ></div>\n        <button\n          mat-fab\n          class=\"mermaidjs-block-button\"\n          (click)=\"openEditOverlay()\"\n        >\n          <mat-icon>edit</mat-icon>\n        </button>\n      </div>\n      } @else {\n      <mermaidjs-config\n        [(value)]=\"value\"\n        (updateConfig)=\"updateMermaidDiagram()\"\n      >\n      </mermaidjs-config>\n      }\n    </ng-container>\n  `,\n  styles: `\n      :host {\n        position: relative;\n        display: flex;\n        flex-direction: column;\n        margin: 1.5rem 0;\n\n        .flex-start {\n          justify-content: flex-start;\n        }\n        .flex-end {\n          justify-content: flex-end;\n        }\n        .center {\n          justify-content: center;\n        }\n        .stretch img {\n          width: 100%;\n        }\n\n        .mermaid { width: 100%; display: flex; }\n        .mermaidjs-container-overlay {\n          display: flex;\n          height: 100%;\n          width: 100%;\n          position: absolute;\n        }\n\n        .mermaid:hover ~ .mermaid-block-button, .mermaid-block-button:hover,\n        .mermaidjs-container-overlay:hover ~ .mermaidjs-container .mermaidjs-block-button,\n        .mermaidjs-block-button:hover {\n          display: block;\n        }\n        .mermaidjs-container {\n          display: flex;\n          .mermaidjs-block {\n            min-width: 0;\n          }\n        }\n\n        .mermaidjs-block-button {\n          position: absolute;\n          top: 6px;\n          left: 6px;\n          display: none;\n        }\n      }\n  `,\n})\nexport class NgxEditorJs2MermaidjsComponent {\n  ngZone = inject(NgZone);\n  mermaid = mermaid;\n\n  sortIndex = input<number>(0);\n  componentInstanceName = 'NgxEditorJs2MermaidjsComponent';\n  autofocus = input<boolean>(true);\n  formGroup = input.required<FormGroup>();\n  formControlName = input.required<string>();\n  blockOptionActions = input<BlockOptionAction[]>([\n    { action: 'flex-start', icon: 'format_align_left' },\n    { action: 'center', icon: 'format_align_center' },\n    { action: 'flex-end', icon: 'format_align_right' },\n    { action: 'stretch', icon: 'format_align_justify' },\n  ]);\n\n  savedAction = signal<string>('flex-start');\n  actionCallbackBind = this.actionCallback.bind(this);\n\n  mermaidDiagramSVG = '';\n  value = `flowchart TD\n    A[Christmas] -->|Get money| B(Go shopping)\n    B --> C{Let me think}\n    C -->|One| D[Laptop]\n    C -->|Two| E[iPhone]\n    C -->|Three| F[fa:fa-car Car]`;\n\n  openOverlay = signal<boolean>(false);\n\n  ngOnInit() {\n    this.ngZone.runOutsideAngular(() => {\n      this.mermaid.initialize({ startOnLoad: false });\n    });\n    const possibleSavedValue = this.formGroup().get(this.formControlName());\n    this.value = possibleSavedValue?.value\n      ? possibleSavedValue.value\n      : this.value;\n    this.renderMermaidDiagram(this.value);\n  }\n\n  renderMermaidDiagram(mermaidDiagram: string): void {\n    this.ngZone.runOutsideAngular(() => {\n      this.mermaid.render(this.genUniqueId(), mermaidDiagram).then(\n        (data) => this.ngZone.run(() => (this.mermaidDiagramSVG = data.svg)),\n        (error) => console.warn(`Error: ${error}`)\n      );\n    });\n  }\n\n  actionCallback(action: string, updateFormValue = true) {\n    this.savedAction.update(() => action);\n    updateFormValue && this.formGroup().updateValueAndValidity();\n  }\n\n  openEditOverlay() {\n    this.openOverlay.set(true);\n  }\n\n  updateMermaidDiagram() {\n    this.renderMermaidDiagram(this.value);\n    this.formGroup().get(this.formControlName())?.setValue(this.value);\n    this.openOverlay.set(false);\n  }\n\n  genUniqueId() {\n    return `mermaid-${Date.now()}-${Math.floor(Math.random() * 1000)}`;\n  }\n}\n","/*\n * Public API Surface of ngx-editor-js2-mermaidjs\n */\n\nexport * from './lib/ngx-editor-js2-mermaidjs.component';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n","import * as i0 from '@angular/core';\nimport { inject, ElementRef, input, forwardRef, HostListener, Directive, output, Component, signal, Injectable, ViewContainerRef, effect, InjectionToken, viewChild, EventEmitter, Renderer2, Output } from '@angular/core';\nimport * as i2 from '@angular/forms';\nimport { NG_VALUE_ACCESSOR, FormControl, ReactiveFormsModule, FormBuilder, FormsModule } from '@angular/forms';\nimport { startWith, combineLatest, map, firstValueFrom, of, from, tap, filter, defaultIfEmpty, Observable, lastValueFrom, forkJoin, iif, switchMap, mergeMap, BehaviorSubject, distinctUntilChanged, delay, exhaustMap, merge, debounceTime, fromEvent } from 'rxjs';\nimport { MatRipple } from '@angular/material/core';\nimport * as i1$1 from '@angular/cdk/drag-drop';\nimport { CdkDragHandle, CdkDrag, CdkDropList } from '@angular/cdk/drag-drop';\nimport * as i1 from '@angular/cdk/overlay';\nimport { OverlayModule, Overlay } from '@angular/cdk/overlay';\nimport * as i1$2 from '@angular/material/icon';\nimport { MatIcon, MatIconModule } from '@angular/material/icon';\nimport { AsyncPipe, NgTemplateOutlet, NgClass } from '@angular/common';\nimport { toObservable, takeUntilDestroyed } from '@angular/core/rxjs-interop';\nimport { MatFormField, MatLabel } from '@angular/material/form-field';\nimport { MatInput } from '@angular/material/input';\nimport { MatList, MatListItem, MatListModule } from '@angular/material/list';\nimport { ComponentPortal } from '@angular/cdk/portal';\n\nclass ControlAccessorDirective {\n    elementRef = inject(ElementRef);\n    defaultValue = input(...(ngDevMode ? [undefined, { debugName: \"defaultValue\" }] : []));\n    onChange = () => { };\n    onTouched = () => { };\n    writeValue() {\n        this.elementRef.nativeElement.innerHTML = this.defaultValue() || '';\n    }\n    registerOnChange(fn) {\n        this.onChange = fn;\n    }\n    registerOnTouched(fn) {\n        this.onTouched = fn;\n    }\n    onBlur() {\n        this.onTouched();\n    }\n    onInput() {\n        this.onChange(this.elementRef.nativeElement.innerHTML);\n    }\n    static fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"21.1.0\", ngImport: i0, type: ControlAccessorDirective, deps: [], target: i0.FactoryTarget.Directive });\n    static dir = i0.ngDeclareDirective({ minVersion: \"17.1.0\", version: \"21.1.0\", type: ControlAccessorDirective, isStandalone: true, selector: \"[controlAccessor]\", inputs: { defaultValue: { classPropertyName: \"defaultValue\", publicName: \"defaultValue\", isSignal: true, isRequired: false, transformFunction: null } }, host: { listeners: { \"blur\": \"onBlur()\", \"input\": \"onInput()\" } }, providers: [\n            {\n                provide: NG_VALUE_ACCESSOR,\n                useExisting: forwardRef(() => ControlAccessorDirective),\n                multi: true,\n            },\n        ], ngImport: i0 });\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"21.1.0\", ngImport: i0, type: ControlAccessorDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[controlAccessor]',\n                    providers: [\n                        {\n                            provide: NG_VALUE_ACCESSOR,\n                            useExisting: forwardRef(() => ControlAccessorDirective),\n                            multi: true,\n                        },\n                    ],\n                }]\n        }], propDecorators: { defaultValue: [{ type: i0.Input, args: [{ isSignal: true, alias: \"defaultValue\", required: false }] }], onBlur: [{\n                type: HostListener,\n                args: ['blur']\n            }], onInput: [{\n                type: HostListener,\n                args: ['input']\n            }] } });\n\nclass AutofocusDirective {\n    elementRef = inject(ElementRef);\n    autofocus = input(false, ...(ngDevMode ? [{ debugName: \"autofocus\" }] : []));\n    ngAfterContentInit() {\n        this.autofocus() && this.elementRef.nativeElement.focus?.();\n    }\n    static fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"21.1.0\", ngImport: i0, type: AutofocusDirective, deps: [], target: i0.FactoryTarget.Directive });\n    static dir = i0.ngDeclareDirective({ minVersion: \"17.1.0\", version: \"21.1.0\", type: AutofocusDirective, isStandalone: true, selector: \"[autofocus]\", inputs: { autofocus: { classPropertyName: \"autofocus\", publicName: \"autofocus\", isSignal: true, isRequired: false, transformFunction: null } }, ngImport: i0 });\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"21.1.0\", ngImport: i0, type: AutofocusDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[autofocus]',\n                }]\n        }], propDecorators: { autofocus: [{ type: i0.Input, args: [{ isSignal: true, alias: \"autofocus\", required: false }] }] } });\n\nvar MovePositionActions;\n(function (MovePositionActions) {\n    MovePositionActions[\"UP\"] = \"UP\";\n    MovePositionActions[\"DOWN\"] = \"DOWN\";\n    MovePositionActions[\"DELETE\"] = \"DELETE\";\n})(MovePositionActions || (MovePositionActions = {}));\n\nclass ToolbarBlockOptionsComponent {\n    Position = MovePositionActions;\n    blockOptionActions = input(...(ngDevMode ? [undefined, { debugName: \"blockOptionActions\" }] : []));\n    handleActionEmitter = output({ alias: 'handleAction' });\n    moveBlockPositionEmitter = output({\n        alias: 'moveBlockPosition',\n    });\n    movePosition(action) {\n        this.moveBlockPositionEmitter.emit(action);\n    }\n    handleAction(action) {\n        this.handleActionEmitter.emit(action);\n    }\n    static fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"21.1.0\", ngImport: i0, type: ToolbarBlockOptionsComponent, deps: [], target: i0.FactoryTarget.Component });\n    static cmp = i0.ngDeclareComponent({ minVersion: \"17.0.0\", version: \"21.1.0\", type: ToolbarBlockOptionsComponent, isStandalone: true, selector: \"toolbar-block-options\", inputs: { blockOptionActions: { classPropertyName: \"blockOptionActions\", publicName: \"blockOptionActions\", isSignal: true, isRequired: false, transformFunction: null } }, outputs: { handleActionEmitter: \"handleAction\", moveBlockPositionEmitter: \"moveBlockPosition\" }, ngImport: i0, template: `\n    <div class=\"actions-panel\">\n      <div class=\"action-btn\" matRipple (click)=\"movePosition(Position.UP)\">\n        <mat-icon>arrow_upward</mat-icon>\n      </div>\n      <div class=\"action-btn\" matRipple (click)=\"movePosition(Position.DELETE)\">\n        <mat-icon>delete</mat-icon>\n      </div>\n      <div class=\"action-btn\" matRipple (click)=\"movePosition(Position.DOWN)\">\n        <mat-icon>arrow_downward</mat-icon>\n      </div>\n      @for(blockOptionAction of blockOptionActions(); track $index) {\n      <div\n        class=\"action-btn\"\n        (click)=\"handleAction(blockOptionAction.action)\"\n        matRipple\n      >\n        @if (blockOptionAction.text) {\n        {{ blockOptionAction.text }}\n        } @else {\n        <mat-icon>{{ blockOptionAction.icon }}</mat-icon>\n        }\n      </div>\n      }\n    </div>\n  `, isInline: true, styles: [\":host .actions-panel{display:flex;flex-direction:row;flex-wrap:wrap;gap:1px;width:128px;max-height:128px;border-radius:4px;overflow:auto;background:var(--mat-sys-secondary);box-shadow:var(--mat-sys-level5)}:host .actions-panel .action-btn{cursor:pointer;width:42px;height:42px;display:flex;align-items:center;justify-content:center;border-radius:4px;color:var(--mat-sys-on-secondary);background:var(--mat-sys-secondary)}:host .actions-panel .action-btn:hover,:host .actions-panel .action-btn:focus{color:var(--mat-sys-secondary);background:var(--mat-sys-on-secondary)}\\n\"], dependencies: [{ kind: \"component\", type: MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }, { kind: \"directive\", type: MatRipple, selector: \"[mat-ripple], [matRipple]\", inputs: [\"matRippleColor\", \"matRippleUnbounded\", \"matRippleCentered\", \"matRippleRadius\", \"matRippleAnimation\", \"matRippleDisabled\", \"matRippleTrigger\"], exportAs: [\"matRipple\"] }] });\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"21.1.0\", ngImport: i0, type: ToolbarBlockOptionsComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'toolbar-block-options', imports: [MatIcon, MatRipple], template: `\n    <div class=\"actions-panel\">\n      <div class=\"action-btn\" matRipple (click)=\"movePosition(Position.UP)\">\n        <mat-icon>arrow_upward</mat-icon>\n      </div>\n      <div class=\"action-btn\" matRipple (click)=\"movePosition(Position.DELETE)\">\n        <mat-icon>delete</mat-icon>\n      </div>\n      <div class=\"action-btn\" matRipple (click)=\"movePosition(Position.DOWN)\">\n        <mat-icon>arrow_downward</mat-icon>\n      </div>\n      @for(blockOptionAction of blockOptionActions(); track $index) {\n      <div\n        class=\"action-btn\"\n        (click)=\"handleAction(blockOptionAction.action)\"\n        matRipple\n      >\n        @if (blockOptionAction.text) {\n        {{ blockOptionAction.text }}\n        } @else {\n        <mat-icon>{{ blockOptionAction.icon }}</mat-icon>\n        }\n      </div>\n      }\n    </div>\n  `, styles: [\":host .actions-panel{display:flex;flex-direction:row;flex-wrap:wrap;gap:1px;width:128px;max-height:128px;border-radius:4px;overflow:auto;background:var(--mat-sys-secondary);box-shadow:var(--mat-sys-level5)}:host .actions-panel .action-btn{cursor:pointer;width:42px;height:42px;display:flex;align-items:center;justify-content:center;border-radius:4px;color:var(--mat-sys-on-secondary);background:var(--mat-sys-secondary)}:host .actions-panel .action-btn:hover,:host .actions-panel .action-btn:focus{color:var(--mat-sys-secondary);background:var(--mat-sys-on-secondary)}\\n\"] }]\n        }], propDecorators: { blockOptionActions: [{ type: i0.Input, args: [{ isSignal: true, alias: \"blockOptionActions\", required: false }] }], handleActionEmitter: [{ type: i0.Output, args: [\"handleAction\"] }], moveBlockPositionEmitter: [{ type: i0.Output, args: [\"moveBlockPosition\"] }] } });\n\nclass ToolbarBlocksComponent {\n    addBlockEmitter = output({ alias: 'addBlock' });\n    supportedBlocks = input([], ...(ngDevMode ? [{ debugName: \"supportedBlocks\" }] : []));\n    supportedBlocks$ = toObservable(this.supportedBlocks);\n    blockCtrl = new FormControl([]);\n    filter$ = this.blockCtrl.valueChanges.pipe(startWith(''));\n    filteredBlocks$ = combineLatest([this.supportedBlocks$, this.filter$]).pipe(map(([blocks, filterString]) => {\n        if (typeof filterString !== 'string')\n            filterString = '';\n        filterString = filterString.replace(/\\\\/g, '');\n        const pattern = filterString\n            ?.split('')\n            .map((v) => `(?=.*${v})`)\n            .join('');\n        const regex = new RegExp(`${pattern}`, 'gi');\n        // return blocks.filter(block => regex.exec(block));\n        return blocks.filter((block) => block.name.match(regex));\n    }));\n    addBlock(block) {\n        this.addBlockEmitter.emit(block?.component);\n    }\n    static fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"21.1.0\", ngImport: i0, type: ToolbarBlocksComponent, deps: [], target: i0.FactoryTarget.Component });\n    static cmp = i0.ngDeclareComponent({ minVersion: \"17.0.0\", version: \"21.1.0\", type: ToolbarBlocksComponent, isStandalone: true, selector: \"toolbar-blocks\", inputs: { supportedBlocks: { classPropertyName: \"supportedBlocks\", publicName: \"supportedBlocks\", isSignal: true, isRequired: false, transformFunction: null } }, outputs: { addBlockEmitter: \"addBlock\" }, ngImport: i0, template: `\n    <div class=\"block-list-container\">\n      <mat-form-field appearance=\"fill\" color=\"accent\">\n        <mat-label>Filter</mat-label>\n        <input\n          class=\"filter-text\"\n          matInput\n          [formControl]=\"blockCtrl\"\n          [autofocus]=\"true\"\n        />\n      </mat-form-field>\n      @if(filteredBlocks$ | async; as filteredBlocks) {\n      <mat-list class=\"block-list-panel\">\n        @if (filteredBlocks.length <= 0) {\n        <mat-list-item matRipple mat-list-item> No Results </mat-list-item>\n        } @else { @for(block of filteredBlocks; track $index) {\n        <mat-list-item matRipple mat-list-item (click)=\"addBlock(block)\">\n          {{ block.name }}\n        </mat-list-item>\n        } }\n      </mat-list>\n      }\n    </div>\n  `, isInline: true, styles: [\":host .mat-mdc-list-base{padding-top:0;margin-top:-14px}:host .block-list-container{border-radius:4px;background:var(--mat-sys-secondary-container);box-shadow:var(--mat-sys-level5)}:host .block-list-panel{max-width:280px;max-height:240px;border-bottom-left-radius:4px;border-bottom-right-radius:4px;overflow:auto;color:var(--mat-sys-on-secondary-container)}:host mat-list-item{cursor:pointer;-webkit-user-select:none;user-select:none}:host mat-list-item:hover,:host mat-list-item:focus{background:var(--mat-sys-surface-bright)}\\n\"], dependencies: [{ kind: \"component\", type: MatFormField, selector: \"mat-form-field\", inputs: [\"hideRequiredMarker\", \"color\", \"floatLabel\", \"appearance\", \"subscriptSizing\", \"hintLabel\"], exportAs: [\"matFormField\"] }, { kind: \"directive\", type: MatInput, selector: \"input[matInput], textarea[matInput], select[matNativeControl],      input[matNativeControl], textarea[matNativeControl]\", inputs: [\"disabled\", \"id\", \"placeholder\", \"name\", \"required\", \"type\", \"errorStateMatcher\", \"aria-describedby\", \"value\", \"readonly\", \"disabledInteractive\"], exportAs: [\"matInput\"] }, { kind: \"component\", type: MatList, selector: \"mat-list\", exportAs: [\"matList\"] }, { kind: \"component\", type: MatListItem, selector: \"mat-list-item, a[mat-list-item], button[mat-list-item]\", inputs: [\"activated\"], exportAs: [\"matListItem\"] }, { kind: \"directive\", type: MatRipple, selector: \"[mat-ripple], [matRipple]\", inputs: [\"matRippleColor\", \"matRippleUnbounded\", \"matRippleCentered\", \"matRippleRadius\", \"matRippleAnimation\", \"matRippleDisabled\", \"matRippleTrigger\"], exportAs: [\"matRipple\"] }, { kind: \"directive\", type: MatLabel, selector: \"mat-label\" }, { kind: \"ngmodule\", type: ReactiveFormsModule }, { kind: \"directive\", type: i2.DefaultValueAccessor, selector: \"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]\" }, { kind: \"directive\", type: i2.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { kind: \"directive\", type: i2.FormControlDirective, selector: \"[formControl]\", inputs: [\"formControl\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"], exportAs: [\"ngForm\"] }, { kind: \"pipe\", type: AsyncPipe, name: \"async\" }] });\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"21.1.0\", ngImport: i0, type: ToolbarBlocksComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'toolbar-blocks', imports: [\n                        MatFormField,\n                        MatInput,\n                        MatList,\n                        MatListItem,\n                        MatRipple,\n                        MatLabel,\n                        ReactiveFormsModule,\n                        AsyncPipe,\n                    ], template: `\n    <div class=\"block-list-container\">\n      <mat-form-field appearance=\"fill\" color=\"accent\">\n        <mat-label>Filter</mat-label>\n        <input\n          class=\"filter-text\"\n          matInput\n          [formControl]=\"blockCtrl\"\n          [autofocus]=\"true\"\n        />\n      </mat-form-field>\n      @if(filteredBlocks$ | async; as filteredBlocks) {\n      <mat-list class=\"block-list-panel\">\n        @if (filteredBlocks.length <= 0) {\n        <mat-list-item matRipple mat-list-item> No Results </mat-list-item>\n        } @else { @for(block of filteredBlocks; track $index) {\n        <mat-list-item matRipple mat-list-item (click)=\"addBlock(block)\">\n          {{ block.name }}\n        </mat-list-item>\n        } }\n      </mat-list>\n      }\n    </div>\n  `, styles: [\":host .mat-mdc-list-base{padding-top:0;margin-top:-14px}:host .block-list-container{border-radius:4px;background:var(--mat-sys-secondary-container);box-shadow:var(--mat-sys-level5)}:host .block-list-panel{max-width:280px;max-height:240px;border-bottom-left-radius:4px;border-bottom-right-radius:4px;overflow:auto;color:var(--mat-sys-on-secondary-container)}:host mat-list-item{cursor:pointer;-webkit-user-select:none;user-select:none}:host mat-list-item:hover,:host mat-list-item:focus{background:var(--mat-sys-surface-bright)}\\n\"] }]\n        }], propDecorators: { addBlockEmitter: [{ type: i0.Output, args: [\"addBlock\"] }], supportedBlocks: [{ type: i0.Input, args: [{ isSignal: true, alias: \"supportedBlocks\", required: false }] }] } });\n\nclass ToolbarComponent {\n    componentContextPositionIndex = input.required(...(ngDevMode ? [{ debugName: \"componentContextPositionIndex\" }] : []));\n    supportedBlocks = input.required(...(ngDevMode ? [{ debugName: \"supportedBlocks\" }] : []));\n    blockOptionActions = input(...(ngDevMode ? [undefined, { debugName: \"blockOptionActions\" }] : []));\n    actionCallback = input(() => () => { }, ...(ngDevMode ? [{ debugName: \"actionCallback\" }] : []));\n    formControlName = input(...(ngDevMode ? [undefined, { debugName: \"formControlName\" }] : []));\n    addBlockCallback = input.required(...(ngDevMode ? [{ debugName: \"addBlockCallback\" }] : []));\n    moveBlockPositionCallback = input.required(...(ngDevMode ? [{ debugName: \"moveBlockPositionCallback\" }] : []));\n    openBlocks = signal(false, ...(ngDevMode ? [{ debugName: \"openBlocks\" }] : []));\n    openBlocksOption = signal(false, ...(ngDevMode ? [{ debugName: \"openBlocksOption\" }] : []));\n    openBlocksList() {\n        this.openBlocks.update((prev) => !prev);\n    }\n    openBlockOptionList() {\n        this.openBlocksOption.update((prev) => !prev);\n    }\n    moveBlockPosition(action) {\n        this.closeLists();\n        this.moveBlockPositionCallback()(action, this.componentContextPositionIndex());\n    }\n    handleAction(action) {\n        this.closeLists();\n        this.actionCallback()(action);\n    }\n    addBlock(block) {\n        this.closeLists();\n        firstValueFrom(this.addBlockCallback()(block, this.componentContextPositionIndex()));\n    }\n    closeLists() {\n        this.openBlocks.set(false);\n        this.openBlocksOption.set(false);\n    }\n    static fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"21.1.0\", ngImport: i0, type: ToolbarComponent, deps: [], target: i0.FactoryTarget.Component });\n    static cmp = i0.ngDeclareComponent({ minVersion: \"17.1.0\", version: \"21.1.0\", type: ToolbarComponent, isStandalone: true, selector: \"toolbar\", inputs: { componentContextPositionIndex: { classPropertyName: \"componentContextPositionIndex\", publicName: \"componentContextPositionIndex\", isSignal: true, isRequired: true, transformFunction: null }, supportedBlocks: { classPropertyName: \"supportedBlocks\", publicName: \"supportedBlocks\", isSignal: true, isRequired: true, transformFunction: null }, blockOptionActions: { classPropertyName: \"blockOptionActions\", publicName: \"blockOptionActions\", isSignal: true, isRequired: false, transformFunction: null }, actionCallback: { classPropertyName: \"actionCallback\", publicName: \"actionCallback\", isSignal: true, isRequired: false, transformFunction: null }, formControlName: { classPropertyName: \"formControlName\", publicName: \"formControlName\", isSignal: true, isRequired: false, transformFunction: null }, addBlockCallback: { classPropertyName: \"addBlockCallback\", publicName: \"addBlockCallback\", isSignal: true, isRequired: true, transformFunction: null }, moveBlockPositionCallback: { classPropertyName: \"moveBlockPositionCallback\", publicName: \"moveBlockPositionCallback\", isSignal: true, isRequired: true, transformFunction: null } }, ngImport: i0, template: `\n    <div class=\"toolbar-buttons-container\">\n      <div\n        class=\"toolbar-buttons\"\n        #blockListTigger=\"cdkOverlayOrigin\"\n        cdkOverlayOrigin\n        matRipple\n        (click)=\"openBlocksList()\"\n      >\n        <span class=\"material-icons\">add</span>\n      </div>\n      <div\n        class=\"toolbar-buttons\"\n        #blockOptionListTigger=\"cdkOverlayOrigin\"\n        cdkDragHandle\n        cdkOverlayOrigin\n        matRipple\n        (click)=\"openBlockOptionList()\"\n      >\n        <span class=\"material-icons\">drag_indicator</span>\n      </div>\n    </div>\n\n    <!-- Block type search list -->\n    <ng-template\n      cdkConnectedOverlay\n      (overlayOutsideClick)=\"openBlocks.set(false)\"\n      [cdkConnectedOverlayOrigin]=\"blockListTigger\"\n      [cdkConnectedOverlayOpen]=\"openBlocks()\"\n      [cdkConnectedOverlayHasBackdrop]=\"true\"\n      [cdkConnectedOverlayOffsetY]=\"15\"\n      [cdkConnectedOverlayBackdropClass]=\"'cdk-overlay-transparent-backdrop'\"\n    >\n      <toolbar-blocks\n        [supportedBlocks]=\"supportedBlocks()\"\n        (addBlock)=\"addBlock($event)\"\n      ></toolbar-blocks>\n    </ng-template>\n\n    <!-- Options List-->\n    <ng-template\n      cdkConnectedOverlay\n      (overlayOutsideClick)=\"openBlocksOption.set(false)\"\n      [cdkConnectedOverlayOrigin]=\"blockOptionListTigger\"\n      [cdkConnectedOverlayOpen]=\"openBlocksOption()\"\n      [cdkConnectedOverlayHasBackdrop]=\"true\"\n      [cdkConnectedOverlayOffsetX]=\"-49\"\n      [cdkConnectedOverlayOffsetY]=\"15\"\n      [cdkConnectedOverlayBackdropClass]=\"'cdk-overlay-transparent-backdrop'\"\n    >\n      <toolbar-block-options\n        [blockOptionActions]=\"blockOptionActions()\"\n        (handleAction)=\"handleAction($event)\"\n        (moveBlockPosition)=\"moveBlockPosition($event)\"\n      ></toolbar-block-options>\n    </ng-template>\n  `, isInline: true, styles: [\":host .toolbar-buttons-container{position:relative;display:flex;gap:10px}:host .toolbar-buttons{cursor:pointer;width:30px;height:30px;display:flex;justify-content:center;align-items:center;border-radius:4px;margin-bottom:14px;-webkit-user-select:none;user-select:none;color:var(--mat-sys-on-tertiary-container);background:var(--mat-sys-tertiary-container);box-shadow:var(--mat-sys-level2)}:host .toolbar-buttons:hover,:host .toolbar-buttons:focus{background:var(--mat-sys-surface-bright)}@media(min-width:768px){:host{position:absolute;margin-left:-80px;top:0}}\\n\"], dependencies: [{ kind: \"directive\", type: CdkDragHandle, selector: \"[cdkDragHandle]\", inputs: [\"cdkDragHandleDisabled\"] }, { kind: \"directive\", type: MatRipple, selector: \"[mat-ripple], [matRipple]\", inputs: [\"matRippleColor\", \"matRippleUnbounded\", \"matRippleCentered\", \"matRippleRadius\", \"matRippleAnimation\", \"matRippleDisabled\", \"matRippleTrigger\"], exportAs: [\"matRipple\"] }, { kind: \"ngmodule\", type: OverlayModule }, { kind: \"directive\", type: i1.CdkConnectedOverlay, selector: \"[cdk-connected-overlay], [connected-overlay], [cdkConnectedOverlay]\", inputs: [\"cdkConnectedOverlayOrigin\", \"cdkConnectedOverlayPositions\", \"cdkConnectedOverlayPositionStrategy\", \"cdkConnectedOverlayOffsetX\", \"cdkConnectedOverlayOffsetY\", \"cdkConnectedOverlayWidth\", \"cdkConnectedOverlayHeight\", \"cdkConnectedOverlayMinWidth\", \"cdkConnectedOverlayMinHeight\", \"cdkConnectedOverlayBackdropClass\", \"cdkConnectedOverlayPanelClass\", \"cdkConnectedOverlayViewportMargin\", \"cdkConnectedOverlayScrollStrategy\", \"cdkConnectedOverlayOpen\", \"cdkConnectedOverlayDisableClose\", \"cdkConnectedOverlayTransformOriginOn\", \"cdkConnectedOverlayHasBackdrop\", \"cdkConnectedOverlayLockPosition\", \"cdkConnectedOverlayFlexibleDimensions\", \"cdkConnectedOverlayGrowAfterOpen\", \"cdkConnectedOverlayPush\", \"cdkConnectedOverlayDisposeOnNavigation\", \"cdkConnectedOverlayUsePopover\", \"cdkConnectedOverlayMatchWidth\", \"cdkConnectedOverlay\"], outputs: [\"backdropClick\", \"positionChange\", \"attach\", \"detach\", \"overlayKeydown\", \"overlayOutsideClick\"], exportAs: [\"cdkConnectedOverlay\"] }, { kind: \"directive\", type: i1.CdkOverlayOrigin, selector: \"[cdk-overlay-origin], [overlay-origin], [cdkOverlayOrigin]\", exportAs: [\"cdkOverlayOrigin\"] }, { kind: \"component\", type: ToolbarBlockOptionsComponent, selector: \"toolbar-block-options\", inputs: [\"blockOptionActions\"], outputs: [\"handleAction\", \"moveBlockPosition\"] }, { kind: \"component\", type: ToolbarBlocksComponent, selector: \"toolbar-blocks\", inputs: [\"supportedBlocks\"], outputs: [\"addBlock\"] }] });\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"21.1.0\", ngImport: i0, type: ToolbarComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'toolbar', imports: [\n                        CdkDragHandle,\n                        MatRipple,\n                        OverlayModule,\n                        ToolbarBlockOptionsComponent,\n                        ToolbarBlocksComponent,\n                    ], template: `\n    <div class=\"toolbar-buttons-container\">\n      <div\n        class=\"toolbar-buttons\"\n        #blockListTigger=\"cdkOverlayOrigin\"\n        cdkOverlayOrigin\n        matRipple\n        (click)=\"openBlocksList()\"\n      >\n        <span class=\"material-icons\">add</span>\n      </div>\n      <div\n        class=\"toolbar-buttons\"\n        #blockOptionListTigger=\"cdkOverlayOrigin\"\n        cdkDragHandle\n        cdkOverlayOrigin\n        matRipple\n        (click)=\"openBlockOptionList()\"\n      >\n        <span class=\"material-icons\">drag_indicator</span>\n      </div>\n    </div>\n\n    <!-- Block type search list -->\n    <ng-template\n      cdkConnectedOverlay\n      (overlayOutsideClick)=\"openBlocks.set(false)\"\n      [cdkConnectedOverlayOrigin]=\"blockListTigger\"\n      [cdkConnectedOverlayOpen]=\"openBlocks()\"\n      [cdkConnectedOverlayHasBackdrop]=\"true\"\n      [cdkConnectedOverlayOffsetY]=\"15\"\n      [cdkConnectedOverlayBackdropClass]=\"'cdk-overlay-transparent-backdrop'\"\n    >\n      <toolbar-blocks\n        [supportedBlocks]=\"supportedBlocks()\"\n        (addBlock)=\"addBlock($event)\"\n      ></toolbar-blocks>\n    </ng-template>\n\n    <!-- Options List-->\n    <ng-template\n      cdkConnectedOverlay\n      (overlayOutsideClick)=\"openBlocksOption.set(false)\"\n      [cdkConnectedOverlayOrigin]=\"blockOptionListTigger\"\n      [cdkConnectedOverlayOpen]=\"openBlocksOption()\"\n      [cdkConnectedOverlayHasBackdrop]=\"true\"\n      [cdkConnectedOverlayOffsetX]=\"-49\"\n      [cdkConnectedOverlayOffsetY]=\"15\"\n      [cdkConnectedOverlayBackdropClass]=\"'cdk-overlay-transparent-backdrop'\"\n    >\n      <toolbar-block-options\n        [blockOptionActions]=\"blockOptionActions()\"\n        (handleAction)=\"handleAction($event)\"\n        (moveBlockPosition)=\"moveBlockPosition($event)\"\n      ></toolbar-block-options>\n    </ng-template>\n  `, styles: [\":host .toolbar-buttons-container{position:relative;display:flex;gap:10px}:host .toolbar-buttons{cursor:pointer;width:30px;height:30px;display:flex;justify-content:center;align-items:center;border-radius:4px;margin-bottom:14px;-webkit-user-select:none;user-select:none;color:var(--mat-sys-on-tertiary-container);background:var(--mat-sys-tertiary-container);box-shadow:var(--mat-sys-level2)}:host .toolbar-buttons:hover,:host .toolbar-buttons:focus{background:var(--mat-sys-surface-bright)}@media(min-width:768px){:host{position:absolute;margin-left:-80px;top:0}}\\n\"] }]\n        }], propDecorators: { componentContextPositionIndex: [{ type: i0.Input, args: [{ isSignal: true, alias: \"componentContextPositionIndex\", required: true }] }], supportedBlocks: [{ type: i0.Input, args: [{ isSignal: true, alias: \"supportedBlocks\", required: true }] }], blockOptionActions: [{ type: i0.Input, args: [{ isSignal: true, alias: \"blockOptionActions\", required: false }] }], actionCallback: [{ type: i0.Input, args: [{ isSignal: true, alias: \"actionCallback\", required: false }] }], formControlName: [{ type: i0.Input, args: [{ isSignal: true, alias: \"formControlName\", required: false }] }], addBlockCallback: [{ type: i0.Input, args: [{ isSignal: true, alias: \"addBlockCallback\", required: true }] }], moveBlockPositionCallback: [{ type: i0.Input, args: [{ isSignal: true, alias: \"moveBlockPositionCallback\", required: true }] }] } });\n\nclass BlockMovementService {\n    componentRefMap = new Map();\n    clearComponentRefs() {\n        this.componentRefMap.clear();\n    }\n    getNgxEditorJsBlocks() {\n        return of(Array.from(this.componentRefMap.values()));\n    }\n    newComponentAttached(componentRef) {\n        this.componentRefMap.set(componentRef.instance, componentRef);\n    }\n    updateComponentIndices(ngxEditor) {\n        return from(this.componentRefMap.values()).pipe(tap((componentRef) => componentRef.setInput('sortIndex', ngxEditor.indexOf(componentRef.hostView))));\n    }\n    moveBlockComponentPosition(ngxEditor, action, index) {\n        return of(Array.from(this.componentRefMap.values())).pipe(map((componentRefs) => componentRefs.find((componentRef) => ngxEditor.indexOf(componentRef.hostView) === index - 1)), filter((componentRef) => !!componentRef), map((componentRef) => ({\n            componentRef,\n            totalComponents: ngxEditor.length - 1,\n            currentIndex: ngxEditor.indexOf(componentRef.hostView),\n            newIndex: (index) => action === MovePositionActions.UP ? index - 1 : index + 1,\n        })), map(({ componentRef, totalComponents, currentIndex, newIndex }) => ({\n            componentRef,\n            currentIndex,\n            newIndex: Math.max(0, Math.min(newIndex(currentIndex), totalComponents)),\n        })), filter(({ currentIndex, newIndex }) => currentIndex !== newIndex), tap(({ componentRef, newIndex }) => {\n            ngxEditor.move(componentRef.hostView, newIndex);\n            componentRef.setInput('sortIndex', newIndex);\n            componentRef.setInput('autofocus', true);\n        }), defaultIfEmpty(false));\n    }\n    removeBlockComponent(ngxEditor, index, clear = false) {\n        return of(Array.from(this.componentRefMap.values())).pipe(filter((componentRefs) => clear || componentRefs.length !== 1), map((componentRefs) => componentRefs.find((componentRef) => ngxEditor.indexOf(componentRef.hostView) === index - 1)), map((componentRef) => this.componentRefMap.delete(componentRef?.instance ?? {})), tap((successful) => successful && ngxEditor.remove(index - 1)), defaultIfEmpty(false));\n    }\n    static fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"21.1.0\", ngImport: i0, type: BlockMovementService, deps: [], target: i0.FactoryTarget.Injectable });\n    static prov = i0.ngDeclareInjectable({ minVersion: \"12.0.0\", version: \"21.1.0\", ngImport: i0, type: BlockMovementService, providedIn: 'root' });\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"21.1.0\", ngImport: i0, type: BlockMovementService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root',\n                }]\n        }] });\n\nconst createUID = () => Math.random().toString(36).substring(7);\nclass EditorJsService {\n    formBuilder = inject(FormBuilder);\n    blockMovementService = inject(BlockMovementService);\n    componentRefMap = new Map();\n    ngxEditor;\n    formGroup = this.formBuilder.group({});\n    // TODO - Handle this idiomatically\n    setNgxEditor(ngxEditor) {\n        this.ngxEditor = ngxEditor;\n    }\n    getBlocks$() {\n        return new Observable((observer) => {\n            lastValueFrom(this.blockMovementService.getNgxEditorJsBlocks().pipe(map((componentRefs) => componentRefs.map(({ instance }) => ({\n                blockId: instance.formControlName(),\n                sortIndex: instance.sortIndex(),\n                componentInstanceName: instance.componentInstanceName,\n                savedAction: instance.savedAction(),\n                dataClean: instance.formGroup().get(instance.formControlName())\n                    ?.value,\n            }))), map((blocks) => blocks.sort((a, b) => a.sortIndex - b.sortIndex)))).then((blocks) => {\n                observer.next(blocks);\n                observer.complete();\n            });\n        });\n    }\n    createNgxEditorJsBlockWithComponent(blockComponent, componentContextPositionIndex) {\n        return of({\n            blockId: createUID(),\n            sortIndex: componentContextPositionIndex,\n            componentInstanceName: blockComponent.name,\n            component: blockComponent,\n            // TODO - Force content-type for dataClean? JSON, HTML, etc.\n            // TODO - And maybe rename dataClean to just data?\n            dataClean: '',\n            autofocus: true,\n        });\n    }\n    addBlockComponent(ngxEditorJsBlock, emitEvent = true) {\n        return forkJoin([\n            this.createFormGroupControl(ngxEditorJsBlock, emitEvent),\n            this.attachComponent(ngxEditorJsBlock),\n            this.blockMovementService.updateComponentIndices(this.ngxEditor),\n        ]).pipe(map(() => void 0));\n    }\n    createFormGroupControl({ blockId, dataClean, }, emitEvent = true) {\n        return of(this.formBuilder.control(dataClean, [])).pipe(tap((formControl) => this.formGroup.addControl(blockId, formControl, { emitEvent })));\n    }\n    attachComponent({ component, blockId, autofocus, savedAction, sortIndex: index, }) {\n        return of(blockId).pipe(map((controlName) => {\n            const componentRef = this.ngxEditor.createComponent(component, {\n                index,\n            });\n            componentRef.location.nativeElement\n                .classList.add('ngx-editor-js2-block');\n            componentRef.setInput('sortIndex', index);\n            componentRef.setInput('formGroup', this.formGroup);\n            componentRef.setInput('formControlName', controlName);\n            componentRef.setInput('autofocus', autofocus);\n            savedAction && componentRef.instance.actionCallback?.(savedAction, false);\n            this.blockMovementService.newComponentAttached(componentRef);\n            return componentRef;\n        }));\n    }\n    determineMovePositionAction(action, index, formControlName) {\n        return iif(() => action === MovePositionActions.DELETE, this.removeBlockComponent(index, formControlName), this.blockMovementService.moveBlockComponentPosition(this.ngxEditor, action, index)).pipe(switchMap(() => this.blockMovementService.updateComponentIndices(this.ngxEditor)));\n    }\n    moveBlockComponentPosition(previousIndex, currentIndex) {\n        return of(this.ngxEditor.get(previousIndex)).pipe(filter((viewRef) => !!viewRef), tap((viewRef) => {\n            this.ngxEditor.move(viewRef, currentIndex);\n        }), switchMap(() => this.blockMovementService.updateComponentIndices(this.ngxEditor)), defaultIfEmpty(false));\n    }\n    removeBlockComponent(index, formControlName, clear = false) {\n        return combineLatest([\n            this.blockMovementService.removeBlockComponent(this.ngxEditor, index, clear),\n            of(this.formGroup.removeControl(formControlName, { emitEvent: !clear })),\n        ]);\n    }\n    clearBlocks() {\n        return this.blockMovementService.getNgxEditorJsBlocks().pipe(filter((componentRefs) => componentRefs.length > 0), map((componentRefs) => componentRefs.sort((a, b) => a.instance.sortIndex() - b.instance.sortIndex())), mergeMap((componentRefs) => forkJoin(Array.from(componentRefs.values()).map((componentRef) => this.removeBlockComponent(componentRef.instance.sortIndex() + 1, componentRef.instance.formControlName(), true)))), switchMap(() => this.blockMovementService.updateComponentIndices(this.ngxEditor)), tap(() => {\n            this.blockMovementService.clearComponentRefs();\n            this.ngxEditor.clear();\n        }), defaultIfEmpty(false));\n    }\n    static fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"21.1.0\", ngImport: i0, type: EditorJsService, deps: [], target: i0.FactoryTarget.Injectable });\n    static prov = i0.ngDeclareInjectable({ minVersion: \"12.0.0\", version: \"21.1.0\", ngImport: i0, type: EditorJsService, providedIn: 'root' });\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"21.1.0\", ngImport: i0, type: EditorJsService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root',\n                }]\n        }] });\n\nclass ToolFabService {\n    ngxEditorJs2Service = inject(NgxEditorJs2Service);\n    editorJsService = inject(EditorJsService);\n    // I need to explain this in detail so the future me can understand this.\n    componentContext = new BehaviorSubject(null);\n    toolbarComponentRef$ = combineLatest({\n        componentContext: this.componentContext.asObservable(),\n        supportedBlocks: this.ngxEditorJs2Service.supportedBlocks$,\n    }).pipe(filter(({ componentContext }) => componentContext !== null), distinctUntilChanged(({ componentContext: previous }, { componentContext: current }) => previous.index !== current.index ||\n        previous.viewContainerRef !== current.viewContainerRef\n        ? (previous.viewContainerRef.clear(), false)\n        : true), map(({ componentContext, supportedBlocks }) => {\n        const { index, viewContainerRef, blockOptionActions, actionCallback, formControlName, } = componentContext;\n        // TODO We will need to create a ToolbarBottomRailComponent to handle the mobile view\n        const componentRef = viewContainerRef.createComponent(ToolbarComponent);\n        componentRef.setInput('componentContextPositionIndex', index + 1);\n        componentRef.setInput('supportedBlocks', supportedBlocks);\n        componentRef.setInput('blockOptionActions', blockOptionActions);\n        componentRef.setInput('actionCallback', actionCallback);\n        componentRef.setInput('formControlName', formControlName);\n        componentRef.setInput('addBlockCallback', this.addBlock.bind(this));\n        componentRef.setInput('moveBlockPositionCallback', this.movePositionAction.bind(this));\n        return componentRef;\n    }));\n    addBlock(block, index) {\n        return this.editorJsService\n            .createNgxEditorJsBlockWithComponent(block, index)\n            .pipe(switchMap((block) => this.editorJsService.addBlockComponent(block)));\n    }\n    movePositionAction(action, index, formControlName) {\n        return lastValueFrom(this.editorJsService.determineMovePositionAction(action, index, formControlName));\n    }\n    static fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"21.1.0\", ngImport: i0, type: ToolFabService, deps: [], target: i0.FactoryTarget.Injectable });\n    static prov = i0.ngDeclareInjectable({ minVersion: \"12.0.0\", version: \"21.1.0\", ngImport: i0, type: ToolFabService, providedIn: 'root' });\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"21.1.0\", ngImport: i0, type: ToolFabService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root',\n                }]\n        }] });\n\nclass ToolbarFabDirective {\n    toolFabService = inject(ToolFabService);\n    viewContainerRef = inject(ViewContainerRef);\n    autofocus = input(...(ngDevMode ? [undefined, { debugName: \"autofocus\" }] : []));\n    blockOptionActions = input(...(ngDevMode ? [undefined, { debugName: \"blockOptionActions\" }] : []));\n    actionCallback = input.required(...(ngDevMode ? [{ debugName: \"actionCallback\" }] : []));\n    componentContextPositionIndex = input.required(...(ngDevMode ? [{ debugName: \"componentContextPositionIndex\" }] : []));\n    formControlName = input.required(...(ngDevMode ? [{ debugName: \"formControlName\" }] : []));\n    onMouseEnter() {\n        this.toolFabService.componentContext.next({\n            viewContainerRef: this.viewContainerRef,\n            blockOptionActions: this.blockOptionActions() ?? [],\n            actionCallback: this.actionCallback(),\n            index: this.componentContextPositionIndex(),\n            formControlName: this.formControlName(),\n        });\n    }\n    constructor() {\n        effect(() => {\n            this.autofocus() && this.onMouseEnter();\n        });\n    }\n    static fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"21.1.0\", ngImport: i0, type: ToolbarFabDirective, deps: [], target: i0.FactoryTarget.Directive });\n    static dir = i0.ngDeclareDirective({ minVersion: \"17.1.0\", version: \"21.1.0\", type: ToolbarFabDirective, isStandalone: true, selector: \"[toolbarFab]\", inputs: { autofocus: { classPropertyName: \"autofocus\", publicName: \"autofocus\", isSignal: true, isRequired: false, transformFunction: null }, blockOptionActions: { classPropertyName: \"blockOptionActions\", publicName: \"blockOptionActions\", isSignal: true, isRequired: false, transformFunction: null }, actionCallback: { classPropertyName: \"actionCallback\", publicName: \"actionCallback\", isSignal: true, isRequired: true, transformFunction: null }, componentContextPositionIndex: { classPropertyName: \"componentContextPositionIndex\", publicName: \"componentContextPositionIndex\", isSignal: true, isRequired: true, transformFunction: null }, formControlName: { classPropertyName: \"formControlName\", publicName: \"formControlName\", isSignal: true, isRequired: true, transformFunction: null } }, host: { listeners: { \"mouseenter\": \"onMouseEnter()\" } }, ngImport: i0 });\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"21.1.0\", ngImport: i0, type: ToolbarFabDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[toolbarFab]',\n                }]\n        }], ctorParameters: () => [], propDecorators: { autofocus: [{ type: i0.Input, args: [{ isSignal: true, alias: \"autofocus\", required: false }] }], blockOptionActions: [{ type: i0.Input, args: [{ isSignal: true, alias: \"blockOptionActions\", required: false }] }], actionCallback: [{ type: i0.Input, args: [{ isSignal: true, alias: \"actionCallback\", required: true }] }], componentContextPositionIndex: [{ type: i0.Input, args: [{ isSignal: true, alias: \"componentContextPositionIndex\", required: true }] }], formControlName: [{ type: i0.Input, args: [{ isSignal: true, alias: \"formControlName\", required: true }] }], onMouseEnter: [{\n                type: HostListener,\n                args: ['mouseenter']\n            }] } });\n\nclass CleanPasteDataDirective {\n    onPaste(event) {\n        event.preventDefault();\n        const text = event.clipboardData?.getData('text/plain');\n        document.execCommand('insertText', false, text);\n    }\n    static fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"21.1.0\", ngImport: i0, type: CleanPasteDataDirective, deps: [], target: i0.FactoryTarget.Directive });\n    static dir = i0.ngDeclareDirective({ minVersion: \"14.0.0\", version: \"21.1.0\", type: CleanPasteDataDirective, isStandalone: true, selector: \"[cleanPasteData]\", host: { listeners: { \"paste\": \"onPaste($event)\" } }, ngImport: i0 });\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"21.1.0\", ngImport: i0, type: CleanPasteDataDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[cleanPasteData]',\n                }]\n        }], propDecorators: { onPaste: [{\n                type: HostListener,\n                args: ['paste', ['$event']]\n            }] } });\n\nclass HeaderBlockComponent {\n    sortIndex = input(0, ...(ngDevMode ? [{ debugName: \"sortIndex\" }] : []));\n    componentInstanceName = 'HeaderBlockComponent';\n    autofocus = input(true, ...(ngDevMode ? [{ debugName: \"autofocus\" }] : []));\n    formGroup = input.required(...(ngDevMode ? [{ debugName: \"formGroup\" }] : []));\n    formControlName = input.required(...(ngDevMode ? [{ debugName: \"formControlName\" }] : []));\n    blockOptionActions = input([\n        { action: 'h1', text: 'H1' },\n        { action: 'h2', text: 'H2' },\n        { action: 'h3', text: 'H3' },\n        { action: 'h4', text: 'H4' },\n        { action: 'h5', text: 'H5' },\n        { action: 'h6', text: 'H6' },\n    ], ...(ngDevMode ? [{ debugName: \"blockOptionActions\" }] : []));\n    savedAction = signal('h1', ...(ngDevMode ? [{ debugName: \"savedAction\" }] : []));\n    actionCallbackBind = this.actionCallback.bind(this);\n    actionCallback(selectedAction, updateFormValue = true) {\n        this.savedAction.set(selectedAction);\n        updateFormValue && this.formGroup().updateValueAndValidity();\n    }\n    static fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"21.1.0\", ngImport: i0, type: HeaderBlockComponent, deps: [], target: i0.FactoryTarget.Component });\n    static cmp = i0.ngDeclareComponent({ minVersion: \"17.0.0\", version: \"21.1.0\", type: HeaderBlockComponent, isStandalone: true, selector: \"header-block\", inputs: { sortIndex: { classPropertyName: \"sortIndex\", publicName: \"sortIndex\", isSignal: true, isRequired: false, transformFunction: null }, autofocus: { classPropertyName: \"autofocus\", publicName: \"autofocus\", isSignal: true, isRequired: false, transformFunction: null }, formGroup: { classPropertyName: \"formGroup\", publicName: \"formGroup\", isSignal: true, isRequired: true, transformFunction: null }, formControlName: { classPropertyName: \"formControlName\", publicName: \"formControlName\", isSignal: true, isRequired: true, transformFunction: null }, blockOptionActions: { classPropertyName: \"blockOptionActions\", publicName: \"blockOptionActions\", isSignal: true, isRequired: false, transformFunction: null } }, host: { classAttribute: \"cdk-drag-animating\" }, hostDirectives: [{ directive: i1$1.CdkDrag }], ngImport: i0, template: `\n@switch (savedAction()) {\n  @case ('h1') {\n    <h1>\n      <ng-container *ngTemplateOutlet=\"sharedHeaderTemplate\"></ng-container>\n    </h1>\n  }\n  @case ('h2') {\n    <h2>\n      <ng-container *ngTemplateOutlet=\"sharedHeaderTemplate\"></ng-container>\n    </h2>\n  }\n  @case ('h3') {\n    <h3>\n      <ng-container *ngTemplateOutlet=\"sharedHeaderTemplate\"></ng-container>\n    </h3>\n  }\n  @case ('h4') {\n    <h4>\n      <ng-container *ngTemplateOutlet=\"sharedHeaderTemplate\"></ng-container>\n    </h4>\n  }\n  @case ('h5') {\n    <h5>\n      <ng-container *ngTemplateOutlet=\"sharedHeaderTemplate\"></ng-container>\n    </h5>\n  }\n  @case ('h6') {\n    <h6>\n      <ng-container *ngTemplateOutlet=\"sharedHeaderTemplate\"></ng-container>\n    </h6>\n  }\n}\n\n<ng-template [formGroup]=\"formGroup()\" #sharedHeaderTemplate>\n  <span\n    controlAccessor\n    cleanPasteData\n    contentEditable\n    toolbarFab\n    [defaultValue]=\"formGroup().get(formControlName())?.value\"\n    [actionCallback]=\"actionCallbackBind\"\n    [blockOptionActions]=\"blockOptionActions()\"\n    [autofocus]=\"autofocus()\"\n    [formControlName]=\"formControlName()\"\n    [componentContextPositionIndex]=\"sortIndex()\"\n  ></span>\n</ng-template>\n`, isInline: true, styles: [\":host{display:block;position:relative}:host :is(h1,h2,h3,h4,h5,h6){margin:0}:host :is(h1,h2,h3,h4,h5,h6) span{display:block;line-height:inherit}:host h1>*{font:var(--mat-sys-display-large)}:host h2>*{font:var(--mat-sys-display-medium)}:host h3>*{font:var(--mat-sys-display-small)}:host h4>*{font:var(--mat-sys-headline-large)}:host h5>*{font:var(--mat-sys-headline-medium)}:host h6>*{font:var(--mat-sys-headline-small)}\\n\"], dependencies: [{ kind: \"ngmodule\", type: ReactiveFormsModule }, { kind: \"directive\", type: i2.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { kind: \"directive\", type: i2.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],[formArray],form:not([ngNoForm]),[ngForm]\" }, { kind: \"directive\", type: i2.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { kind: \"directive\", type: i2.FormControlName, selector: \"[formControlName]\", inputs: [\"formControlName\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"] }, { kind: \"directive\", type: ControlAccessorDirective, selector: \"[controlAccessor]\", inputs: [\"defaultValue\"] }, { kind: \"directive\", type: AutofocusDirective, selector: \"[autofocus]\", inputs: [\"autofocus\"] }, { kind: \"directive\", type: ToolbarFabDirective, selector: \"[toolbarFab]\", inputs: [\"autofocus\", \"blockOptionActions\", \"actionCallback\", \"componentContextPositionIndex\", \"formControlName\"] }, { kind: \"directive\", type: CleanPasteDataDirective, selector: \"[cleanPasteData]\" }, { kind: \"directive\", type: NgTemplateOutlet, selector: \"[ngTemplateOutlet]\", inputs: [\"ngTemplateOutletContext\", \"ngTemplateOutlet\", \"ngTemplateOutletInjector\"] }] });\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"21.1.0\", ngImport: i0, type: HeaderBlockComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'header-block', host: { class: 'cdk-drag-animating' }, hostDirectives: [CdkDrag], imports: [\n                        ReactiveFormsModule,\n                        ControlAccessorDirective,\n                        AutofocusDirective,\n                        ToolbarFabDirective,\n                        CleanPasteDataDirective,\n                        NgTemplateOutlet\n                    ], template: `\n@switch (savedAction()) {\n  @case ('h1') {\n    <h1>\n      <ng-container *ngTemplateOutlet=\"sharedHeaderTemplate\"></ng-container>\n    </h1>\n  }\n  @case ('h2') {\n    <h2>\n      <ng-container *ngTemplateOutlet=\"sharedHeaderTemplate\"></ng-container>\n    </h2>\n  }\n  @case ('h3') {\n    <h3>\n      <ng-container *ngTemplateOutlet=\"sharedHeaderTemplate\"></ng-container>\n    </h3>\n  }\n  @case ('h4') {\n    <h4>\n      <ng-container *ngTemplateOutlet=\"sharedHeaderTemplate\"></ng-container>\n    </h4>\n  }\n  @case ('h5') {\n    <h5>\n      <ng-container *ngTemplateOutlet=\"sharedHeaderTemplate\"></ng-container>\n    </h5>\n  }\n  @case ('h6') {\n    <h6>\n      <ng-container *ngTemplateOutlet=\"sharedHeaderTemplate\"></ng-container>\n    </h6>\n  }\n}\n\n<ng-template [formGroup]=\"formGroup()\" #sharedHeaderTemplate>\n  <span\n    controlAccessor\n    cleanPasteData\n    contentEditable\n    toolbarFab\n    [defaultValue]=\"formGroup().get(formControlName())?.value\"\n    [actionCallback]=\"actionCallbackBind\"\n    [blockOptionActions]=\"blockOptionActions()\"\n    [autofocus]=\"autofocus()\"\n    [formControlName]=\"formControlName()\"\n    [componentContextPositionIndex]=\"sortIndex()\"\n  ></span>\n</ng-template>\n`, styles: [\":host{display:block;position:relative}:host :is(h1,h2,h3,h4,h5,h6){margin:0}:host :is(h1,h2,h3,h4,h5,h6) span{display:block;line-height:inherit}:host h1>*{font:var(--mat-sys-display-large)}:host h2>*{font:var(--mat-sys-display-medium)}:host h3>*{font:var(--mat-sys-display-small)}:host h4>*{font:var(--mat-sys-headline-large)}:host h5>*{font:var(--mat-sys-headline-medium)}:host h6>*{font:var(--mat-sys-headline-small)}\\n\"] }]\n        }], propDecorators: { sortIndex: [{ type: i0.Input, args: [{ isSignal: true, alias: \"sortIndex\", required: false }] }], autofocus: [{ type: i0.Input, args: [{ isSignal: true, alias: \"autofocus\", required: false }] }], formGroup: [{ type: i0.Input, args: [{ isSignal: true, alias: \"formGroup\", required: true }] }], formControlName: [{ type: i0.Input, args: [{ isSignal: true, alias: \"formControlName\", required: true }] }], blockOptionActions: [{ type: i0.Input, args: [{ isSignal: true, alias: \"blockOptionActions\", required: false }] }] } });\n\nclass ParagraphBlockComponent {\n    sortIndex = input(0, ...(ngDevMode ? [{ debugName: \"sortIndex\" }] : []));\n    componentInstanceName = 'ParagraphBlockComponent';\n    autofocus = input(true, ...(ngDevMode ? [{ debugName: \"autofocus\" }] : []));\n    formGroup = input.required(...(ngDevMode ? [{ debugName: \"formGroup\" }] : []));\n    formControlName = input.required(...(ngDevMode ? [{ debugName: \"formControlName\" }] : []));\n    blockOptionActions = input([\n        { action: 'small', icon: 'density_small' },\n        { action: 'medium', icon: 'density_medium' },\n        { action: 'large', icon: 'density_large' },\n        { action: 'title-small', text: 'TS' },\n        { action: 'title-medium', text: 'TM' },\n        { action: 'title-large', text: 'TL' },\n    ], ...(ngDevMode ? [{ debugName: \"blockOptionActions\" }] : []));\n    savedAction = signal('medium', ...(ngDevMode ? [{ debugName: \"savedAction\" }] : []));\n    actionCallbackBind = this.actionCallback.bind(this);\n    actionCallback(action, updateFormValue = true) {\n        this.savedAction.update(() => action);\n        updateFormValue && this.formGroup().updateValueAndValidity();\n    }\n    static fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"21.1.0\", ngImport: i0, type: ParagraphBlockComponent, deps: [], target: i0.FactoryTarget.Component });\n    static cmp = i0.ngDeclareComponent({ minVersion: \"17.1.0\", version: \"21.1.0\", type: ParagraphBlockComponent, isStandalone: true, selector: \"paragraph-block\", inputs: { sortIndex: { classPropertyName: \"sortIndex\", publicName: \"sortIndex\", isSignal: true, isRequired: false, transformFunction: null }, autofocus: { classPropertyName: \"autofocus\", publicName: \"autofocus\", isSignal: true, isRequired: false, transformFunction: null }, formGroup: { classPropertyName: \"formGroup\", publicName: \"formGroup\", isSignal: true, isRequired: true, transformFunction: null }, formControlName: { classPropertyName: \"formControlName\", publicName: \"formControlName\", isSignal: true, isRequired: true, transformFunction: null }, blockOptionActions: { classPropertyName: \"blockOptionActions\", publicName: \"blockOptionActions\", isSignal: true, isRequired: false, transformFunction: null } }, host: { classAttribute: \"cdk-drag-animating\" }, hostDirectives: [{ directive: i1$1.CdkDrag }], ngImport: i0, template: `\n    <ng-container [formGroup]=\"formGroup()\">\n      <p\n        controlAccessor\n        contentEditable\n        toolbarFab\n        cleanPasteData\n        [ngClass]=\"savedAction()\"\n        [defaultValue]=\"formGroup().get(formControlName())?.value\"\n        [actionCallback]=\"actionCallbackBind\"\n        [autofocus]=\"autofocus()\"\n        [blockOptionActions]=\"blockOptionActions()\"\n        [formControlName]=\"formControlName()\"\n        [componentContextPositionIndex]=\"sortIndex()\"\n      ></p>\n    </ng-container>\n  `, isInline: true, styles: [\":host{display:block;position:relative}:host .small{font:var(--mat-sys-body-small)}:host .medium{font:var(--mat-sys-body-medium)}:host .large{font:var(--mat-sys-body-large)}:host .title-small{font:var(--mat-sys-title-small)}:host .title-medium{font:var(--mat-sys-title-medium)}:host .title-large{font:var(--mat-sys-title-large)}\\n\"], dependencies: [{ kind: \"ngmodule\", type: ReactiveFormsModule }, { kind: \"directive\", type: i2.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { kind: \"directive\", type: i2.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],[formArray],form:not([ngNoForm]),[ngForm]\" }, { kind: \"directive\", type: i2.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { kind: \"directive\", type: i2.FormControlName, selector: \"[formControlName]\", inputs: [\"formControlName\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"] }, { kind: \"directive\", type: ControlAccessorDirective, selector: \"[controlAccessor]\", inputs: [\"defaultValue\"] }, { kind: \"directive\", type: AutofocusDirective, selector: \"[autofocus]\", inputs: [\"autofocus\"] }, { kind: \"directive\", type: ToolbarFabDirective, selector: \"[toolbarFab]\", inputs: [\"autofocus\", \"blockOptionActions\", \"actionCallback\", \"componentContextPositionIndex\", \"formControlName\"] }, { kind: \"directive\", type: CleanPasteDataDirective, selector: \"[cleanPasteData]\" }, { kind: \"directive\", type: NgClass, selector: \"[ngClass]\", inputs: [\"class\", \"ngClass\"] }] });\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"21.1.0\", ngImport: i0, type: ParagraphBlockComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'paragraph-block', host: { class: 'cdk-drag-animating' }, hostDirectives: [CdkDrag], imports: [\n                        ReactiveFormsModule,\n                        ControlAccessorDirective,\n                        AutofocusDirective,\n                        ToolbarFabDirective,\n                        CleanPasteDataDirective,\n                        NgClass,\n                    ], template: `\n    <ng-container [formGroup]=\"formGroup()\">\n      <p\n        controlAccessor\n        contentEditable\n        toolbarFab\n        cleanPasteData\n        [ngClass]=\"savedAction()\"\n        [defaultValue]=\"formGroup().get(formControlName())?.value\"\n        [actionCallback]=\"actionCallbackBind\"\n        [autofocus]=\"autofocus()\"\n        [blockOptionActions]=\"blockOptionActions()\"\n        [formControlName]=\"formControlName()\"\n        [componentContextPositionIndex]=\"sortIndex()\"\n      ></p>\n    </ng-container>\n  `, styles: [\":host{display:block;position:relative}:host .small{font:var(--mat-sys-body-small)}:host .medium{font:var(--mat-sys-body-medium)}:host .large{font:var(--mat-sys-body-large)}:host .title-small{font:var(--mat-sys-title-small)}:host .title-medium{font:var(--mat-sys-title-medium)}:host .title-large{font:var(--mat-sys-title-large)}\\n\"] }]\n        }], propDecorators: { sortIndex: [{ type: i0.Input, args: [{ isSignal: true, alias: \"sortIndex\", required: false }] }], autofocus: [{ type: i0.Input, args: [{ isSignal: true, alias: \"autofocus\", required: false }] }], formGroup: [{ type: i0.Input, args: [{ isSignal: true, alias: \"formGroup\", required: true }] }], formControlName: [{ type: i0.Input, args: [{ isSignal: true, alias: \"formControlName\", required: true }] }], blockOptionActions: [{ type: i0.Input, args: [{ isSignal: true, alias: \"blockOptionActions\", required: false }] }] } });\n\nconst NGX_EDITORJS_OPTIONS = new InjectionToken('NGX_EDITORJS_OPTIONS');\nclass NgxEditorJs2Service {\n    editorJsService = inject(EditorJsService);\n    consumerSupportedBlocks = new BehaviorSubject(inject(NGX_EDITORJS_OPTIONS, { optional: true })?.consumerSupportedBlocks ??\n        []);\n    internalSupportedBlocks = new BehaviorSubject([\n        {\n            name: 'Paragraph',\n            component: ParagraphBlockComponent,\n            componentInstanceName: 'ParagraphBlockComponent',\n        },\n        {\n            name: 'Header',\n            component: HeaderBlockComponent,\n            componentInstanceName: 'HeaderBlockComponent',\n        },\n    ]);\n    supportedBlocks$ = combineLatest([\n        this.internalSupportedBlocks.asObservable(),\n        this.consumerSupportedBlocks.asObservable(),\n    ]).pipe(map(([internal, consumer]) => [...internal, ...consumer]));\n    blocksToLoad = new BehaviorSubject([]);\n    loadBlocks$ = this.blocksToLoad.asObservable().pipe(delay(0), exhaustMap((blocks) => this.clearBlocksFromEditorJs(blocks)), map(([blocks]) => this.determineToloadDefaultBlocks(blocks)), map((blocks) => this.removeDuplicateBlocksWithSameIds(blocks)), map((blocks) => this.sortBlocks(blocks)), switchMap((blocks) => this.combineSupportBlocks(blocks)), map(([blocks, supportedBlocks]) => this.createALookupMapForSupportedBlocks(blocks, supportedBlocks)), map(({ blocks, supportedBlocksMap }) => this.findAndMarshalBlocksComponent(blocks, supportedBlocksMap)), mergeMap((blocks) => this.addBlocksToEditorJs(blocks).pipe(map(() => blocks))));\n    clearBlocksFromEditorJs(blocks) {\n        return forkJoin([of(blocks), this.editorJsService.clearBlocks()]);\n    }\n    determineToloadDefaultBlocks(blocks) {\n        return blocks.length > 0 ? blocks : this.loadDefaultBlocks();\n    }\n    loadDefaultBlocks() {\n        return [\n            {\n                blockId: 'tmdjr',\n                sortIndex: 0,\n                componentInstanceName: 'HeaderBlockComponent',\n                dataClean: \"Let's get started... \",\n                savedAction: 'h1',\n            },\n        ];\n    }\n    removeDuplicateBlocksWithSameIds(blocks) {\n        return Array.from(new Map(blocks.map((block) => [block.blockId, block])).values());\n    }\n    sortBlocks(blocks) {\n        return blocks.sort((a, b) => a.sortIndex - b.sortIndex);\n    }\n    combineSupportBlocks(blocks) {\n        return combineLatest([of(blocks), this.supportedBlocks$]);\n    }\n    createALookupMapForSupportedBlocks(blocks, supportedBlocks) {\n        return {\n            blocks,\n            supportedBlocksMap: new Map(supportedBlocks.map((sb) => [sb.componentInstanceName, sb.component])),\n        };\n    }\n    findAndMarshalBlocksComponent(blocks, supportedBlocksMap) {\n        return blocks.map((block) => ({\n            ...block,\n            component: supportedBlocksMap.get(block.componentInstanceName) ??\n                HeaderBlockComponent,\n        }));\n    }\n    addBlocksToEditorJs(blocks) {\n        return combineLatest(blocks.map((block) => this.editorJsService.addBlockComponent(block, false)));\n    }\n    static fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"21.1.0\", ngImport: i0, type: NgxEditorJs2Service, deps: [], target: i0.FactoryTarget.Injectable });\n    static prov = i0.ngDeclareInjectable({ minVersion: \"12.0.0\", version: \"21.1.0\", ngImport: i0, type: NgxEditorJs2Service, providedIn: 'root' });\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"21.1.0\", ngImport: i0, type: NgxEditorJs2Service, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root',\n                }]\n        }] });\n\nclass EditorJsComponent {\n    editorJsService = inject(EditorJsService);\n    ngxEditorJs2Service = inject(NgxEditorJs2Service);\n    bootstrapEditorJs = input(...(ngDevMode ? [undefined, { debugName: \"bootstrapEditorJs\" }] : []));\n    blocks = input.required({ ...(ngDevMode ? { debugName: \"blocks\" } : {}), transform: (value) => this.ngxEditorJs2Service.blocksToLoad.next(value) });\n    ngxEditor = viewChild.required('ngxEditor', { read: ViewContainerRef });\n    constructor() {\n        effect(() => {\n            this.editorJsService.setNgxEditor(this.ngxEditor());\n        });\n    }\n    drop(event) {\n        void lastValueFrom(this.editorJsService.moveBlockComponentPosition(event.previousIndex, event.currentIndex).pipe(tap(() => this.editorJsService.formGroup.updateValueAndValidity())));\n    }\n    static fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"21.1.0\", ngImport: i0, type: EditorJsComponent, deps: [], target: i0.FactoryTarget.Component });\n    static cmp = i0.ngDeclareComponent({ minVersion: \"17.2.0\", version: \"21.1.0\", type: EditorJsComponent, isStandalone: true, selector: \"editor-js\", inputs: { bootstrapEditorJs: { classPropertyName: \"bootstrapEditorJs\", publicName: \"bootstrapEditorJs\", isSignal: true, isRequired: false, transformFunction: null }, blocks: { classPropertyName: \"blocks\", publicName: \"blocks\", isSignal: true, isRequired: true, transformFunction: null } }, viewQueries: [{ propertyName: \"ngxEditor\", first: true, predicate: [\"ngxEditor\"], descendants: true, read: ViewContainerRef, isSignal: true }], ngImport: i0, template: `\n    <div cdkDropList class=\"block-list\" (cdkDropListDropped)=\"drop($event)\" >\n      <ng-container #ngxEditor></ng-container>\n    </div>\n  `, isInline: true, styles: [\":host{display:block}:host .block-list{min-height:60px}\\n\"], dependencies: [{ kind: \"directive\", type: CdkDropList, selector: \"[cdkDropList], cdk-drop-list\", inputs: [\"cdkDropListConnectedTo\", \"cdkDropListData\", \"cdkDropListOrientation\", \"id\", \"cdkDropListLockAxis\", \"cdkDropListDisabled\", \"cdkDropListSortingDisabled\", \"cdkDropListEnterPredicate\", \"cdkDropListSortPredicate\", \"cdkDropListAutoScrollDisabled\", \"cdkDropListAutoScrollStep\", \"cdkDropListElementContainer\", \"cdkDropListHasAnchor\"], outputs: [\"cdkDropListDropped\", \"cdkDropListEntered\", \"cdkDropListExited\", \"cdkDropListSorted\"], exportAs: [\"cdkDropList\"] }] });\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"21.1.0\", ngImport: i0, type: EditorJsComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'editor-js', imports: [CdkDropList], template: `\n    <div cdkDropList class=\"block-list\" (cdkDropListDropped)=\"drop($event)\" >\n      <ng-container #ngxEditor></ng-container>\n    </div>\n  `, styles: [\":host{display:block}:host .block-list{min-height:60px}\\n\"] }]\n        }], ctorParameters: () => [], propDecorators: { bootstrapEditorJs: [{ type: i0.Input, args: [{ isSignal: true, alias: \"bootstrapEditorJs\", required: false }] }], blocks: [{ type: i0.Input, args: [{ isSignal: true, alias: \"blocks\", required: true }] }], ngxEditor: [{ type: i0.ViewChild, args: ['ngxEditor', { ...{ read: ViewContainerRef }, isSignal: true }] }] } });\n\nclass ToolbarInlineComponent {\n    // @Input() selection!: Selection;\n    selection = input.required(...(ngDevMode ? [{ debugName: \"selection\" }] : []));\n    closeOverlayEmitter = new EventEmitter();\n    renderer = inject(Renderer2);\n    url = '';\n    showURLInputField = signal(false, ...(ngDevMode ? [{ debugName: \"showURLInputField\" }] : []));\n    savedRanges = [];\n    options = [\n        { icon: 'format_bold', action: 'bold' },\n        { icon: 'format_italic', action: 'italic' },\n        { icon: 'format_underlined', action: 'underline' },\n        { icon: 'strikethrough_s', action: 'strikethrough' },\n        { icon: 'format_list_bulleted', action: 'insertUnorderedList' },\n        { icon: 'format_list_numbered', action: 'insertOrderedList' },\n        { icon: 'highlight', action: 'highlightColor' },\n        { icon: 'format_align_left', action: 'justifyLeft' },\n        { icon: 'format_align_center', action: 'justifyCenter' },\n        { icon: 'format_align_right', action: 'justifyRight' },\n        { icon: 'format_align_justify', action: 'justifyFull' },\n    ];\n    addInlineTag(tag) {\n        // https://stackoverflow.com/questions/60581285/execcommand-is-now-obsolete-whats-the-alternative\n        document.execCommand(tag);\n        this.closeOverlayEmitter.emit();\n    }\n    addClassTag(tag, className) {\n        const range = this.selection().getRangeAt(0);\n        const element = this.renderer.createElement(tag);\n        element.className = className ?? '';\n        element.innerHTML = range.toString();\n        range.deleteContents();\n        range.insertNode(element);\n        this.closeOverlayEmitter.emit();\n    }\n    clearTags() {\n        document.execCommand('removeFormat');\n        document.execCommand('unlink');\n        this.closeOverlayEmitter.emit();\n    }\n    openUrlInput() {\n        this.savedRanges.push(this.selection().getRangeAt(0));\n        this.showURLInputField.set(true);\n    }\n    createLink() {\n        this.selection().removeAllRanges();\n        this.selection().addRange(this.savedRanges.pop());\n        document.execCommand('createLink', false, this.url);\n        this.closeOverlayEmitter.emit();\n    }\n    static fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"21.1.0\", ngImport: i0, type: ToolbarInlineComponent, deps: [], target: i0.FactoryTarget.Component });\n    static cmp = i0.ngDeclareComponent({ minVersion: \"17.0.0\", version: \"21.1.0\", type: ToolbarInlineComponent, isStandalone: true, selector: \"toolbar-inline\", inputs: { selection: { classPropertyName: \"selection\", publicName: \"selection\", isSignal: true, isRequired: true, transformFunction: null } }, outputs: { closeOverlayEmitter: \"closeOverlay\" }, ngImport: i0, template: `\n    <div class=\"panel\">\n      @for (item of options; track $index) {\n      <div class=\"inline-option\" (click)=\"addInlineTag(item.action)\">\n        <mat-icon>{{ item.icon }}</mat-icon>\n      </div>\n      }\n      <div class=\"inline-option\" (click)=\"addClassTag('code', 'inline-code')\">\n        <mat-icon>code</mat-icon>\n      </div>\n      <div class=\"inline-option\" (click)=\"openUrlInput()\">\n        <mat-icon>insert_link</mat-icon>\n      </div>\n      <div class=\"inline-option\" (click)=\"clearTags()\">\n        <mat-icon>format_clear</mat-icon>\n      </div>\n    </div>\n\n    @if(showURLInputField()) {\n    <div class=\"panel\">\n      <input\n        type=\"text\"\n        placeholder=\"Enter URL\"\n        class=\"block-option-input\"\n        [(ngModel)]=\"url\"\n      />\n      <div class=\"inline-option\" (click)=\"createLink()\">\n        <mat-icon>add</mat-icon>\n      </div>\n    </div>\n    }\n  `, isInline: true, styles: [\":host{color:var(--mat-sys-on-secondary);background:var(--mat-sys-secondary);box-shadow:var(--mat-sys-level5);border-radius:8px}:host .panel{display:flex;width:230px;flex-wrap:wrap;gap:1px}:host .inline-option{cursor:pointer;width:32px;height:32px;display:flex;align-items:center;justify-content:center}:host .block-option-input{width:197px;height:32px;border:none;outline:none;color:var(--mat-sys-on-secondary);background-color:transparent;box-sizing:border-box}\\n\"], dependencies: [{ kind: \"ngmodule\", type: MatListModule }, { kind: \"ngmodule\", type: MatIconModule }, { kind: \"component\", type: i1$2.MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }, { kind: \"ngmodule\", type: FormsModule }, { kind: \"directive\", type: i2.DefaultValueAccessor, selector: \"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]\" }, { kind: \"directive\", type: i2.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { kind: \"directive\", type: i2.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }] });\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"21.1.0\", ngImport: i0, type: ToolbarInlineComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'toolbar-inline', imports: [MatListModule, MatIconModule, FormsModule], template: `\n    <div class=\"panel\">\n      @for (item of options; track $index) {\n      <div class=\"inline-option\" (click)=\"addInlineTag(item.action)\">\n        <mat-icon>{{ item.icon }}</mat-icon>\n      </div>\n      }\n      <div class=\"inline-option\" (click)=\"addClassTag('code', 'inline-code')\">\n        <mat-icon>code</mat-icon>\n      </div>\n      <div class=\"inline-option\" (click)=\"openUrlInput()\">\n        <mat-icon>insert_link</mat-icon>\n      </div>\n      <div class=\"inline-option\" (click)=\"clearTags()\">\n        <mat-icon>format_clear</mat-icon>\n      </div>\n    </div>\n\n    @if(showURLInputField()) {\n    <div class=\"panel\">\n      <input\n        type=\"text\"\n        placeholder=\"Enter URL\"\n        class=\"block-option-input\"\n        [(ngModel)]=\"url\"\n      />\n      <div class=\"inline-option\" (click)=\"createLink()\">\n        <mat-icon>add</mat-icon>\n      </div>\n    </div>\n    }\n  `, styles: [\":host{color:var(--mat-sys-on-secondary);background:var(--mat-sys-secondary);box-shadow:var(--mat-sys-level5);border-radius:8px}:host .panel{display:flex;width:230px;flex-wrap:wrap;gap:1px}:host .inline-option{cursor:pointer;width:32px;height:32px;display:flex;align-items:center;justify-content:center}:host .block-option-input{width:197px;height:32px;border:none;outline:none;color:var(--mat-sys-on-secondary);background-color:transparent;box-sizing:border-box}\\n\"] }]\n        }], propDecorators: { selection: [{ type: i0.Input, args: [{ isSignal: true, alias: \"selection\", required: true }] }], closeOverlayEmitter: [{\n                type: Output,\n                args: ['closeOverlay']\n            }] } });\n\nclass ToolbarInlineService {\n    overlay = inject(Overlay);\n    overlayRef;\n    determineToDisplayInlineToolbarBlock(_event) {\n        return of(window.getSelection()).pipe(filter((selection) => selection !== null), filter((selection) => selection.rangeCount > 0), filter((selection) => selection.toString().length > 0), filter((selection) => selection.toString() !== ''), tap(() => this.overlayRef?.hasAttached() && this.overlayRef.dispose()), // So hacky tired to do this properly\n        map((selection) => ({\n            selection,\n            parant: this.getSelectionParent(selection),\n        })), filter(({ parant }) => this.isSelectionInABlock(parant)), exhaustMap(({ selection }) => this.attachInlineToolbar(selection)));\n    }\n    getSelectionParent(selection) {\n        const range = selection.getRangeAt(0);\n        return range.commonAncestorContainer.nodeType === Node.ELEMENT_NODE\n            ? range.commonAncestorContainer\n            : range.commonAncestorContainer.parentElement;\n    }\n    isSelectionInABlock(target) {\n        // ! TODO: This is a hacky way to determine if the selection is in a block\n        // ! Need to also check if the block wants to display the inline toolbar\n        return (!!target &&\n            (target.closest('.no-toolbar-inline') !== null\n                ? false\n                : target.closest('ngx-editor-js2') !== null\n                    ? true\n                    : false));\n    }\n    attachInlineToolbar(selection) {\n        return of(selection.getRangeAt(0)).pipe(map((range) => range.getBoundingClientRect()), map((selectionRect) => this.createOverlay(selectionRect)), \n        // So hacky tired to do this properly\n        // passing the refs down the pipe adds a bug\n        // user selects text with a drag\n        // (mousedown  mousemove  wait  mousemove  mouseup)\n        tap((overlayRef) => (this.overlayRef = overlayRef)), map((overlayRef) => {\n            const inlineToolbar = overlayRef.attach(new ComponentPortal(ToolbarInlineComponent));\n            inlineToolbar.setInput('selection', selection);\n            lastValueFrom(merge(overlayRef.backdropClick(), inlineToolbar.instance.closeOverlayEmitter).pipe(tap(() => overlayRef.dispose()), tap(() => selection.removeAllRanges())));\n            return true;\n        }));\n    }\n    createOverlay(selectionRect) {\n        return this.overlay.create({\n            hasBackdrop: true,\n            backdropClass: 'cdk-overlay-transparent-backdrop',\n            positionStrategy: this.overlay\n                .position()\n                .flexibleConnectedTo(selectionRect)\n                .withPositions([\n                {\n                    offsetY: 8,\n                    originX: 'start',\n                    originY: 'bottom',\n                    overlayX: 'start',\n                    overlayY: 'top',\n                },\n            ]),\n        });\n    }\n    static fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"21.1.0\", ngImport: i0, type: ToolbarInlineService, deps: [], target: i0.FactoryTarget.Injectable });\n    static prov = i0.ngDeclareInjectable({ minVersion: \"12.0.0\", version: \"21.1.0\", ngImport: i0, type: ToolbarInlineService, providedIn: 'root' });\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"21.1.0\", ngImport: i0, type: ToolbarInlineService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root',\n                }]\n        }] });\n\nclass NgxEditorJs2Component {\n    inlineToolbarSerivce = inject(ToolbarInlineService);\n    editorJsService = inject(EditorJsService);\n    ngxEditorJs2Service = inject(NgxEditorJs2Service);\n    constructor() {\n        this.editorJsService.formGroup.valueChanges.pipe(takeUntilDestroyed(), debounceTime(500), switchMap(() => this.editorJsService.getBlocks$()), tap((blocks) => this.formChanged.emit(blocks))).subscribe();\n    }\n    blocks = input([], ...(ngDevMode ? [{ debugName: \"blocks\" }] : []));\n    // Allows the parent component to request the current blocks\n    blocksRequested = output();\n    requestBlocks = input.required({ ...(ngDevMode ? { debugName: \"requestBlocks\" } : {}), transform: (value) => value && this.blocksRequested.emit(this.editorJsService.getBlocks$()) });\n    // Tells the parent component when the form has changed\n    formChanged = output();\n    bootstrapEditorJs$ = combineLatest([\n        inject(ToolFabService).toolbarComponentRef$,\n        this.ngxEditorJs2Service.loadBlocks$,\n        fromEvent(document, 'selectionchange').pipe(debounceTime(200), switchMap((event) => this.inlineToolbarSerivce.determineToDisplayInlineToolbarBlock(event)))\n    ]);\n    static fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"21.1.0\", ngImport: i0, type: NgxEditorJs2Component, deps: [], target: i0.FactoryTarget.Component });\n    static cmp = i0.ngDeclareComponent({ minVersion: \"17.1.0\", version: \"21.1.0\", type: NgxEditorJs2Component, isStandalone: true, selector: \"ngx-editor-js2\", inputs: { blocks: { classPropertyName: \"blocks\", publicName: \"blocks\", isSignal: true, isRequired: false, transformFunction: null }, requestBlocks: { classPropertyName: \"requestBlocks\", publicName: \"requestBlocks\", isSignal: true, isRequired: true, transformFunction: null } }, outputs: { blocksRequested: \"blocksRequested\", formChanged: \"formChanged\" }, ngImport: i0, template: `\n    <editor-js\n      [blocks]=\"blocks()\"\n      [bootstrapEditorJs]=\"bootstrapEditorJs$ | async\"\n    ></editor-js>\n  `, isInline: true, dependencies: [{ kind: \"component\", type: EditorJsComponent, selector: \"editor-js\", inputs: [\"bootstrapEditorJs\", \"blocks\"] }, { kind: \"pipe\", type: AsyncPipe, name: \"async\" }] });\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"21.1.0\", ngImport: i0, type: NgxEditorJs2Component, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'ngx-editor-js2',\n                    imports: [EditorJsComponent, AsyncPipe],\n                    template: `\n    <editor-js\n      [blocks]=\"blocks()\"\n      [bootstrapEditorJs]=\"bootstrapEditorJs$ | async\"\n    ></editor-js>\n  `,\n                }]\n        }], ctorParameters: () => [], propDecorators: { blocks: [{ type: i0.Input, args: [{ isSignal: true, alias: \"blocks\", required: false }] }], blocksRequested: [{ type: i0.Output, args: [\"blocksRequested\"] }], requestBlocks: [{ type: i0.Input, args: [{ isSignal: true, alias: \"requestBlocks\", required: true }] }], formChanged: [{ type: i0.Output, args: [\"formChanged\"] }] } });\n\n/*\n * Public API Surface of ngx-editor-js2\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { AutofocusDirective, CleanPasteDataDirective, ControlAccessorDirective, NGX_EDITORJS_OPTIONS, NgxEditorJs2Component, NgxEditorJs2Service, ToolbarFabDirective };\n","import * as i0 from '@angular/core';\nimport { EventEmitter, forwardRef, Component, ChangeDetectionStrategy, Input, Output, ViewChild, NgModule } from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\n\nfunction normalizeLineEndings(str) {\n    if (!str) {\n        return str;\n    }\n    return str.replace(/\\r\\n|\\r/g, '\\n');\n}\nclass CodemirrorComponent {\n    _differs;\n    _ngZone;\n    /* class applied to the created textarea */\n    className = '';\n    /* name applied to the created textarea */\n    name = 'codemirror';\n    /* autofocus setting applied to the created textarea */\n    autoFocus = false;\n    /**\n     * set options for codemirror\n     * @link http://codemirror.net/doc/manual.html#config\n     */\n    set options(value) {\n        this._options = value;\n        if (!this._differ && value) {\n            this._differ = this._differs.find(value).create();\n        }\n    }\n    /* preserve previous scroll position after updating value */\n    preserveScrollPosition = false;\n    /* called when the text cursor is moved */\n    cursorActivity = new EventEmitter();\n    /* called when the editor is focused or loses focus */\n    focusChange = new EventEmitter();\n    /* called when the editor is scrolled */\n    // eslint-disable-next-line @angular-eslint/no-output-native\n    scroll = new EventEmitter();\n    /* called when file(s) are dropped */\n    // eslint-disable-next-line @angular-eslint/no-output-native\n    drop = new EventEmitter();\n    /* called when codeMirror instance is initiated on the component */\n    codeMirrorLoaded = new EventEmitter();\n    ref;\n    value = '';\n    disabled = false;\n    isFocused = false;\n    codeMirror;\n    /**\n     * either global variable or required library\n     */\n    _codeMirror;\n    _differ;\n    _options;\n    constructor(_differs, _ngZone) {\n        this._differs = _differs;\n        this._ngZone = _ngZone;\n    }\n    get codeMirrorGlobal() {\n        if (this._codeMirror) {\n            return this._codeMirror;\n        }\n        // in order to allow for universal rendering, we import Codemirror runtime with `require` to prevent node errors\n        this._codeMirror = typeof CodeMirror !== 'undefined' ? CodeMirror : import('codemirror');\n        return this._codeMirror;\n    }\n    ngAfterViewInit() {\n        this._ngZone.runOutsideAngular(async () => {\n            const codeMirrorObj = await this.codeMirrorGlobal;\n            const codeMirror = codeMirrorObj?.default ? codeMirrorObj.default : codeMirrorObj;\n            this.codeMirror = codeMirror.fromTextArea(this.ref.nativeElement, this._options);\n            this.codeMirror.on('cursorActivity', cm => this._ngZone.run(() => this.cursorActive(cm)));\n            this.codeMirror.on('scroll', this.scrollChanged.bind(this));\n            this.codeMirror.on('blur', () => this._ngZone.run(() => this.focusChanged(false)));\n            this.codeMirror.on('focus', () => this._ngZone.run(() => this.focusChanged(true)));\n            this.codeMirror.on('change', (cm, change) => this._ngZone.run(() => this.codemirrorValueChanged(cm, change)));\n            this.codeMirror.on('drop', (cm, e) => {\n                this._ngZone.run(() => this.dropFiles(cm, e));\n            });\n            this.codeMirror.setValue(this.value);\n            this.codeMirrorLoaded.emit(this);\n        });\n    }\n    ngDoCheck() {\n        if (!this._differ) {\n            return;\n        }\n        // check options have not changed\n        const changes = this._differ.diff(this._options);\n        if (changes) {\n            changes.forEachChangedItem(option => this.setOptionIfChanged(option.key, option.currentValue));\n            changes.forEachAddedItem(option => this.setOptionIfChanged(option.key, option.currentValue));\n            changes.forEachRemovedItem(option => this.setOptionIfChanged(option.key, option.currentValue));\n        }\n    }\n    ngOnDestroy() {\n        // is there a lighter-weight way to remove the cm instance?\n        if (this.codeMirror) {\n            this.codeMirror.toTextArea();\n        }\n    }\n    codemirrorValueChanged(cm, change) {\n        const cmVal = cm.getValue();\n        if (this.value !== cmVal) {\n            this.value = cmVal;\n            this.onChange(this.value);\n        }\n    }\n    setOptionIfChanged(optionName, newValue) {\n        if (!this.codeMirror) {\n            return;\n        }\n        // cast to any to handle strictly typed option names\n        // could possibly import settings strings available in the future\n        this.codeMirror.setOption(optionName, newValue);\n    }\n    focusChanged(focused) {\n        this.onTouched();\n        this.isFocused = focused;\n        this.focusChange.emit(focused);\n    }\n    scrollChanged(cm) {\n        this.scroll.emit(cm.getScrollInfo());\n    }\n    cursorActive(cm) {\n        this.cursorActivity.emit(cm);\n    }\n    dropFiles(cm, e) {\n        this.drop.emit([cm, e]);\n    }\n    /** Implemented as part of ControlValueAccessor. */\n    writeValue(value) {\n        if (value === null || value === undefined) {\n            return;\n        }\n        if (!this.codeMirror) {\n            this.value = value;\n            return;\n        }\n        const cur = this.codeMirror.getValue();\n        if (value !== cur && normalizeLineEndings(cur) !== normalizeLineEndings(value)) {\n            this.value = value;\n            if (this.preserveScrollPosition) {\n                const prevScrollPosition = this.codeMirror.getScrollInfo();\n                this.codeMirror.setValue(this.value);\n                this.codeMirror.scrollTo(prevScrollPosition.left, prevScrollPosition.top);\n            }\n            else {\n                this.codeMirror.setValue(this.value);\n            }\n        }\n    }\n    /** Implemented as part of ControlValueAccessor. */\n    registerOnChange(fn) {\n        this.onChange = fn;\n    }\n    /** Implemented as part of ControlValueAccessor. */\n    registerOnTouched(fn) {\n        this.onTouched = fn;\n    }\n    /** Implemented as part of ControlValueAccessor. */\n    setDisabledState(isDisabled) {\n        this.disabled = isDisabled;\n        this.setOptionIfChanged('readOnly', this.disabled);\n    }\n    /** Implemented as part of ControlValueAccessor. */\n    onChange = (_) => { };\n    /** Implemented as part of ControlValueAccessor. */\n    onTouched = () => { };\n    static fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.1\", ngImport: i0, type: CodemirrorComponent, deps: [{ token: i0.KeyValueDiffers }, { token: i0.NgZone }], target: i0.FactoryTarget.Component });\n    static cmp = i0.ngDeclareComponent({ minVersion: \"14.0.0\", version: \"16.0.1\", type: CodemirrorComponent, selector: \"ngx-codemirror\", inputs: { className: \"className\", name: \"name\", autoFocus: \"autoFocus\", options: \"options\", preserveScrollPosition: \"preserveScrollPosition\" }, outputs: { cursorActivity: \"cursorActivity\", focusChange: \"focusChange\", scroll: \"scroll\", drop: \"drop\", codeMirrorLoaded: \"codeMirrorLoaded\" }, providers: [\n            {\n                provide: NG_VALUE_ACCESSOR,\n                useExisting: forwardRef(() => CodemirrorComponent),\n                multi: true,\n            },\n        ], viewQueries: [{ propertyName: \"ref\", first: true, predicate: [\"ref\"], descendants: true }], ngImport: i0, template: `\n    <textarea\n      [name]=\"name\"\n      class=\"ngx-codemirror {{ className }}\"\n      [class.ngx-codemirror--focused]=\"isFocused\"\n      autocomplete=\"off\"\n      [autofocus]=\"autoFocus\"\n      #ref\n    >\n    </textarea>\n  `, isInline: true, changeDetection: i0.ChangeDetectionStrategy.OnPush });\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.1\", ngImport: i0, type: CodemirrorComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'ngx-codemirror',\n                    template: `\n    <textarea\n      [name]=\"name\"\n      class=\"ngx-codemirror {{ className }}\"\n      [class.ngx-codemirror--focused]=\"isFocused\"\n      autocomplete=\"off\"\n      [autofocus]=\"autoFocus\"\n      #ref\n    >\n    </textarea>\n  `,\n                    providers: [\n                        {\n                            provide: NG_VALUE_ACCESSOR,\n                            useExisting: forwardRef(() => CodemirrorComponent),\n                            multi: true,\n                        },\n                    ],\n                    preserveWhitespaces: false,\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }], ctorParameters: function () { return [{ type: i0.KeyValueDiffers }, { type: i0.NgZone }]; }, propDecorators: { className: [{\n                type: Input\n            }], name: [{\n                type: Input\n            }], autoFocus: [{\n                type: Input\n            }], options: [{\n                type: Input\n            }], preserveScrollPosition: [{\n                type: Input\n            }], cursorActivity: [{\n                type: Output\n            }], focusChange: [{\n                type: Output\n            }], scroll: [{\n                type: Output\n            }], drop: [{\n                type: Output\n            }], codeMirrorLoaded: [{\n                type: Output\n            }], ref: [{\n                type: ViewChild,\n                args: ['ref']\n            }] } });\n\nclass CodemirrorModule {\n    static fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.1\", ngImport: i0, type: CodemirrorModule, deps: [], target: i0.FactoryTarget.NgModule });\n    static mod = i0.ngDeclareNgModule({ minVersion: \"14.0.0\", version: \"16.0.1\", ngImport: i0, type: CodemirrorModule, declarations: [CodemirrorComponent], exports: [CodemirrorComponent] });\n    static inj = i0.ngDeclareInjector({ minVersion: \"12.0.0\", version: \"16.0.1\", ngImport: i0, type: CodemirrorModule });\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.1\", ngImport: i0, type: CodemirrorModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    exports: [CodemirrorComponent],\n                    declarations: [CodemirrorComponent],\n                }]\n        }] });\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { CodemirrorComponent, CodemirrorModule };\n","function asyncGeneratorStep(n, t, e, r, o, a, c) {\n  try {\n    var i = n[a](c),\n      u = i.value;\n  } catch (n) {\n    return void e(n);\n  }\n  i.done ? t(u) : Promise.resolve(u).then(r, o);\n}\nfunction _asyncToGenerator(n) {\n  return function () {\n    var t = this,\n      e = arguments;\n    return new Promise(function (r, o) {\n      var a = n.apply(t, e);\n      function _next(n) {\n        asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n);\n      }\n      function _throw(n) {\n        asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n);\n      }\n      _next(void 0);\n    });\n  };\n}\nexport { _asyncToGenerator as default };"],"names":["MermaidjsConfigComponent","updateConfig","output","value","model","ngDevMode","undefined","debugName","codeMirrorOptions","signal","lineNumbers","theme","mode","extraKeys","styleActiveLine","matchBrackets","indentUnit","tabSize","cursorScrollMargin","closeConfig","emit","cmp","selectors","inputs","outputs","decls","vars","consts","template","MermaidjsConfigComponent_Template","rf","ctx","MatButton","MatFormFieldModule","ReactiveFormsModule","i3","NgControlStatus","FormsModule","NgModel","CodemirrorModule","i2","CodemirrorComponent","styles","mermaid","MermaidImport","default","SafeHtmlPipe","sanitized","constructor","transform","bypassSecurityTrustHtml","i1","DomSanitizer","pure","parseError","err","hash","console","warn","NgxEditorJs2MermaidjsComponent","ngZone","inject","NgZone","sortIndex","input","componentInstanceName","autofocus","formGroup","required","formControlName","blockOptionActions","action","icon","savedAction","actionCallbackBind","actionCallback","bind","mermaidDiagramSVG","openOverlay","ngOnInit","runOutsideAngular","initialize","startOnLoad","possibleSavedValue","get","renderMermaidDiagram","mermaidDiagram","render","genUniqueId","then","data","run","svg","error","updateFormValue","update","updateValueAndValidity","openEditOverlay","set","updateMermaidDiagram","setValue","Date","now","Math","floor","random","hostAttrs","features","i2$1","CdkDrag","NgxEditorJs2MermaidjsComponent_Template","NgControlStatusGroup","FormGroupDirective","FormControlName","ControlAccessorDirective","AutofocusDirective","ToolbarFabDirective","MatFabButton","MatIcon","NgClass","i0","ElementRef","forwardRef","HostListener","Directive","Component","Injectable","ViewContainerRef","effect","InjectionToken","viewChild","EventEmitter","Renderer2","Output","NG_VALUE_ACCESSOR","FormControl","FormBuilder","startWith","combineLatest","map","firstValueFrom","of","from","tap","filter","defaultIfEmpty","Observable","lastValueFrom","forkJoin","iif","switchMap","mergeMap","BehaviorSubject","distinctUntilChanged","delay","exhaustMap","merge","debounceTime","fromEvent","MatRipple","i1$1","CdkDragHandle","CdkDropList","OverlayModule","Overlay","i1$2","MatIconModule","AsyncPipe","NgTemplateOutlet","toObservable","takeUntilDestroyed","MatFormField","MatLabel","MatInput","MatList","MatListItem","MatListModule","ComponentPortal","ToolbarBlockOptionsComponent_For_11_Conditional_1_Template","text","blockOptionAction_r2","nextContext","$implicit","textInterpolate1","text","ToolbarBlockOptionsComponent_For_11_Conditional_2_Template","elementStart","elementEnd","advance","textInterpolate","ToolbarBlockOptionsComponent_For_11_Template","_r1","getCurrentView","listener","ToolbarBlockOptionsComponent_For_11_Template_div_click_0_listener","restoreView","ctx_r2","resetView","handleAction","conditionalCreate","conditional","ToolbarBlocksComponent_Conditional_5_Conditional_1_Template","ToolbarBlocksComponent_Conditional_5_Conditional_2_For_1_Template","ToolbarBlocksComponent_Conditional_5_Conditional_2_For_1_Template_mat_list_item_click_0_listener","block_r2","addBlock","name","ToolbarBlocksComponent_Conditional_5_Conditional_2_Template","repeaterCreate","repeaterTrackByIndex","filteredBlocks_r4","repeater","ToolbarBlocksComponent_Conditional_5_Template","length","ToolbarComponent_ng_template_9_Template","_r2","ToolbarComponent_ng_template_9_Template_toolbar_blocks_addBlock_0_listener","$event","property","supportedBlocks","ToolbarComponent_ng_template_10_Template","_r4","ToolbarComponent_ng_template_10_Template_toolbar_block_options_handleAction_0_listener","ToolbarComponent_ng_template_10_Template_toolbar_block_options_moveBlockPosition_0_listener","moveBlockPosition","HeaderBlockComponent_Case_0_ng_container_1_Template","elementContainer","HeaderBlockComponent_Case_0_Template","template","sharedHeaderTemplate_r1","reference","HeaderBlockComponent_Case_1_ng_container_1_Template","HeaderBlockComponent_Case_1_Template","HeaderBlockComponent_Case_2_ng_container_1_Template","HeaderBlockComponent_Case_2_Template","HeaderBlockComponent_Case_3_ng_container_1_Template","HeaderBlockComponent_Case_3_Template","HeaderBlockComponent_Case_4_ng_container_1_Template","HeaderBlockComponent_Case_4_Template","HeaderBlockComponent_Case_5_ng_container_1_Template","HeaderBlockComponent_Case_5_Template","HeaderBlockComponent_ng_template_6_Template","element","tmp_2_0","ctx_r1","_c0","ToolbarInlineComponent_For_2_Template","ToolbarInlineComponent_For_2_Template_div_click_0_listener","item_r2","addInlineTag","ToolbarInlineComponent_Conditional_12_Template","twoWayListener","ToolbarInlineComponent_Conditional_12_Template_input_ngModelChange_1_listener","twoWayBindingSet","url","ToolbarInlineComponent_Conditional_12_Template_div_click_2_listener","createLink","twoWayProperty","elementRef","defaultValue","onChange","onTouched","writeValue","nativeElement","innerHTML","registerOnChange","fn","registerOnTouched","onBlur","onInput","fac","ControlAccessorDirective_Factory","__ngFactoryType__","dir","defineDirective","type","hostBindings","ControlAccessorDirective_HostBindings","ControlAccessorDirective_blur_HostBindingHandler","ControlAccessorDirective_input_HostBindingHandler","ProvidersFeature","provide","useExisting","multi","ngAfterContentInit","focus","AutofocusDirective_Factory","MovePositionActions","ToolbarBlockOptionsComponent","Position","handleActionEmitter","alias","moveBlockPositionEmitter","movePosition","ToolbarBlockOptionsComponent_Factory","defineComponent","ToolbarBlockOptionsComponent_Template","ToolbarBlockOptionsComponent_Template_div_click_1_listener","UP","ToolbarBlockOptionsComponent_Template_div_click_4_listener","DELETE","ToolbarBlockOptionsComponent_Template_div_click_7_listener","DOWN","dependencies","ToolbarBlocksComponent","addBlockEmitter","supportedBlocks$","blockCtrl","filter$","valueChanges","pipe","filteredBlocks$","blocks","filterString","replace","pattern","split","v","join","regex","RegExp","block","match","component","ToolbarBlocksComponent_Factory","ToolbarBlocksComponent_Template","pipe","pipeBind1","DefaultValueAccessor","FormControlDirective","ToolbarComponent","componentContextPositionIndex","addBlockCallback","moveBlockPositionCallback","openBlocks","openBlocksOption","openBlocksList","prev","openBlockOptionList","closeLists","ToolbarComponent_Factory","ToolbarComponent_Template","ToolbarComponent_Template_div_click_1_listener","ToolbarComponent_Template_div_click_5_listener","ToolbarComponent_Template_ng_template_overlayOutsideClick_9_listener","ToolbarComponent_Template_ng_template_overlayOutsideClick_10_listener","blockListTigger_r5","blockOptionListTigger_r6","CdkConnectedOverlay","CdkOverlayOrigin","BlockMovementService","componentRefMap","Map","clearComponentRefs","clear","getNgxEditorJsBlocks","Array","values","newComponentAttached","componentRef","instance","updateComponentIndices","ngxEditor","setInput","indexOf","hostView","moveBlockComponentPosition","index","componentRefs","find","totalComponents","currentIndex","newIndex","max","min","move","removeBlockComponent","delete","successful","remove","BlockMovementService_Factory","prov","defineInjectable","token","factory","providedIn","createUID","toString","substring","EditorJsService","formBuilder","blockMovementService","group","setNgxEditor","getBlocks$","observer","blockId","dataClean","sort","a","b","next","complete","createNgxEditorJsBlockWithComponent","blockComponent","addBlockComponent","ngxEditorJsBlock","emitEvent","createFormGroupControl","attachComponent","control","formControl","addControl","controlName","createComponent","location","classList","add","determineMovePositionAction","previousIndex","viewRef","removeControl","clearBlocks","EditorJsService_Factory","ToolFabService","ngxEditorJs2Service","NgxEditorJs2Service","editorJsService","componentContext","toolbarComponentRef$","asObservable","previous","current","viewContainerRef","movePositionAction","ToolFabService_Factory","toolFabService","onMouseEnter","ToolbarFabDirective_Factory","ToolbarFabDirective_HostBindings","ToolbarFabDirective_mouseenter_HostBindingHandler","CleanPasteDataDirective","onPaste","event","preventDefault","clipboardData","getData","document","execCommand","CleanPasteDataDirective_Factory","CleanPasteDataDirective_HostBindings","CleanPasteDataDirective_paste_HostBindingHandler","HeaderBlockComponent","selectedAction","HeaderBlockComponent_Factory","HostDirectivesFeature","HeaderBlockComponent_Template","templateRefExtractor","tmp_1_0","ParagraphBlockComponent","ParagraphBlockComponent_Factory","ParagraphBlockComponent_Template","elementContainerStart","elementContainerEnd","NGX_EDITORJS_OPTIONS","consumerSupportedBlocks","optional","internalSupportedBlocks","internal","consumer","blocksToLoad","loadBlocks$","clearBlocksFromEditorJs","determineToloadDefaultBlocks","removeDuplicateBlocksWithSameIds","sortBlocks","combineSupportBlocks","createALookupMapForSupportedBlocks","supportedBlocksMap","findAndMarshalBlocksComponent","addBlocksToEditorJs","loadDefaultBlocks","sb","NgxEditorJs2Service_Factory","EditorJsComponent","bootstrapEditorJs","read","drop","EditorJsComponent_Factory","viewQuery","EditorJsComponent_Query","viewQuerySignal","queryAdvance","EditorJsComponent_Template","EditorJsComponent_Template_div_cdkDropListDropped_0_listener","ToolbarInlineComponent","selection","closeOverlayEmitter","renderer","showURLInputField","savedRanges","options","tag","addClassTag","className","range","getRangeAt","element","createElement","deleteContents","insertNode","clearTags","openUrlInput","push","removeAllRanges","addRange","pop","ToolbarInlineComponent_Factory","ToolbarInlineComponent_Template","ToolbarInlineComponent_Template_div_click_3_listener","ToolbarInlineComponent_Template_div_click_6_listener","ToolbarInlineComponent_Template_div_click_9_listener","ToolbarInlineService","overlay","overlayRef","determineToDisplayInlineToolbarBlock","_event","window","getSelection","rangeCount","hasAttached","dispose","parant","getSelectionParent","isSelectionInABlock","attachInlineToolbar","commonAncestorContainer","nodeType","Node","ELEMENT_NODE","parentElement","target","closest","getBoundingClientRect","selectionRect","createOverlay","inlineToolbar","attach","backdropClick","create","hasBackdrop","backdropClass","positionStrategy","position","flexibleConnectedTo","withPositions","offsetY","originX","originY","overlayX","overlayY","ToolbarInlineService_Factory","NgxEditorJs2Component","inlineToolbarSerivce","formChanged","subscribe","blocksRequested","requestBlocks","bootstrapEditorJs$","NgxEditorJs2Component_Factory","NgxEditorJs2Component_Template","encapsulation","ChangeDetectionStrategy","Input","ViewChild","NgModule","normalizeLineEndings","str","_differs","_ngZone","autoFocus","_options","_differ","preserveScrollPosition","cursorActivity","focusChange","scroll","codeMirrorLoaded","ref","disabled","isFocused","codeMirror","_codeMirror","codeMirrorGlobal","CodeMirror","ngAfterViewInit","_this","_asyncToGenerator","codeMirrorObj","fromTextArea","on","cm","cursorActive","scrollChanged","focusChanged","change","codemirrorValueChanged","e","dropFiles","ngDoCheck","changes","diff","forEachChangedItem","option","setOptionIfChanged","key","currentValue","forEachAddedItem","forEachRemovedItem","ngOnDestroy","toTextArea","cmVal","getValue","optionName","newValue","setOption","focused","getScrollInfo","cur","prevScrollPosition","scrollTo","left","top","setDisabledState","isDisabled","_","CodemirrorComponent_Factory","directiveInject","KeyValueDiffers","CodemirrorComponent_Query","viewQuery","_t","queryRefresh","loadQuery","first","standalone","CodemirrorComponent_Template","classMap","interpolate1","classProp","changeDetection","CodemirrorModule_Factory","mod","defineNgModule","inj","defineInjector"],"ignoreList":[],"sourceRoot":"webpack:///","x_google_ignoreList":[4,5,6]}