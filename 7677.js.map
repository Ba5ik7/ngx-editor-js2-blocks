{"version":3,"file":"7677.js","mappings":"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/C,uDAAuD,QAAQ;AAC/D;AACA;AACA;;AAEO;AACP,2EAA2E,OAAO;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;AACA,wMAAwM,cAAc;AACtN,4BAA4B,sBAAsB;AAClD,wBAAwB,YAAY,sBAAsB,qCAAqC,2CAA2C,MAAM;AAChJ,0BAA0B,MAAM,iBAAiB,YAAY;AAC7D,qBAAqB;AACrB,4BAA4B;AAC5B,2BAA2B;AAC3B,0BAA0B;AAC1B;;AAEO;AACP;AACA,eAAe,6CAA6C,UAAU,sDAAsD,cAAc;AAC1I,wBAAwB,6BAA6B,oBAAoB,uCAAuC,kBAAkB;AAClI;;AAEO;AACP;AACA;AACA,yGAAyG,uFAAuF,cAAc;AAC9M,qBAAqB,8BAA8B,gDAAgD,wDAAwD;AAC3J,2CAA2C,sCAAsC,UAAU,mBAAmB,IAAI;AAClH;;AAEO;AACP,+BAA+B,uCAAuC,YAAY,KAAK,OAAO;AAC9F;AACA;;AAEA;AACA,wCAAwC,4BAA4B;AACpE,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA,qDAAqD,cAAc;AACnE;AACA;AACA;;AAEO;AACP,2CAA2C;AAC3C;;AAEO;AACP;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,MAAM,oBAAoB,YAAY;AAC5E,qBAAqB,8CAA8C;AACnE;AACA;AACA,qBAAqB,aAAa;AAClC;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uFAAuF,SAAS,gBAAgB;AAChH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA,iEAAe;AACf;AACA;AACA;AACA;AA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","sources":["./node_modules/@angular-architects/module-federation-runtime/fesm2022/angular-architects-module-federation-runtime.mjs","./node_modules/tslib/tslib.es6.mjs","./node_modules/@tmdjr/ngx-editor-js2/fesm2022/tmdjr-ngx-editor-js2.mjs","./node_modules/@angular-architects/module-federation/src/index.js","./projects/ngx-editor-js2-mfe-loader/src/lib/mfe-loader-config/mfe-loader-config.component.ts","./projects/ngx-editor-js2-mfe-loader/src/lib/ngx-editor-js2-mfe-loader.component.ts","./projects/ngx-editor-js2-mfe-loader/src/public-api.ts","./projects/ngx-editor-js2-mfe-loader/src/tmdjr-ngx-editor-js2-mfe-loader.ts","./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["let config = {};\nconst containerMap = {};\nconst remoteMap = {};\nlet isDefaultScopeInitialized = false;\nasync function lookupExposedModule(key, exposedModule) {\n    const container = containerMap[key];\n    const factory = await container.get(exposedModule);\n    const Module = factory();\n    return Module;\n}\nasync function initRemote(container, key) {\n    // const container = window[key] as Container;\n    // Do we still need to initialize the remote?\n    if (remoteMap[key]) {\n        return container;\n    }\n    // Do we still need to initialize the share scope?\n    if (!isDefaultScopeInitialized) {\n        await __webpack_init_sharing__('default');\n        isDefaultScopeInitialized = true;\n    }\n    await container.init(__webpack_share_scopes__.default);\n    remoteMap[key] = true;\n    return container;\n}\nasync function loadRemoteEntry(remoteEntryOrOptions, remoteName) {\n    if (typeof remoteEntryOrOptions === 'string') {\n        const remoteEntry = remoteEntryOrOptions;\n        return await loadRemoteScriptEntry(remoteEntry, remoteName);\n    }\n    else if (remoteEntryOrOptions.type === 'script') {\n        const options = remoteEntryOrOptions;\n        return await loadRemoteScriptEntry(options.remoteEntry, options.remoteName);\n    }\n    else if (remoteEntryOrOptions.type === 'module') {\n        const options = remoteEntryOrOptions;\n        await loadRemoteModuleEntry(options.remoteEntry);\n    }\n}\nasync function loadRemoteModuleEntry(remoteEntry) {\n    if (containerMap[remoteEntry]) {\n        return Promise.resolve();\n    }\n    return await import(/* webpackIgnore:true */ remoteEntry).then((container) => {\n        initRemote(container, remoteEntry);\n        containerMap[remoteEntry] = container;\n    });\n}\nasync function loadRemoteScriptEntry(remoteEntry, remoteName) {\n    return new Promise((resolve, reject) => {\n        // Is remoteEntry already loaded?\n        if (containerMap[remoteName]) {\n            resolve();\n            return;\n        }\n        const script = document.createElement('script');\n        script.src = remoteEntry;\n        script.onerror = reject;\n        script.onload = () => {\n            const container = window[remoteName];\n            initRemote(container, remoteName);\n            containerMap[remoteName] = container;\n            resolve();\n        };\n        document.body.appendChild(script);\n    });\n}\nasync function loadRemoteModule(optionsOrRemoteName, exposedModule) {\n    let loadRemoteEntryOptions;\n    let key;\n    let remoteEntry;\n    let options;\n    if (typeof optionsOrRemoteName === 'string') {\n        options = {\n            type: 'manifest',\n            remoteName: optionsOrRemoteName,\n            exposedModule: exposedModule,\n        };\n    }\n    else {\n        options = optionsOrRemoteName;\n    }\n    // To support legacy API (< ng 13)\n    if (!options.type) {\n        const hasManifest = Object.keys(config).length > 0;\n        options.type = hasManifest ? 'manifest' : 'script';\n    }\n    if (options.type === 'manifest') {\n        const manifestEntry = config[options.remoteName];\n        if (!manifestEntry) {\n            throw new Error('Manifest does not contain ' + options.remoteName);\n        }\n        options = {\n            type: manifestEntry.type,\n            exposedModule: options.exposedModule,\n            remoteEntry: manifestEntry.remoteEntry,\n            remoteName: manifestEntry.type === 'script' ? options.remoteName : undefined,\n        };\n        remoteEntry = manifestEntry.remoteEntry;\n    }\n    else {\n        remoteEntry = options.remoteEntry;\n    }\n    if (options.type === 'script') {\n        loadRemoteEntryOptions = {\n            type: 'script',\n            remoteEntry: options.remoteEntry,\n            remoteName: options.remoteName,\n        };\n        key = options.remoteName;\n    }\n    else if (options.type === 'module') {\n        loadRemoteEntryOptions = {\n            type: 'module',\n            remoteEntry: options.remoteEntry,\n        };\n        key = options.remoteEntry;\n    }\n    if (remoteEntry) {\n        await loadRemoteEntry(loadRemoteEntryOptions);\n    }\n    return await lookupExposedModule(key, options.exposedModule);\n}\nasync function setManifest(manifest, skipRemoteEntries = false) {\n    config = parseConfig(manifest);\n    if (!skipRemoteEntries) {\n        await loadRemoteEntries();\n    }\n}\nfunction getManifest() {\n    return config;\n}\nasync function initFederation(manifest, skipRemoteEntries = false) {\n    if (typeof manifest === 'string') {\n        return loadManifest(manifest, skipRemoteEntries);\n    }\n    else {\n        return setManifest(manifest, skipRemoteEntries);\n    }\n}\nasync function loadManifest(configFile, skipRemoteEntries = false) {\n    const result = await fetch(configFile);\n    if (!result.ok) {\n        throw Error('could not load configFile: ' + configFile);\n    }\n    config = parseConfig(await result.json());\n    if (!skipRemoteEntries) {\n        await loadRemoteEntries();\n    }\n}\nfunction parseConfig(config) {\n    const result = {};\n    for (const key in config) {\n        const value = config[key];\n        let entry;\n        if (typeof value === 'string') {\n            entry = {\n                remoteEntry: value,\n                type: 'module',\n            };\n        }\n        else {\n            entry = {\n                ...value,\n                type: value.type || 'module',\n            };\n        }\n        result[key] = entry;\n    }\n    return result;\n}\nasync function loadRemoteEntries() {\n    const promises = [];\n    for (const key in config) {\n        const entry = config[key];\n        if (entry.type === 'module') {\n            promises.push(loadRemoteEntry({ type: 'module', remoteEntry: entry.remoteEntry }));\n        }\n        else {\n            promises.push(loadRemoteEntry({\n                type: 'script',\n                remoteEntry: entry.remoteEntry,\n                remoteName: key,\n            }));\n        }\n    }\n    await Promise.all(promises);\n}\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { getManifest, initFederation, loadManifest, loadRemoteEntry, loadRemoteModule, setManifest };\n","/******************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n/* global Reflect, Promise, SuppressedError, Symbol, Iterator */\n\nvar extendStatics = function(d, b) {\n  extendStatics = Object.setPrototypeOf ||\n      ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n      function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n  return extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null)\n      throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() { this.constructor = d; }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nexport var __assign = function() {\n  __assign = Object.assign || function __assign(t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n      return t;\n  }\n  return __assign.apply(this, arguments);\n}\n\nexport function __rest(s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n      t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n      for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n              t[p[i]] = s[p[i]];\n      }\n  return t;\n}\n\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n  else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n\nexport function __param(paramIndex, decorator) {\n  return function (target, key) { decorator(target, key, paramIndex); }\n}\n\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n  function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\n  var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n  var _, done = false;\n  for (var i = decorators.length - 1; i >= 0; i--) {\n      var context = {};\n      for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n      for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n      context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\n      var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\n      if (kind === \"accessor\") {\n          if (result === void 0) continue;\n          if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n          if (_ = accept(result.get)) descriptor.get = _;\n          if (_ = accept(result.set)) descriptor.set = _;\n          if (_ = accept(result.init)) initializers.unshift(_);\n      }\n      else if (_ = accept(result)) {\n          if (kind === \"field\") initializers.unshift(_);\n          else descriptor[key] = _;\n      }\n  }\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\n  done = true;\n};\n\nexport function __runInitializers(thisArg, initializers, value) {\n  var useValue = arguments.length > 2;\n  for (var i = 0; i < initializers.length; i++) {\n      value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n  }\n  return useValue ? value : void 0;\n};\n\nexport function __propKey(x) {\n  return typeof x === \"symbol\" ? x : \"\".concat(x);\n};\n\nexport function __setFunctionName(f, name, prefix) {\n  if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\n  return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\n};\n\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\n\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n      function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n      function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\n\nexport function __generator(thisArg, body) {\n  var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n  return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n  function verb(n) { return function (v) { return step([n, v]); }; }\n  function step(op) {\n      if (f) throw new TypeError(\"Generator is already executing.\");\n      while (g && (g = 0, op[0] && (_ = 0)), _) try {\n          if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n          if (y = 0, t) op = [op[0] & 2, t.value];\n          switch (op[0]) {\n              case 0: case 1: t = op; break;\n              case 4: _.label++; return { value: op[1], done: false };\n              case 5: _.label++; y = op[1]; op = [0]; continue;\n              case 7: op = _.ops.pop(); _.trys.pop(); continue;\n              default:\n                  if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                  if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                  if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                  if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                  if (t[2]) _.ops.pop();\n                  _.trys.pop(); continue;\n          }\n          op = body.call(thisArg, _);\n      } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n      if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n  }\n}\n\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n  }\n  Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nexport function __exportStar(m, o) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\n}\n\nexport function __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n      next: function () {\n          if (o && i >= o.length) o = void 0;\n          return { value: o && o[i++], done: !o };\n      }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\n\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o), r, ar = [], e;\n  try {\n      while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  }\n  catch (error) { e = { error: error }; }\n  finally {\n      try {\n          if (r && !r.done && (m = i[\"return\"])) m.call(i);\n      }\n      finally { if (e) throw e.error; }\n  }\n  return ar;\n}\n\n/** @deprecated */\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++)\n      ar = ar.concat(__read(arguments[i]));\n  return ar;\n}\n\n/** @deprecated */\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n  for (var r = Array(s), k = 0, i = 0; i < il; i++)\n      for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n          r[k] = a[j];\n  return r;\n}\n\nexport function __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n      if (ar || !(i in from)) {\n          if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n          ar[i] = from[i];\n      }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\n\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\n\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []), i, q = [];\n  return i = Object.create((typeof AsyncIterator === \"function\" ? AsyncIterator : Object).prototype), verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\n  function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\n  function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\n  function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n  function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n  function fulfill(value) { resume(\"next\", value); }\n  function reject(value) { resume(\"throw\", value); }\n  function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n}\n\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n  function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\n}\n\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator], i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n  function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n  function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n}\n\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n  return cooked;\n};\n\nvar __setModuleDefault = Object.create ? (function(o, v) {\n  Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n  o[\"default\"] = v;\n};\n\nvar ownKeys = function(o) {\n  ownKeys = Object.getOwnPropertyNames || function (o) {\n    var ar = [];\n    for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\n    return ar;\n  };\n  return ownKeys(o);\n};\n\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\n  __setModuleDefault(result, mod);\n  return result;\n}\n\nexport function __importDefault(mod) {\n  return (mod && mod.__esModule) ? mod : { default: mod };\n}\n\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\n\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n}\n\nexport function __classPrivateFieldIn(state, receiver) {\n  if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\n  return typeof state === \"function\" ? receiver === state : state.has(receiver);\n}\n\nexport function __addDisposableResource(env, value, async) {\n  if (value !== null && value !== void 0) {\n    if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\n    var dispose, inner;\n    if (async) {\n      if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\n      dispose = value[Symbol.asyncDispose];\n    }\n    if (dispose === void 0) {\n      if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\n      dispose = value[Symbol.dispose];\n      if (async) inner = dispose;\n    }\n    if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\n    if (inner) dispose = function() { try { inner.call(this); } catch (e) { return Promise.reject(e); } };\n    env.stack.push({ value: value, dispose: dispose, async: async });\n  }\n  else if (async) {\n    env.stack.push({ async: true });\n  }\n  return value;\n}\n\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\n\nexport function __disposeResources(env) {\n  function fail(e) {\n    env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\n    env.hasError = true;\n  }\n  var r, s = 0;\n  function next() {\n    while (r = env.stack.pop()) {\n      try {\n        if (!r.async && s === 1) return s = 0, env.stack.push(r), Promise.resolve().then(next);\n        if (r.dispose) {\n          var result = r.dispose.call(r.value);\n          if (r.async) return s |= 2, Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\n        }\n        else s |= 1;\n      }\n      catch (e) {\n        fail(e);\n      }\n    }\n    if (s === 1) return env.hasError ? Promise.reject(env.error) : Promise.resolve();\n    if (env.hasError) throw env.error;\n  }\n  return next();\n}\n\nexport function __rewriteRelativeImportExtension(path, preserveJsx) {\n  if (typeof path === \"string\" && /^\\.\\.?\\//.test(path)) {\n      return path.replace(/\\.(tsx)$|((?:\\.d)?)((?:\\.[^./]+?)?)\\.([cm]?)ts$/i, function (m, tsx, d, ext, cm) {\n          return tsx ? preserveJsx ? \".jsx\" : \".js\" : d && (!ext || !cm) ? m : (d + ext + \".\" + cm.toLowerCase() + \"js\");\n      });\n  }\n  return path;\n}\n\nexport default {\n  __extends,\n  __assign,\n  __rest,\n  __decorate,\n  __param,\n  __esDecorate,\n  __runInitializers,\n  __propKey,\n  __setFunctionName,\n  __metadata,\n  __awaiter,\n  __generator,\n  __createBinding,\n  __exportStar,\n  __values,\n  __read,\n  __spread,\n  __spreadArrays,\n  __spreadArray,\n  __await,\n  __asyncGenerator,\n  __asyncDelegator,\n  __asyncValues,\n  __makeTemplateObject,\n  __importStar,\n  __importDefault,\n  __classPrivateFieldGet,\n  __classPrivateFieldSet,\n  __classPrivateFieldIn,\n  __addDisposableResource,\n  __disposeResources,\n  __rewriteRelativeImportExtension,\n};\n","import * as i0 from '@angular/core';\nimport { inject, ElementRef, input, forwardRef, HostListener, Directive, output, Component, signal, Injectable, ViewContainerRef, effect, InjectionToken, viewChild, EventEmitter, Renderer2, Output } from '@angular/core';\nimport * as i2 from '@angular/forms';\nimport { NG_VALUE_ACCESSOR, FormControl, ReactiveFormsModule, FormBuilder, FormsModule } from '@angular/forms';\nimport { startWith, combineLatest, map, firstValueFrom, of, from, tap, filter, defaultIfEmpty, Observable, lastValueFrom, forkJoin, iif, switchMap, mergeMap, BehaviorSubject, distinctUntilChanged, delay, exhaustMap, merge, fromEvent, debounceTime } from 'rxjs';\nimport { MatRipple } from '@angular/material/core';\nimport * as i1$1 from '@angular/cdk/drag-drop';\nimport { CdkDragHandle, CdkDrag, CdkDropList } from '@angular/cdk/drag-drop';\nimport * as i1 from '@angular/cdk/overlay';\nimport { OverlayModule, Overlay } from '@angular/cdk/overlay';\nimport * as i1$2 from '@angular/material/icon';\nimport { MatIcon, MatIconModule } from '@angular/material/icon';\nimport { AsyncPipe, NgTemplateOutlet, NgClass } from '@angular/common';\nimport { toObservable } from '@angular/core/rxjs-interop';\nimport { MatFormField, MatLabel } from '@angular/material/form-field';\nimport { MatInput } from '@angular/material/input';\nimport { MatList, MatListItem, MatListModule } from '@angular/material/list';\nimport { ComponentPortal } from '@angular/cdk/portal';\n\nclass ControlAccessorDirective {\n    elementRef = inject(ElementRef);\n    defaultValue = input();\n    onChange = () => { };\n    onTouched = () => { };\n    writeValue() {\n        this.elementRef.nativeElement.innerHTML = this.defaultValue() || '';\n    }\n    registerOnChange(fn) {\n        this.onChange = fn;\n    }\n    registerOnTouched(fn) {\n        this.onTouched = fn;\n    }\n    onBlur() {\n        this.onTouched();\n    }\n    onInput() {\n        this.onChange(this.elementRef.nativeElement.innerHTML);\n    }\n    static fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.0.4\", ngImport: i0, type: ControlAccessorDirective, deps: [], target: i0.FactoryTarget.Directive });\n    static dir = i0.ngDeclareDirective({ minVersion: \"17.1.0\", version: \"20.0.4\", type: ControlAccessorDirective, isStandalone: true, selector: \"[controlAccessor]\", inputs: { defaultValue: { classPropertyName: \"defaultValue\", publicName: \"defaultValue\", isSignal: true, isRequired: false, transformFunction: null } }, host: { listeners: { \"blur\": \"onBlur()\", \"input\": \"onInput()\" } }, providers: [\n            {\n                provide: NG_VALUE_ACCESSOR,\n                useExisting: forwardRef(() => ControlAccessorDirective),\n                multi: true,\n            },\n        ], ngImport: i0 });\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.0.4\", ngImport: i0, type: ControlAccessorDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[controlAccessor]',\n                    providers: [\n                        {\n                            provide: NG_VALUE_ACCESSOR,\n                            useExisting: forwardRef(() => ControlAccessorDirective),\n                            multi: true,\n                        },\n                    ],\n                }]\n        }], propDecorators: { onBlur: [{\n                type: HostListener,\n                args: ['blur']\n            }], onInput: [{\n                type: HostListener,\n                args: ['input']\n            }] } });\n\nclass AutofocusDirective {\n    elementRef = inject(ElementRef);\n    autofocus = input(false);\n    ngAfterContentInit() {\n        this.autofocus() && this.elementRef.nativeElement.focus?.();\n    }\n    static fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.0.4\", ngImport: i0, type: AutofocusDirective, deps: [], target: i0.FactoryTarget.Directive });\n    static dir = i0.ngDeclareDirective({ minVersion: \"17.1.0\", version: \"20.0.4\", type: AutofocusDirective, isStandalone: true, selector: \"[autofocus]\", inputs: { autofocus: { classPropertyName: \"autofocus\", publicName: \"autofocus\", isSignal: true, isRequired: false, transformFunction: null } }, ngImport: i0 });\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.0.4\", ngImport: i0, type: AutofocusDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[autofocus]',\n                }]\n        }] });\n\nvar MovePositionActions;\n(function (MovePositionActions) {\n    MovePositionActions[\"UP\"] = \"UP\";\n    MovePositionActions[\"DOWN\"] = \"DOWN\";\n    MovePositionActions[\"DELETE\"] = \"DELETE\";\n})(MovePositionActions || (MovePositionActions = {}));\n\nclass ToolbarBlockOptionsComponent {\n    Position = MovePositionActions;\n    blockOptionActions = input();\n    handleActionEmitter = output({ alias: 'handleAction' });\n    moveBlockPositionEmitter = output({\n        alias: 'moveBlockPosition',\n    });\n    movePosition(action) {\n        this.moveBlockPositionEmitter.emit(action);\n    }\n    handleAction(action) {\n        this.handleActionEmitter.emit(action);\n    }\n    static fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.0.4\", ngImport: i0, type: ToolbarBlockOptionsComponent, deps: [], target: i0.FactoryTarget.Component });\n    static cmp = i0.ngDeclareComponent({ minVersion: \"17.0.0\", version: \"20.0.4\", type: ToolbarBlockOptionsComponent, isStandalone: true, selector: \"toolbar-block-options\", inputs: { blockOptionActions: { classPropertyName: \"blockOptionActions\", publicName: \"blockOptionActions\", isSignal: true, isRequired: false, transformFunction: null } }, outputs: { handleActionEmitter: \"handleAction\", moveBlockPositionEmitter: \"moveBlockPosition\" }, ngImport: i0, template: `\n    <div class=\"actions-panel mat-elevation-z24\">\n      <div class=\"action-btn\" matRipple (click)=\"movePosition(Position.UP)\">\n        <mat-icon>arrow_upward</mat-icon>\n      </div>\n      <div class=\"action-btn\" matRipple (click)=\"movePosition(Position.DELETE)\">\n        <mat-icon>delete</mat-icon>\n      </div>\n      <div class=\"action-btn\" matRipple (click)=\"movePosition(Position.DOWN)\">\n        <mat-icon>arrow_downward</mat-icon>\n      </div>\n      @for(blockOptionAction of blockOptionActions(); track $index) {\n      <div\n        class=\"action-btn\"\n        (click)=\"handleAction(blockOptionAction.action)\"\n        matRipple\n      >\n        @if (blockOptionAction.text) {\n        {{ blockOptionAction.text }}\n        } @else {\n        <mat-icon>{{ blockOptionAction.icon }}</mat-icon>\n        }\n      </div>\n      }\n    </div>\n  `, isInline: true, styles: [\":host .actions-panel{display:flex;flex-direction:row;flex-wrap:wrap;gap:1px;width:128px;max-height:128px;border-radius:4px;overflow:auto;background:var(--mat-sys-secondary)}:host .actions-panel .action-btn{cursor:pointer;width:42px;height:42px;display:flex;align-items:center;justify-content:center;border-radius:4px;color:var(--mat-sys-on-secondary);background:var(--mat-sys-secondary)}:host .actions-panel .action-btn:hover,:host .actions-panel .action-btn:focus{color:var(--mat-sys-secondary);background:var(--mat-sys-on-secondary)}\\n\"], dependencies: [{ kind: \"component\", type: MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }, { kind: \"directive\", type: MatRipple, selector: \"[mat-ripple], [matRipple]\", inputs: [\"matRippleColor\", \"matRippleUnbounded\", \"matRippleCentered\", \"matRippleRadius\", \"matRippleAnimation\", \"matRippleDisabled\", \"matRippleTrigger\"], exportAs: [\"matRipple\"] }] });\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.0.4\", ngImport: i0, type: ToolbarBlockOptionsComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'toolbar-block-options', imports: [MatIcon, MatRipple], template: `\n    <div class=\"actions-panel mat-elevation-z24\">\n      <div class=\"action-btn\" matRipple (click)=\"movePosition(Position.UP)\">\n        <mat-icon>arrow_upward</mat-icon>\n      </div>\n      <div class=\"action-btn\" matRipple (click)=\"movePosition(Position.DELETE)\">\n        <mat-icon>delete</mat-icon>\n      </div>\n      <div class=\"action-btn\" matRipple (click)=\"movePosition(Position.DOWN)\">\n        <mat-icon>arrow_downward</mat-icon>\n      </div>\n      @for(blockOptionAction of blockOptionActions(); track $index) {\n      <div\n        class=\"action-btn\"\n        (click)=\"handleAction(blockOptionAction.action)\"\n        matRipple\n      >\n        @if (blockOptionAction.text) {\n        {{ blockOptionAction.text }}\n        } @else {\n        <mat-icon>{{ blockOptionAction.icon }}</mat-icon>\n        }\n      </div>\n      }\n    </div>\n  `, styles: [\":host .actions-panel{display:flex;flex-direction:row;flex-wrap:wrap;gap:1px;width:128px;max-height:128px;border-radius:4px;overflow:auto;background:var(--mat-sys-secondary)}:host .actions-panel .action-btn{cursor:pointer;width:42px;height:42px;display:flex;align-items:center;justify-content:center;border-radius:4px;color:var(--mat-sys-on-secondary);background:var(--mat-sys-secondary)}:host .actions-panel .action-btn:hover,:host .actions-panel .action-btn:focus{color:var(--mat-sys-secondary);background:var(--mat-sys-on-secondary)}\\n\"] }]\n        }] });\n\nclass ToolbarBlocksComponent {\n    addBlockEmitter = output({ alias: 'addBlock' });\n    supportedBlocks = input([]);\n    supportedBlocks$ = toObservable(this.supportedBlocks);\n    blockCtrl = new FormControl([]);\n    filter$ = this.blockCtrl.valueChanges.pipe(startWith(''));\n    filteredBlocks$ = combineLatest([this.supportedBlocks$, this.filter$]).pipe(map(([blocks, filterString]) => {\n        if (typeof filterString !== 'string')\n            filterString = '';\n        filterString = filterString.replace(/\\\\/g, '');\n        const pattern = filterString\n            ?.split('')\n            .map((v) => `(?=.*${v})`)\n            .join('');\n        const regex = new RegExp(`${pattern}`, 'gi');\n        // return blocks.filter(block => regex.exec(block));\n        return blocks.filter((block) => block.name.match(regex));\n    }));\n    addBlock(block) {\n        this.addBlockEmitter.emit(block?.component);\n    }\n    static fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.0.4\", ngImport: i0, type: ToolbarBlocksComponent, deps: [], target: i0.FactoryTarget.Component });\n    static cmp = i0.ngDeclareComponent({ minVersion: \"17.0.0\", version: \"20.0.4\", type: ToolbarBlocksComponent, isStandalone: true, selector: \"toolbar-blocks\", inputs: { supportedBlocks: { classPropertyName: \"supportedBlocks\", publicName: \"supportedBlocks\", isSignal: true, isRequired: false, transformFunction: null } }, outputs: { addBlockEmitter: \"addBlock\" }, ngImport: i0, template: `\n    <div class=\"block-list-container mat-elevation-z24\">\n      <mat-form-field appearance=\"fill\" color=\"accent\">\n        <mat-label>Filter</mat-label>\n        <input\n          class=\"filter-text\"\n          matInput\n          [formControl]=\"blockCtrl\"\n          [autofocus]=\"true\"\n        />\n      </mat-form-field>\n      @if(filteredBlocks$ | async; as filteredBlocks) {\n      <mat-list class=\"block-list-panel\">\n        @if (filteredBlocks.length <= 0) {\n        <mat-list-item matRipple mat-list-item> No Results </mat-list-item>\n        } @else { @for(block of filteredBlocks; track $index) {\n        <mat-list-item matRipple mat-list-item (click)=\"addBlock(block)\">\n          {{ block.name }}\n        </mat-list-item>\n        } }\n      </mat-list>\n      }\n    </div>\n  `, isInline: true, styles: [\":host .mat-mdc-list-base{padding-top:0;margin-top:-14px}:host .block-list-container{background:var(--mat-sys-secondary-container);border-radius:4px}:host .block-list-panel{max-width:280px;max-height:240px;border-bottom-left-radius:4px;border-bottom-right-radius:4px;overflow:auto;color:var(--mat-sys-on-secondary-container)}:host mat-list-item{cursor:pointer;-webkit-user-select:none;user-select:none}:host mat-list-item:hover,:host mat-list-item:focus{background:var(--mat-sys-surface-bright)}\\n\"], dependencies: [{ kind: \"component\", type: MatFormField, selector: \"mat-form-field\", inputs: [\"hideRequiredMarker\", \"color\", \"floatLabel\", \"appearance\", \"subscriptSizing\", \"hintLabel\"], exportAs: [\"matFormField\"] }, { kind: \"directive\", type: MatInput, selector: \"input[matInput], textarea[matInput], select[matNativeControl],      input[matNativeControl], textarea[matNativeControl]\", inputs: [\"disabled\", \"id\", \"placeholder\", \"name\", \"required\", \"type\", \"errorStateMatcher\", \"aria-describedby\", \"value\", \"readonly\", \"disabledInteractive\"], exportAs: [\"matInput\"] }, { kind: \"component\", type: MatList, selector: \"mat-list\", exportAs: [\"matList\"] }, { kind: \"component\", type: MatListItem, selector: \"mat-list-item, a[mat-list-item], button[mat-list-item]\", inputs: [\"activated\"], exportAs: [\"matListItem\"] }, { kind: \"directive\", type: MatRipple, selector: \"[mat-ripple], [matRipple]\", inputs: [\"matRippleColor\", \"matRippleUnbounded\", \"matRippleCentered\", \"matRippleRadius\", \"matRippleAnimation\", \"matRippleDisabled\", \"matRippleTrigger\"], exportAs: [\"matRipple\"] }, { kind: \"directive\", type: MatLabel, selector: \"mat-label\" }, { kind: \"ngmodule\", type: ReactiveFormsModule }, { kind: \"directive\", type: i2.DefaultValueAccessor, selector: \"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]\" }, { kind: \"directive\", type: i2.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { kind: \"directive\", type: i2.FormControlDirective, selector: \"[formControl]\", inputs: [\"formControl\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"], exportAs: [\"ngForm\"] }, { kind: \"pipe\", type: AsyncPipe, name: \"async\" }] });\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.0.4\", ngImport: i0, type: ToolbarBlocksComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'toolbar-blocks', imports: [\n                        MatFormField,\n                        MatInput,\n                        MatList,\n                        MatListItem,\n                        MatRipple,\n                        MatLabel,\n                        ReactiveFormsModule,\n                        AsyncPipe,\n                    ], template: `\n    <div class=\"block-list-container mat-elevation-z24\">\n      <mat-form-field appearance=\"fill\" color=\"accent\">\n        <mat-label>Filter</mat-label>\n        <input\n          class=\"filter-text\"\n          matInput\n          [formControl]=\"blockCtrl\"\n          [autofocus]=\"true\"\n        />\n      </mat-form-field>\n      @if(filteredBlocks$ | async; as filteredBlocks) {\n      <mat-list class=\"block-list-panel\">\n        @if (filteredBlocks.length <= 0) {\n        <mat-list-item matRipple mat-list-item> No Results </mat-list-item>\n        } @else { @for(block of filteredBlocks; track $index) {\n        <mat-list-item matRipple mat-list-item (click)=\"addBlock(block)\">\n          {{ block.name }}\n        </mat-list-item>\n        } }\n      </mat-list>\n      }\n    </div>\n  `, styles: [\":host .mat-mdc-list-base{padding-top:0;margin-top:-14px}:host .block-list-container{background:var(--mat-sys-secondary-container);border-radius:4px}:host .block-list-panel{max-width:280px;max-height:240px;border-bottom-left-radius:4px;border-bottom-right-radius:4px;overflow:auto;color:var(--mat-sys-on-secondary-container)}:host mat-list-item{cursor:pointer;-webkit-user-select:none;user-select:none}:host mat-list-item:hover,:host mat-list-item:focus{background:var(--mat-sys-surface-bright)}\\n\"] }]\n        }] });\n\nclass ToolbarComponent {\n    componentContextPositionIndex = input.required();\n    supportedBlocks = input.required();\n    blockOptionActions = input();\n    actionCallback = input(() => () => { });\n    formControlName = input();\n    addBlockCallback = input.required();\n    moveBlockPositionCallback = input.required();\n    openBlocks = signal(false);\n    openBlocksOption = signal(false);\n    openBlocksList() {\n        this.openBlocks.update((prev) => !prev);\n    }\n    openBlockOptionList() {\n        this.openBlocksOption.update((prev) => !prev);\n    }\n    moveBlockPosition(action) {\n        this.closeLists();\n        this.moveBlockPositionCallback()(action, this.componentContextPositionIndex());\n    }\n    handleAction(action) {\n        this.closeLists();\n        this.actionCallback()(action);\n    }\n    addBlock(block) {\n        this.closeLists();\n        firstValueFrom(this.addBlockCallback()(block, this.componentContextPositionIndex()));\n    }\n    closeLists() {\n        this.openBlocks.set(false);\n        this.openBlocksOption.set(false);\n    }\n    static fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.0.4\", ngImport: i0, type: ToolbarComponent, deps: [], target: i0.FactoryTarget.Component });\n    static cmp = i0.ngDeclareComponent({ minVersion: \"17.1.0\", version: \"20.0.4\", type: ToolbarComponent, isStandalone: true, selector: \"toolbar\", inputs: { componentContextPositionIndex: { classPropertyName: \"componentContextPositionIndex\", publicName: \"componentContextPositionIndex\", isSignal: true, isRequired: true, transformFunction: null }, supportedBlocks: { classPropertyName: \"supportedBlocks\", publicName: \"supportedBlocks\", isSignal: true, isRequired: true, transformFunction: null }, blockOptionActions: { classPropertyName: \"blockOptionActions\", publicName: \"blockOptionActions\", isSignal: true, isRequired: false, transformFunction: null }, actionCallback: { classPropertyName: \"actionCallback\", publicName: \"actionCallback\", isSignal: true, isRequired: false, transformFunction: null }, formControlName: { classPropertyName: \"formControlName\", publicName: \"formControlName\", isSignal: true, isRequired: false, transformFunction: null }, addBlockCallback: { classPropertyName: \"addBlockCallback\", publicName: \"addBlockCallback\", isSignal: true, isRequired: true, transformFunction: null }, moveBlockPositionCallback: { classPropertyName: \"moveBlockPositionCallback\", publicName: \"moveBlockPositionCallback\", isSignal: true, isRequired: true, transformFunction: null } }, ngImport: i0, template: `\n    <div class=\"toolbar-buttons-container\">\n      <div\n        class=\"toolbar-buttons mat-elevation-z4\"\n        #blockListTigger=\"cdkOverlayOrigin\"\n        cdkOverlayOrigin\n        matRipple\n        (click)=\"openBlocksList()\"\n      >\n        <span class=\"material-icons\">add</span>\n      </div>\n      <div\n        class=\"toolbar-buttons mat-elevation-z4\"\n        #blockOptionListTigger=\"cdkOverlayOrigin\"\n        cdkDragHandle\n        cdkOverlayOrigin\n        matRipple\n        (click)=\"openBlockOptionList()\"\n      >\n        <span class=\"material-icons\">drag_indicator</span>\n      </div>\n    </div>\n\n    <!-- Block type search list -->\n    <ng-template\n      cdkConnectedOverlay\n      (overlayOutsideClick)=\"openBlocks.set(false)\"\n      [cdkConnectedOverlayOrigin]=\"blockListTigger\"\n      [cdkConnectedOverlayOpen]=\"openBlocks()\"\n      [cdkConnectedOverlayHasBackdrop]=\"true\"\n      [cdkConnectedOverlayOffsetY]=\"15\"\n      [cdkConnectedOverlayBackdropClass]=\"'cdk-overlay-transparent-backdrop'\"\n    >\n      <toolbar-blocks\n        [supportedBlocks]=\"supportedBlocks()\"\n        (addBlock)=\"addBlock($event)\"\n      ></toolbar-blocks>\n    </ng-template>\n\n    <!-- Options List-->\n    <ng-template\n      cdkConnectedOverlay\n      (overlayOutsideClick)=\"openBlocksOption.set(false)\"\n      [cdkConnectedOverlayOrigin]=\"blockOptionListTigger\"\n      [cdkConnectedOverlayOpen]=\"openBlocksOption()\"\n      [cdkConnectedOverlayHasBackdrop]=\"true\"\n      [cdkConnectedOverlayOffsetX]=\"-49\"\n      [cdkConnectedOverlayOffsetY]=\"15\"\n      [cdkConnectedOverlayBackdropClass]=\"'cdk-overlay-transparent-backdrop'\"\n    >\n      <toolbar-block-options\n        [blockOptionActions]=\"blockOptionActions()\"\n        (handleAction)=\"handleAction($event)\"\n        (moveBlockPosition)=\"moveBlockPosition($event)\"\n      ></toolbar-block-options>\n    </ng-template>\n  `, isInline: true, styles: [\":host .toolbar-buttons-container{position:relative;display:flex;gap:10px}:host .toolbar-buttons{cursor:pointer;width:30px;height:30px;display:flex;justify-content:center;align-items:center;border-radius:4px;margin-bottom:14px;-webkit-user-select:none;user-select:none;color:var(--mat-sys-on-tertiary-container);background:var(--mat-sys-tertiary-container)}:host .toolbar-buttons:hover,:host .toolbar-buttons:focus{background:var(--mat-sys-surface-bright)}@media (min-width: 768px){:host{position:absolute;margin-left:-80px;top:0}}\\n\"], dependencies: [{ kind: \"directive\", type: CdkDragHandle, selector: \"[cdkDragHandle]\", inputs: [\"cdkDragHandleDisabled\"] }, { kind: \"directive\", type: MatRipple, selector: \"[mat-ripple], [matRipple]\", inputs: [\"matRippleColor\", \"matRippleUnbounded\", \"matRippleCentered\", \"matRippleRadius\", \"matRippleAnimation\", \"matRippleDisabled\", \"matRippleTrigger\"], exportAs: [\"matRipple\"] }, { kind: \"ngmodule\", type: OverlayModule }, { kind: \"directive\", type: i1.CdkConnectedOverlay, selector: \"[cdk-connected-overlay], [connected-overlay], [cdkConnectedOverlay]\", inputs: [\"cdkConnectedOverlayOrigin\", \"cdkConnectedOverlayPositions\", \"cdkConnectedOverlayPositionStrategy\", \"cdkConnectedOverlayOffsetX\", \"cdkConnectedOverlayOffsetY\", \"cdkConnectedOverlayWidth\", \"cdkConnectedOverlayHeight\", \"cdkConnectedOverlayMinWidth\", \"cdkConnectedOverlayMinHeight\", \"cdkConnectedOverlayBackdropClass\", \"cdkConnectedOverlayPanelClass\", \"cdkConnectedOverlayViewportMargin\", \"cdkConnectedOverlayScrollStrategy\", \"cdkConnectedOverlayOpen\", \"cdkConnectedOverlayDisableClose\", \"cdkConnectedOverlayTransformOriginOn\", \"cdkConnectedOverlayHasBackdrop\", \"cdkConnectedOverlayLockPosition\", \"cdkConnectedOverlayFlexibleDimensions\", \"cdkConnectedOverlayGrowAfterOpen\", \"cdkConnectedOverlayPush\", \"cdkConnectedOverlayDisposeOnNavigation\"], outputs: [\"backdropClick\", \"positionChange\", \"attach\", \"detach\", \"overlayKeydown\", \"overlayOutsideClick\"], exportAs: [\"cdkConnectedOverlay\"] }, { kind: \"directive\", type: i1.CdkOverlayOrigin, selector: \"[cdk-overlay-origin], [overlay-origin], [cdkOverlayOrigin]\", exportAs: [\"cdkOverlayOrigin\"] }, { kind: \"component\", type: ToolbarBlockOptionsComponent, selector: \"toolbar-block-options\", inputs: [\"blockOptionActions\"], outputs: [\"handleAction\", \"moveBlockPosition\"] }, { kind: \"component\", type: ToolbarBlocksComponent, selector: \"toolbar-blocks\", inputs: [\"supportedBlocks\"], outputs: [\"addBlock\"] }] });\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.0.4\", ngImport: i0, type: ToolbarComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'toolbar', imports: [\n                        CdkDragHandle,\n                        MatRipple,\n                        OverlayModule,\n                        ToolbarBlockOptionsComponent,\n                        ToolbarBlocksComponent,\n                    ], template: `\n    <div class=\"toolbar-buttons-container\">\n      <div\n        class=\"toolbar-buttons mat-elevation-z4\"\n        #blockListTigger=\"cdkOverlayOrigin\"\n        cdkOverlayOrigin\n        matRipple\n        (click)=\"openBlocksList()\"\n      >\n        <span class=\"material-icons\">add</span>\n      </div>\n      <div\n        class=\"toolbar-buttons mat-elevation-z4\"\n        #blockOptionListTigger=\"cdkOverlayOrigin\"\n        cdkDragHandle\n        cdkOverlayOrigin\n        matRipple\n        (click)=\"openBlockOptionList()\"\n      >\n        <span class=\"material-icons\">drag_indicator</span>\n      </div>\n    </div>\n\n    <!-- Block type search list -->\n    <ng-template\n      cdkConnectedOverlay\n      (overlayOutsideClick)=\"openBlocks.set(false)\"\n      [cdkConnectedOverlayOrigin]=\"blockListTigger\"\n      [cdkConnectedOverlayOpen]=\"openBlocks()\"\n      [cdkConnectedOverlayHasBackdrop]=\"true\"\n      [cdkConnectedOverlayOffsetY]=\"15\"\n      [cdkConnectedOverlayBackdropClass]=\"'cdk-overlay-transparent-backdrop'\"\n    >\n      <toolbar-blocks\n        [supportedBlocks]=\"supportedBlocks()\"\n        (addBlock)=\"addBlock($event)\"\n      ></toolbar-blocks>\n    </ng-template>\n\n    <!-- Options List-->\n    <ng-template\n      cdkConnectedOverlay\n      (overlayOutsideClick)=\"openBlocksOption.set(false)\"\n      [cdkConnectedOverlayOrigin]=\"blockOptionListTigger\"\n      [cdkConnectedOverlayOpen]=\"openBlocksOption()\"\n      [cdkConnectedOverlayHasBackdrop]=\"true\"\n      [cdkConnectedOverlayOffsetX]=\"-49\"\n      [cdkConnectedOverlayOffsetY]=\"15\"\n      [cdkConnectedOverlayBackdropClass]=\"'cdk-overlay-transparent-backdrop'\"\n    >\n      <toolbar-block-options\n        [blockOptionActions]=\"blockOptionActions()\"\n        (handleAction)=\"handleAction($event)\"\n        (moveBlockPosition)=\"moveBlockPosition($event)\"\n      ></toolbar-block-options>\n    </ng-template>\n  `, styles: [\":host .toolbar-buttons-container{position:relative;display:flex;gap:10px}:host .toolbar-buttons{cursor:pointer;width:30px;height:30px;display:flex;justify-content:center;align-items:center;border-radius:4px;margin-bottom:14px;-webkit-user-select:none;user-select:none;color:var(--mat-sys-on-tertiary-container);background:var(--mat-sys-tertiary-container)}:host .toolbar-buttons:hover,:host .toolbar-buttons:focus{background:var(--mat-sys-surface-bright)}@media (min-width: 768px){:host{position:absolute;margin-left:-80px;top:0}}\\n\"] }]\n        }] });\n\nclass BlockMovementService {\n    componentRefMap = new Map();\n    clearComponentRefs() {\n        this.componentRefMap.clear();\n    }\n    getNgxEditorJsBlocks() {\n        return of(Array.from(this.componentRefMap.values()));\n    }\n    newComponentAttached(componentRef) {\n        this.componentRefMap.set(componentRef.instance, componentRef);\n    }\n    updateComponentIndices(ngxEditor) {\n        return from(this.componentRefMap.values()).pipe(tap((componentRef) => componentRef.setInput('sortIndex', ngxEditor.indexOf(componentRef.hostView))));\n    }\n    moveBlockComponentPosition(ngxEditor, action, index) {\n        return of(Array.from(this.componentRefMap.values())).pipe(map((componentRefs) => componentRefs.find((componentRef) => ngxEditor.indexOf(componentRef.hostView) === index - 1)), filter((componentRef) => !!componentRef), map((componentRef) => ({\n            componentRef,\n            totalComponents: ngxEditor.length - 1,\n            currentIndex: ngxEditor.indexOf(componentRef.hostView),\n            newIndex: (index) => action === MovePositionActions.UP ? index - 1 : index + 1,\n        })), map(({ componentRef, totalComponents, currentIndex, newIndex }) => ({\n            componentRef,\n            currentIndex,\n            newIndex: Math.max(0, Math.min(newIndex(currentIndex), totalComponents)),\n        })), filter(({ currentIndex, newIndex }) => currentIndex !== newIndex), tap(({ componentRef, newIndex }) => {\n            ngxEditor.move(componentRef.hostView, newIndex);\n            componentRef.setInput('sortIndex', newIndex);\n            componentRef.setInput('autofocus', true);\n        }), defaultIfEmpty(false));\n    }\n    removeBlockComponent(ngxEditor, index, clear = false) {\n        return of(Array.from(this.componentRefMap.values())).pipe(filter((componentRefs) => clear || componentRefs.length !== 1), map((componentRefs) => componentRefs.find((componentRef) => ngxEditor.indexOf(componentRef.hostView) === index - 1)), map((componentRef) => this.componentRefMap.delete(componentRef?.instance ?? {})), tap((successful) => successful && ngxEditor.remove(index - 1)), defaultIfEmpty(false));\n    }\n    static fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.0.4\", ngImport: i0, type: BlockMovementService, deps: [], target: i0.FactoryTarget.Injectable });\n    static prov = i0.ngDeclareInjectable({ minVersion: \"12.0.0\", version: \"20.0.4\", ngImport: i0, type: BlockMovementService, providedIn: 'root' });\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.0.4\", ngImport: i0, type: BlockMovementService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root',\n                }]\n        }] });\n\nconst createUID = () => Math.random().toString(36).substring(7);\nclass EditorJsService {\n    formBuilder = inject(FormBuilder);\n    blockMovementService = inject(BlockMovementService);\n    componentRefMap = new Map();\n    ngxEditor;\n    formGroup = this.formBuilder.group({});\n    // TODO - Handle this idiomatically\n    setNgxEditor(ngxEditor) {\n        this.ngxEditor = ngxEditor;\n    }\n    getBlocks$() {\n        return new Observable((observer) => {\n            lastValueFrom(this.blockMovementService.getNgxEditorJsBlocks().pipe(map((componentRefs) => componentRefs.map(({ instance }) => ({\n                blockId: instance.formControlName(),\n                sortIndex: instance.sortIndex(),\n                componentInstanceName: instance.componentInstanceName,\n                savedAction: instance.savedAction(),\n                dataClean: instance.formGroup().get(instance.formControlName())\n                    ?.value,\n            }))), map((blocks) => blocks.sort((a, b) => a.sortIndex - b.sortIndex)))).then((blocks) => {\n                observer.next(blocks);\n                observer.complete();\n            });\n        });\n    }\n    createNgxEditorJsBlockWithComponent(blockComponent, componentContextPositionIndex) {\n        return of({\n            blockId: createUID(),\n            sortIndex: componentContextPositionIndex,\n            componentInstanceName: blockComponent.name,\n            component: blockComponent,\n            // TODO - Force content-type for dataClean? JSON, HTML, etc.\n            // TODO - And maybe rename dataClean to just data?\n            dataClean: '',\n            autofocus: true,\n        });\n    }\n    addBlockComponent(ngxEditorJsBlock) {\n        return forkJoin([\n            this.createFormGroupControl(ngxEditorJsBlock),\n            this.attachComponent(ngxEditorJsBlock),\n            this.blockMovementService.updateComponentIndices(this.ngxEditor),\n        ]).pipe(map(() => void 0));\n    }\n    createFormGroupControl({ blockId, dataClean, }) {\n        return of(this.formBuilder.control(dataClean, [])).pipe(tap((formControl) => this.formGroup.addControl(blockId, formControl)));\n    }\n    attachComponent({ component, blockId, autofocus, savedAction, sortIndex: index, }) {\n        return of(blockId).pipe(map((controlName) => {\n            const componentRef = this.ngxEditor.createComponent(component, {\n                index,\n            });\n            componentRef.setInput('sortIndex', index);\n            componentRef.setInput('formGroup', this.formGroup);\n            componentRef.setInput('formControlName', controlName);\n            componentRef.setInput('autofocus', autofocus);\n            savedAction && componentRef.instance.actionCallback?.(savedAction);\n            this.blockMovementService.newComponentAttached(componentRef);\n            return componentRef;\n        }));\n    }\n    determineMovePositionAction(action, index, formControlName) {\n        return iif(() => action === MovePositionActions.DELETE, this.removeBlockComponent(index, formControlName), this.blockMovementService.moveBlockComponentPosition(this.ngxEditor, action, index)).pipe(switchMap(() => this.blockMovementService.updateComponentIndices(this.ngxEditor)));\n    }\n    moveBlockComponentPosition(previousIndex, currentIndex) {\n        return of(this.ngxEditor.get(previousIndex)).pipe(filter((viewRef) => !!viewRef), tap((viewRef) => {\n            this.ngxEditor.move(viewRef, currentIndex);\n        }), switchMap(() => this.blockMovementService.updateComponentIndices(this.ngxEditor)), defaultIfEmpty(false));\n    }\n    removeBlockComponent(index, formControlName, clear = false) {\n        return combineLatest([\n            this.blockMovementService.removeBlockComponent(this.ngxEditor, index, clear),\n            of(this.formGroup.removeControl(formControlName)),\n        ]);\n    }\n    clearBlocks() {\n        return this.blockMovementService.getNgxEditorJsBlocks().pipe(filter((componentRefs) => componentRefs.length > 0), map((componentRefs) => componentRefs.sort((a, b) => a.instance.sortIndex() - b.instance.sortIndex())), mergeMap((componentRefs) => forkJoin(Array.from(componentRefs.values()).map((componentRef) => this.removeBlockComponent(componentRef.instance.sortIndex() + 1, componentRef.instance.formControlName(), true)))), switchMap(() => this.blockMovementService.updateComponentIndices(this.ngxEditor)), tap(() => {\n            this.blockMovementService.clearComponentRefs();\n            this.ngxEditor.clear();\n        }), defaultIfEmpty(false));\n    }\n    static fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.0.4\", ngImport: i0, type: EditorJsService, deps: [], target: i0.FactoryTarget.Injectable });\n    static prov = i0.ngDeclareInjectable({ minVersion: \"12.0.0\", version: \"20.0.4\", ngImport: i0, type: EditorJsService, providedIn: 'root' });\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.0.4\", ngImport: i0, type: EditorJsService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root',\n                }]\n        }] });\n\nclass ToolFabService {\n    ngxEditorJs2Service = inject(NgxEditorJs2Service);\n    editorJsService = inject(EditorJsService);\n    // I need to explain this in detail so the future me can understand this.\n    componentContext = new BehaviorSubject(null);\n    toolbarComponentRef$ = combineLatest({\n        componentContext: this.componentContext.asObservable(),\n        supportedBlocks: this.ngxEditorJs2Service.supportedBlocks$,\n    }).pipe(filter(({ componentContext }) => componentContext !== null), distinctUntilChanged(({ componentContext: previous }, { componentContext: current }) => previous.index !== current.index ||\n        previous.viewContainerRef !== current.viewContainerRef\n        ? (previous.viewContainerRef.clear(), false)\n        : true), map(({ componentContext, supportedBlocks }) => {\n        const { index, viewContainerRef, blockOptionActions, actionCallback, formControlName, } = componentContext;\n        // TODO We will need to create a ToolbarBottomRailComponent to handle the mobile view\n        const componentRef = viewContainerRef.createComponent(ToolbarComponent);\n        componentRef.setInput('componentContextPositionIndex', index + 1);\n        componentRef.setInput('supportedBlocks', supportedBlocks);\n        componentRef.setInput('blockOptionActions', blockOptionActions);\n        componentRef.setInput('actionCallback', actionCallback);\n        componentRef.setInput('formControlName', formControlName);\n        componentRef.setInput('addBlockCallback', this.addBlock.bind(this));\n        componentRef.setInput('moveBlockPositionCallback', this.movePositionAction.bind(this));\n        return componentRef;\n    }));\n    addBlock(block, index) {\n        return this.editorJsService\n            .createNgxEditorJsBlockWithComponent(block, index)\n            .pipe(switchMap((block) => this.editorJsService.addBlockComponent(block)));\n    }\n    movePositionAction(action, index, formControlName) {\n        return lastValueFrom(this.editorJsService.determineMovePositionAction(action, index, formControlName));\n    }\n    static fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.0.4\", ngImport: i0, type: ToolFabService, deps: [], target: i0.FactoryTarget.Injectable });\n    static prov = i0.ngDeclareInjectable({ minVersion: \"12.0.0\", version: \"20.0.4\", ngImport: i0, type: ToolFabService, providedIn: 'root' });\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.0.4\", ngImport: i0, type: ToolFabService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root',\n                }]\n        }] });\n\nclass ToolbarFabDirective {\n    toolFabService = inject(ToolFabService);\n    viewContainerRef = inject(ViewContainerRef);\n    autofocus = input();\n    blockOptionActions = input();\n    actionCallback = input.required();\n    componentContextPositionIndex = input.required();\n    formControlName = input.required();\n    onMouseEnter() {\n        this.toolFabService.componentContext.next({\n            viewContainerRef: this.viewContainerRef,\n            blockOptionActions: this.blockOptionActions() ?? [],\n            actionCallback: this.actionCallback(),\n            index: this.componentContextPositionIndex(),\n            formControlName: this.formControlName(),\n        });\n    }\n    constructor() {\n        effect(() => {\n            this.autofocus() && this.onMouseEnter();\n        });\n    }\n    static fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.0.4\", ngImport: i0, type: ToolbarFabDirective, deps: [], target: i0.FactoryTarget.Directive });\n    static dir = i0.ngDeclareDirective({ minVersion: \"17.1.0\", version: \"20.0.4\", type: ToolbarFabDirective, isStandalone: true, selector: \"[toolbarFab]\", inputs: { autofocus: { classPropertyName: \"autofocus\", publicName: \"autofocus\", isSignal: true, isRequired: false, transformFunction: null }, blockOptionActions: { classPropertyName: \"blockOptionActions\", publicName: \"blockOptionActions\", isSignal: true, isRequired: false, transformFunction: null }, actionCallback: { classPropertyName: \"actionCallback\", publicName: \"actionCallback\", isSignal: true, isRequired: true, transformFunction: null }, componentContextPositionIndex: { classPropertyName: \"componentContextPositionIndex\", publicName: \"componentContextPositionIndex\", isSignal: true, isRequired: true, transformFunction: null }, formControlName: { classPropertyName: \"formControlName\", publicName: \"formControlName\", isSignal: true, isRequired: true, transformFunction: null } }, host: { listeners: { \"mouseenter\": \"onMouseEnter()\" } }, ngImport: i0 });\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.0.4\", ngImport: i0, type: ToolbarFabDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[toolbarFab]',\n                }]\n        }], ctorParameters: () => [], propDecorators: { onMouseEnter: [{\n                type: HostListener,\n                args: ['mouseenter']\n            }] } });\n\nclass CleanPasteDataDirective {\n    onPaste(event) {\n        event.preventDefault();\n        const text = event.clipboardData?.getData('text/plain');\n        document.execCommand('insertText', false, text);\n    }\n    static fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.0.4\", ngImport: i0, type: CleanPasteDataDirective, deps: [], target: i0.FactoryTarget.Directive });\n    static dir = i0.ngDeclareDirective({ minVersion: \"14.0.0\", version: \"20.0.4\", type: CleanPasteDataDirective, isStandalone: true, selector: \"[cleanPasteData]\", host: { listeners: { \"paste\": \"onPaste($event)\" } }, ngImport: i0 });\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.0.4\", ngImport: i0, type: CleanPasteDataDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[cleanPasteData]',\n                }]\n        }], propDecorators: { onPaste: [{\n                type: HostListener,\n                args: ['paste', ['$event']]\n            }] } });\n\nclass HeaderBlockComponent {\n    sortIndex = input(0);\n    componentInstanceName = 'HeaderBlockComponent';\n    autofocus = input(true);\n    formGroup = input.required();\n    formControlName = input.required();\n    blockOptionActions = input([\n        { action: 'h1', text: 'H1' },\n        { action: 'h2', text: 'H2' },\n        { action: 'h3', text: 'H3' },\n        { action: 'h4', text: 'H4' },\n        { action: 'h5', text: 'H5' },\n        { action: 'h6', text: 'H6' },\n    ]);\n    savedAction = signal('h1');\n    actionCallbackBind = this.actionCallback.bind(this);\n    actionCallback(selectedAction) {\n        this.savedAction.set(selectedAction);\n    }\n    static fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.0.4\", ngImport: i0, type: HeaderBlockComponent, deps: [], target: i0.FactoryTarget.Component });\n    static cmp = i0.ngDeclareComponent({ minVersion: \"17.0.0\", version: \"20.0.4\", type: HeaderBlockComponent, isStandalone: true, selector: \"header-block\", inputs: { sortIndex: { classPropertyName: \"sortIndex\", publicName: \"sortIndex\", isSignal: true, isRequired: false, transformFunction: null }, autofocus: { classPropertyName: \"autofocus\", publicName: \"autofocus\", isSignal: true, isRequired: false, transformFunction: null }, formGroup: { classPropertyName: \"formGroup\", publicName: \"formGroup\", isSignal: true, isRequired: true, transformFunction: null }, formControlName: { classPropertyName: \"formControlName\", publicName: \"formControlName\", isSignal: true, isRequired: true, transformFunction: null }, blockOptionActions: { classPropertyName: \"blockOptionActions\", publicName: \"blockOptionActions\", isSignal: true, isRequired: false, transformFunction: null } }, host: { classAttribute: \"cdk-drag-animating\" }, hostDirectives: [{ directive: i1$1.CdkDrag }], ngImport: i0, template: `\n@switch (savedAction()) {\n  @case ('h1') {\n    <h1>\n      <ng-container *ngTemplateOutlet=\"sharedHeaderTemplate\"></ng-container>\n    </h1>\n  }\n  @case ('h2') {\n    <h2>\n      <ng-container *ngTemplateOutlet=\"sharedHeaderTemplate\"></ng-container>\n    </h2>\n  }\n  @case ('h3') {\n    <h3>\n      <ng-container *ngTemplateOutlet=\"sharedHeaderTemplate\"></ng-container>\n    </h3>\n  }\n  @case ('h4') {\n    <h4>\n      <ng-container *ngTemplateOutlet=\"sharedHeaderTemplate\"></ng-container>\n    </h4>\n  }\n  @case ('h5') {\n    <h5>\n      <ng-container *ngTemplateOutlet=\"sharedHeaderTemplate\"></ng-container>\n    </h5>\n  }\n  @case ('h6') {\n    <h6>\n      <ng-container *ngTemplateOutlet=\"sharedHeaderTemplate\"></ng-container>\n    </h6>\n  }\n}\n\n<ng-template [formGroup]=\"formGroup()\" #sharedHeaderTemplate>\n  <span\n    controlAccessor\n    cleanPasteData\n    contentEditable\n    toolbarFab\n    [defaultValue]=\"formGroup().get(formControlName())?.value\"\n    [actionCallback]=\"actionCallbackBind\"\n    [blockOptionActions]=\"blockOptionActions()\"\n    [autofocus]=\"autofocus()\"\n    [formControlName]=\"formControlName()\"\n    [componentContextPositionIndex]=\"sortIndex()\"\n  ></span>\n</ng-template>\n`, isInline: true, styles: [\":host{display:block;position:relative}:host :is(h1,h2,h3,h4,h5,h6){margin:0}:host :is(h1,h2,h3,h4,h5,h6) span{display:block;line-height:inherit}:host h1>*{font:var(--mat-sys-display-large)}:host h2>*{font:var(--mat-sys-display-medium)}:host h3>*{font:var(--mat-sys-display-small)}:host h4>*{font:var(--mat-sys-headline-large)}:host h5>*{font:var(--mat-sys-headline-medium)}:host h6>*{font:var(--mat-sys-headline-small)}\\n\"], dependencies: [{ kind: \"ngmodule\", type: ReactiveFormsModule }, { kind: \"directive\", type: i2.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { kind: \"directive\", type: i2.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { kind: \"directive\", type: i2.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { kind: \"directive\", type: i2.FormControlName, selector: \"[formControlName]\", inputs: [\"formControlName\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"] }, { kind: \"directive\", type: ControlAccessorDirective, selector: \"[controlAccessor]\", inputs: [\"defaultValue\"] }, { kind: \"directive\", type: AutofocusDirective, selector: \"[autofocus]\", inputs: [\"autofocus\"] }, { kind: \"directive\", type: ToolbarFabDirective, selector: \"[toolbarFab]\", inputs: [\"autofocus\", \"blockOptionActions\", \"actionCallback\", \"componentContextPositionIndex\", \"formControlName\"] }, { kind: \"directive\", type: CleanPasteDataDirective, selector: \"[cleanPasteData]\" }, { kind: \"directive\", type: NgTemplateOutlet, selector: \"[ngTemplateOutlet]\", inputs: [\"ngTemplateOutletContext\", \"ngTemplateOutlet\", \"ngTemplateOutletInjector\"] }] });\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.0.4\", ngImport: i0, type: HeaderBlockComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'header-block', host: { class: 'cdk-drag-animating' }, hostDirectives: [CdkDrag], imports: [\n                        ReactiveFormsModule,\n                        ControlAccessorDirective,\n                        AutofocusDirective,\n                        ToolbarFabDirective,\n                        CleanPasteDataDirective,\n                        NgTemplateOutlet\n                    ], template: `\n@switch (savedAction()) {\n  @case ('h1') {\n    <h1>\n      <ng-container *ngTemplateOutlet=\"sharedHeaderTemplate\"></ng-container>\n    </h1>\n  }\n  @case ('h2') {\n    <h2>\n      <ng-container *ngTemplateOutlet=\"sharedHeaderTemplate\"></ng-container>\n    </h2>\n  }\n  @case ('h3') {\n    <h3>\n      <ng-container *ngTemplateOutlet=\"sharedHeaderTemplate\"></ng-container>\n    </h3>\n  }\n  @case ('h4') {\n    <h4>\n      <ng-container *ngTemplateOutlet=\"sharedHeaderTemplate\"></ng-container>\n    </h4>\n  }\n  @case ('h5') {\n    <h5>\n      <ng-container *ngTemplateOutlet=\"sharedHeaderTemplate\"></ng-container>\n    </h5>\n  }\n  @case ('h6') {\n    <h6>\n      <ng-container *ngTemplateOutlet=\"sharedHeaderTemplate\"></ng-container>\n    </h6>\n  }\n}\n\n<ng-template [formGroup]=\"formGroup()\" #sharedHeaderTemplate>\n  <span\n    controlAccessor\n    cleanPasteData\n    contentEditable\n    toolbarFab\n    [defaultValue]=\"formGroup().get(formControlName())?.value\"\n    [actionCallback]=\"actionCallbackBind\"\n    [blockOptionActions]=\"blockOptionActions()\"\n    [autofocus]=\"autofocus()\"\n    [formControlName]=\"formControlName()\"\n    [componentContextPositionIndex]=\"sortIndex()\"\n  ></span>\n</ng-template>\n`, styles: [\":host{display:block;position:relative}:host :is(h1,h2,h3,h4,h5,h6){margin:0}:host :is(h1,h2,h3,h4,h5,h6) span{display:block;line-height:inherit}:host h1>*{font:var(--mat-sys-display-large)}:host h2>*{font:var(--mat-sys-display-medium)}:host h3>*{font:var(--mat-sys-display-small)}:host h4>*{font:var(--mat-sys-headline-large)}:host h5>*{font:var(--mat-sys-headline-medium)}:host h6>*{font:var(--mat-sys-headline-small)}\\n\"] }]\n        }] });\n\nclass ParagraphBlockComponent {\n    sortIndex = input(0);\n    componentInstanceName = 'ParagraphBlockComponent';\n    autofocus = input(true);\n    formGroup = input.required();\n    formControlName = input.required();\n    blockOptionActions = input([\n        { action: 'small', icon: 'density_small' },\n        { action: 'medium', icon: 'density_medium' },\n        { action: 'large', icon: 'density_large' },\n        { action: 'title-small', text: 'TS' },\n        { action: 'title-medium', text: 'TM' },\n        { action: 'title-large', text: 'TL' },\n    ]);\n    savedAction = signal('medium');\n    actionCallbackBind = this.actionCallback.bind(this);\n    actionCallback(action) {\n        this.savedAction.update(() => action);\n    }\n    static fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.0.4\", ngImport: i0, type: ParagraphBlockComponent, deps: [], target: i0.FactoryTarget.Component });\n    static cmp = i0.ngDeclareComponent({ minVersion: \"17.1.0\", version: \"20.0.4\", type: ParagraphBlockComponent, isStandalone: true, selector: \"paragraph-block\", inputs: { sortIndex: { classPropertyName: \"sortIndex\", publicName: \"sortIndex\", isSignal: true, isRequired: false, transformFunction: null }, autofocus: { classPropertyName: \"autofocus\", publicName: \"autofocus\", isSignal: true, isRequired: false, transformFunction: null }, formGroup: { classPropertyName: \"formGroup\", publicName: \"formGroup\", isSignal: true, isRequired: true, transformFunction: null }, formControlName: { classPropertyName: \"formControlName\", publicName: \"formControlName\", isSignal: true, isRequired: true, transformFunction: null }, blockOptionActions: { classPropertyName: \"blockOptionActions\", publicName: \"blockOptionActions\", isSignal: true, isRequired: false, transformFunction: null } }, host: { classAttribute: \"cdk-drag-animating\" }, hostDirectives: [{ directive: i1$1.CdkDrag }], ngImport: i0, template: `\n    <ng-container [formGroup]=\"formGroup()\">\n      <p\n        controlAccessor\n        contentEditable\n        toolbarFab\n        cleanPasteData\n        [ngClass]=\"savedAction()\"\n        [defaultValue]=\"formGroup().get(formControlName())?.value\"\n        [actionCallback]=\"actionCallbackBind\"\n        [autofocus]=\"autofocus()\"\n        [blockOptionActions]=\"blockOptionActions()\"\n        [formControlName]=\"formControlName()\"\n        [componentContextPositionIndex]=\"sortIndex()\"\n      ></p>\n    </ng-container>\n  `, isInline: true, styles: [\":host{display:block;position:relative}:host .small{font:var(--mat-sys-body-small)}:host .medium{font:var(--mat-sys-body-medium)}:host .large{font:var(--mat-sys-body-large)}:host .title-small{font:var(--mat-sys-title-small)}:host .title-medium{font:var(--mat-sys-title-medium)}:host .title-large{font:var(--mat-sys-title-large)}\\n\"], dependencies: [{ kind: \"ngmodule\", type: ReactiveFormsModule }, { kind: \"directive\", type: i2.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { kind: \"directive\", type: i2.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { kind: \"directive\", type: i2.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { kind: \"directive\", type: i2.FormControlName, selector: \"[formControlName]\", inputs: [\"formControlName\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"] }, { kind: \"directive\", type: ControlAccessorDirective, selector: \"[controlAccessor]\", inputs: [\"defaultValue\"] }, { kind: \"directive\", type: AutofocusDirective, selector: \"[autofocus]\", inputs: [\"autofocus\"] }, { kind: \"directive\", type: ToolbarFabDirective, selector: \"[toolbarFab]\", inputs: [\"autofocus\", \"blockOptionActions\", \"actionCallback\", \"componentContextPositionIndex\", \"formControlName\"] }, { kind: \"directive\", type: CleanPasteDataDirective, selector: \"[cleanPasteData]\" }, { kind: \"directive\", type: NgClass, selector: \"[ngClass]\", inputs: [\"class\", \"ngClass\"] }] });\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.0.4\", ngImport: i0, type: ParagraphBlockComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'paragraph-block', host: { class: 'cdk-drag-animating' }, hostDirectives: [CdkDrag], imports: [\n                        ReactiveFormsModule,\n                        ControlAccessorDirective,\n                        AutofocusDirective,\n                        ToolbarFabDirective,\n                        CleanPasteDataDirective,\n                        NgClass,\n                    ], template: `\n    <ng-container [formGroup]=\"formGroup()\">\n      <p\n        controlAccessor\n        contentEditable\n        toolbarFab\n        cleanPasteData\n        [ngClass]=\"savedAction()\"\n        [defaultValue]=\"formGroup().get(formControlName())?.value\"\n        [actionCallback]=\"actionCallbackBind\"\n        [autofocus]=\"autofocus()\"\n        [blockOptionActions]=\"blockOptionActions()\"\n        [formControlName]=\"formControlName()\"\n        [componentContextPositionIndex]=\"sortIndex()\"\n      ></p>\n    </ng-container>\n  `, styles: [\":host{display:block;position:relative}:host .small{font:var(--mat-sys-body-small)}:host .medium{font:var(--mat-sys-body-medium)}:host .large{font:var(--mat-sys-body-large)}:host .title-small{font:var(--mat-sys-title-small)}:host .title-medium{font:var(--mat-sys-title-medium)}:host .title-large{font:var(--mat-sys-title-large)}\\n\"] }]\n        }] });\n\nconst NGX_EDITORJS_OPTIONS = new InjectionToken('NGX_EDITORJS_OPTIONS');\nclass NgxEditorJs2Service {\n    editorJsService = inject(EditorJsService);\n    consumerSupportedBlocks = new BehaviorSubject(inject(NGX_EDITORJS_OPTIONS, { optional: true })?.consumerSupportedBlocks ??\n        []);\n    internalSupportedBlocks = new BehaviorSubject([\n        {\n            name: 'Paragraph',\n            component: ParagraphBlockComponent,\n            componentInstanceName: 'ParagraphBlockComponent',\n        },\n        {\n            name: 'Header',\n            component: HeaderBlockComponent,\n            componentInstanceName: 'HeaderBlockComponent',\n        },\n    ]);\n    supportedBlocks$ = combineLatest([\n        this.internalSupportedBlocks.asObservable(),\n        this.consumerSupportedBlocks.asObservable(),\n    ]).pipe(map(([internal, consumer]) => [...internal, ...consumer]));\n    blocksToLoad = new BehaviorSubject([]);\n    loadBlocks$ = this.blocksToLoad.asObservable().pipe(delay(0), exhaustMap((blocks) => this.clearBlocksFromEditorJs(blocks)), map(([blocks]) => this.determineToloadDefaultBlocks(blocks)), map((blocks) => this.removeDuplicateBlocksWithSameIds(blocks)), map((blocks) => this.sortBlocks(blocks)), switchMap((blocks) => this.combineSupportBlocks(blocks)), map(([blocks, supportedBlocks]) => this.createALookupMapForSupportedBlocks(blocks, supportedBlocks)), map(({ blocks, supportedBlocksMap }) => this.findAndMarshalBlocksComponent(blocks, supportedBlocksMap)), mergeMap((blocks) => this.addBlocksToEditorJs(blocks).pipe(map(() => blocks))));\n    clearBlocksFromEditorJs(blocks) {\n        return forkJoin([of(blocks), this.editorJsService.clearBlocks()]);\n    }\n    determineToloadDefaultBlocks(blocks) {\n        return blocks.length > 0 ? blocks : this.loadDefaultBlocks();\n    }\n    loadDefaultBlocks() {\n        return [\n            {\n                blockId: 'tmdjr',\n                sortIndex: 0,\n                componentInstanceName: 'HeaderBlockComponent',\n                dataClean: \"Let's get started... \",\n                savedAction: 'h1',\n            },\n        ];\n    }\n    removeDuplicateBlocksWithSameIds(blocks) {\n        return Array.from(new Map(blocks.map((block) => [block.blockId, block])).values());\n    }\n    sortBlocks(blocks) {\n        return blocks.sort((a, b) => a.sortIndex - b.sortIndex);\n    }\n    combineSupportBlocks(blocks) {\n        return combineLatest([of(blocks), this.supportedBlocks$]);\n    }\n    createALookupMapForSupportedBlocks(blocks, supportedBlocks) {\n        return {\n            blocks,\n            supportedBlocksMap: new Map(supportedBlocks.map((sb) => [sb.componentInstanceName, sb.component])),\n        };\n    }\n    findAndMarshalBlocksComponent(blocks, supportedBlocksMap) {\n        return blocks.map((block) => ({\n            ...block,\n            component: supportedBlocksMap.get(block.componentInstanceName) ??\n                HeaderBlockComponent,\n        }));\n    }\n    addBlocksToEditorJs(blocks) {\n        return combineLatest(blocks.map((block) => this.editorJsService.addBlockComponent(block)));\n    }\n    static fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.0.4\", ngImport: i0, type: NgxEditorJs2Service, deps: [], target: i0.FactoryTarget.Injectable });\n    static prov = i0.ngDeclareInjectable({ minVersion: \"12.0.0\", version: \"20.0.4\", ngImport: i0, type: NgxEditorJs2Service, providedIn: 'root' });\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.0.4\", ngImport: i0, type: NgxEditorJs2Service, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root',\n                }]\n        }] });\n\nclass EditorJsComponent {\n    editorJsService = inject(EditorJsService);\n    ngxEditorJs2Service = inject(NgxEditorJs2Service);\n    bootstrapEditorJs = input();\n    blocks = input.required({\n        transform: (value) => this.ngxEditorJs2Service.blocksToLoad.next(value),\n    });\n    ngxEditor = viewChild.required('ngxEditor', { read: ViewContainerRef });\n    constructor() {\n        effect(() => {\n            this.editorJsService.setNgxEditor(this.ngxEditor());\n        });\n    }\n    // * DEBUGGING\n    // ngOnInit() {\n    //   this.editorJsService.formGroup.valueChanges.subscribe((value) => {\n    //     console.log('[formGroup.value] : ', value);\n    //   });\n    //   this.editorJsService.blockComponents$.subscribe((components) => {\n    //     console.log('[components] : ', components);\n    //   });\n    // }\n    drop(event) {\n        lastValueFrom(this.editorJsService.moveBlockComponentPosition(event.previousIndex, event.currentIndex)).then(() => {\n            // DRAG ANIMATION HOT FIX\n            // Wait for Angular to update the DOM, then remove the animation class\n            requestAnimationFrame(() => {\n                document.querySelectorAll('.cdk-drag-animating').forEach((el) => {\n                    const element = el;\n                    element.classList.remove('cdk-drag-animating'); // Ensure old class is removed\n                    void element.offsetWidth; // Force reflow\n                    element.classList.add('cdk-drag-animating'); // Re-add for next drag\n                });\n            });\n        });\n    }\n    static fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.0.4\", ngImport: i0, type: EditorJsComponent, deps: [], target: i0.FactoryTarget.Component });\n    static cmp = i0.ngDeclareComponent({ minVersion: \"17.2.0\", version: \"20.0.4\", type: EditorJsComponent, isStandalone: true, selector: \"editor-js\", inputs: { bootstrapEditorJs: { classPropertyName: \"bootstrapEditorJs\", publicName: \"bootstrapEditorJs\", isSignal: true, isRequired: false, transformFunction: null }, blocks: { classPropertyName: \"blocks\", publicName: \"blocks\", isSignal: true, isRequired: true, transformFunction: null } }, viewQueries: [{ propertyName: \"ngxEditor\", first: true, predicate: [\"ngxEditor\"], descendants: true, read: ViewContainerRef, isSignal: true }], ngImport: i0, template: `\n    <div cdkDropList class=\"block-list\" (cdkDropListDropped)=\"drop($event)\">\n      <ng-container #ngxEditor></ng-container>\n    </div>\n  `, isInline: true, styles: [\":host{display:block}:host .block-list{min-height:60px}\\n\"], dependencies: [{ kind: \"directive\", type: CdkDropList, selector: \"[cdkDropList], cdk-drop-list\", inputs: [\"cdkDropListConnectedTo\", \"cdkDropListData\", \"cdkDropListOrientation\", \"id\", \"cdkDropListLockAxis\", \"cdkDropListDisabled\", \"cdkDropListSortingDisabled\", \"cdkDropListEnterPredicate\", \"cdkDropListSortPredicate\", \"cdkDropListAutoScrollDisabled\", \"cdkDropListAutoScrollStep\", \"cdkDropListElementContainer\"], outputs: [\"cdkDropListDropped\", \"cdkDropListEntered\", \"cdkDropListExited\", \"cdkDropListSorted\"], exportAs: [\"cdkDropList\"] }] });\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.0.4\", ngImport: i0, type: EditorJsComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'editor-js', imports: [CdkDropList], template: `\n    <div cdkDropList class=\"block-list\" (cdkDropListDropped)=\"drop($event)\">\n      <ng-container #ngxEditor></ng-container>\n    </div>\n  `, styles: [\":host{display:block}:host .block-list{min-height:60px}\\n\"] }]\n        }], ctorParameters: () => [] });\n\nclass ToolbarInlineComponent {\n    // @Input() selection!: Selection;\n    selection = input.required();\n    closeOverlayEmitter = new EventEmitter();\n    renderer = inject(Renderer2);\n    url = '';\n    showURLInputField = signal(false);\n    savedRanges = [];\n    options = [\n        { icon: 'format_bold', action: 'bold' },\n        { icon: 'format_italic', action: 'italic' },\n        { icon: 'format_underlined', action: 'underline' },\n        { icon: 'strikethrough_s', action: 'strikethrough' },\n        { icon: 'format_list_bulleted', action: 'insertUnorderedList' },\n        { icon: 'format_list_numbered', action: 'insertOrderedList' },\n        { icon: 'highlight', action: 'highlightColor' },\n        { icon: 'format_align_left', action: 'justifyLeft' },\n        { icon: 'format_align_center', action: 'justifyCenter' },\n        { icon: 'format_align_right', action: 'justifyRight' },\n        { icon: 'format_align_justify', action: 'justifyFull' },\n    ];\n    addInlineTag(tag) {\n        // https://stackoverflow.com/questions/60581285/execcommand-is-now-obsolete-whats-the-alternative\n        document.execCommand(tag);\n        this.closeOverlayEmitter.emit();\n    }\n    addClassTag(tag, className) {\n        const range = this.selection().getRangeAt(0);\n        const element = this.renderer.createElement(tag);\n        element.className = className ?? '';\n        element.innerHTML = range.toString();\n        range.deleteContents();\n        range.insertNode(element);\n        this.closeOverlayEmitter.emit();\n    }\n    clearTags() {\n        document.execCommand('removeFormat');\n        document.execCommand('unlink');\n        this.closeOverlayEmitter.emit();\n    }\n    openUrlInput() {\n        this.savedRanges.push(this.selection().getRangeAt(0));\n        this.showURLInputField.set(true);\n    }\n    createLink() {\n        this.selection().removeAllRanges();\n        this.selection().addRange(this.savedRanges.pop());\n        document.execCommand('createLink', false, this.url);\n        this.closeOverlayEmitter.emit();\n    }\n    static fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.0.4\", ngImport: i0, type: ToolbarInlineComponent, deps: [], target: i0.FactoryTarget.Component });\n    static cmp = i0.ngDeclareComponent({ minVersion: \"17.0.0\", version: \"20.0.4\", type: ToolbarInlineComponent, isStandalone: true, selector: \"toolbar-inline\", inputs: { selection: { classPropertyName: \"selection\", publicName: \"selection\", isSignal: true, isRequired: true, transformFunction: null } }, outputs: { closeOverlayEmitter: \"closeOverlay\" }, host: { classAttribute: \"mat-elevation-z24\" }, ngImport: i0, template: `\n    <div class=\"panel\">\n      @for (item of options; track $index) {\n      <div class=\"inline-option\" (click)=\"addInlineTag(item.action)\">\n        <mat-icon>{{ item.icon }}</mat-icon>\n      </div>\n      }\n      <div class=\"inline-option\" (click)=\"addClassTag('code', 'inline-code')\">\n        <mat-icon>code</mat-icon>\n      </div>\n      <div class=\"inline-option\" (click)=\"openUrlInput()\">\n        <mat-icon>insert_link</mat-icon>\n      </div>\n      <div class=\"inline-option\" (click)=\"clearTags()\">\n        <mat-icon>format_clear</mat-icon>\n      </div>\n    </div>\n\n    @if(showURLInputField()) {\n    <div class=\"panel\">\n      <input\n        type=\"text\"\n        placeholder=\"Enter URL\"\n        class=\"block-option-input\"\n        [(ngModel)]=\"url\"\n      />\n      <div class=\"inline-option\" (click)=\"createLink()\">\n        <mat-icon>add</mat-icon>\n      </div>\n    </div>\n    }\n  `, isInline: true, styles: [\":host{color:var(--mat-sys-on-secondary);background:var(--mat-sys-secondary);border-radius:8px}:host .panel{display:flex;width:230px;flex-wrap:wrap;gap:1px}:host .inline-option{cursor:pointer;width:32px;height:32px;display:flex;align-items:center;justify-content:center}:host .block-option-input{width:197px;height:32px;border:none;outline:none;color:var(--mat-sys-on-secondary);background-color:transparent;box-sizing:border-box}\\n\"], dependencies: [{ kind: \"ngmodule\", type: MatListModule }, { kind: \"ngmodule\", type: MatIconModule }, { kind: \"component\", type: i1$2.MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }, { kind: \"ngmodule\", type: FormsModule }, { kind: \"directive\", type: i2.DefaultValueAccessor, selector: \"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]\" }, { kind: \"directive\", type: i2.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { kind: \"directive\", type: i2.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }] });\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.0.4\", ngImport: i0, type: ToolbarInlineComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'toolbar-inline', imports: [MatListModule, MatIconModule, FormsModule], host: { class: 'mat-elevation-z24' }, template: `\n    <div class=\"panel\">\n      @for (item of options; track $index) {\n      <div class=\"inline-option\" (click)=\"addInlineTag(item.action)\">\n        <mat-icon>{{ item.icon }}</mat-icon>\n      </div>\n      }\n      <div class=\"inline-option\" (click)=\"addClassTag('code', 'inline-code')\">\n        <mat-icon>code</mat-icon>\n      </div>\n      <div class=\"inline-option\" (click)=\"openUrlInput()\">\n        <mat-icon>insert_link</mat-icon>\n      </div>\n      <div class=\"inline-option\" (click)=\"clearTags()\">\n        <mat-icon>format_clear</mat-icon>\n      </div>\n    </div>\n\n    @if(showURLInputField()) {\n    <div class=\"panel\">\n      <input\n        type=\"text\"\n        placeholder=\"Enter URL\"\n        class=\"block-option-input\"\n        [(ngModel)]=\"url\"\n      />\n      <div class=\"inline-option\" (click)=\"createLink()\">\n        <mat-icon>add</mat-icon>\n      </div>\n    </div>\n    }\n  `, styles: [\":host{color:var(--mat-sys-on-secondary);background:var(--mat-sys-secondary);border-radius:8px}:host .panel{display:flex;width:230px;flex-wrap:wrap;gap:1px}:host .inline-option{cursor:pointer;width:32px;height:32px;display:flex;align-items:center;justify-content:center}:host .block-option-input{width:197px;height:32px;border:none;outline:none;color:var(--mat-sys-on-secondary);background-color:transparent;box-sizing:border-box}\\n\"] }]\n        }], propDecorators: { closeOverlayEmitter: [{\n                type: Output,\n                args: ['closeOverlay']\n            }] } });\n\nclass ToolbarInlineService {\n    overlay = inject(Overlay);\n    overlayRef;\n    determineToDisplayInlineToolbarBlock(_event) {\n        return of(window.getSelection()).pipe(filter((selection) => selection !== null), filter((selection) => selection.rangeCount > 0), filter((selection) => selection.toString().length > 0), filter((selection) => selection.toString() !== ''), tap(() => this.overlayRef?.hasAttached() && this.overlayRef.dispose()), // So hacky tired to do this properly\n        map((selection) => ({\n            selection,\n            parant: this.getSelectionParent(selection),\n        })), filter(({ parant }) => this.isSelectionInABlock(parant)), exhaustMap(({ selection }) => this.attachInlineToolbar(selection)));\n    }\n    getSelectionParent(selection) {\n        const range = selection.getRangeAt(0);\n        return range.commonAncestorContainer.nodeType === Node.ELEMENT_NODE\n            ? range.commonAncestorContainer\n            : range.commonAncestorContainer.parentElement;\n    }\n    isSelectionInABlock(target) {\n        // ! TODO: This is a hacky way to determine if the selection is in a block\n        // ! Need to also check if the block wants to display the inline toolbar\n        return (!!target &&\n            (target.closest('.no-toolbar-inline') !== null\n                ? false\n                : target.closest('ngx-editor-js2') !== null\n                    ? true\n                    : false));\n    }\n    attachInlineToolbar(selection) {\n        return of(selection.getRangeAt(0)).pipe(map((range) => range.getBoundingClientRect()), map((selectionRect) => this.createOverlay(selectionRect)), \n        // So hacky tired to do this properly\n        // passing the refs down the pipe adds a bug\n        // user selects text with a drag\n        // (mousedown  mousemove  wait  mousemove  mouseup)\n        tap((overlayRef) => (this.overlayRef = overlayRef)), map((overlayRef) => {\n            const inlineToolbar = overlayRef.attach(new ComponentPortal(ToolbarInlineComponent));\n            inlineToolbar.setInput('selection', selection);\n            lastValueFrom(merge(overlayRef.backdropClick(), inlineToolbar.instance.closeOverlayEmitter).pipe(tap(() => overlayRef.dispose()), tap(() => selection.removeAllRanges())));\n            return true;\n        }));\n    }\n    createOverlay(selectionRect) {\n        return this.overlay.create({\n            hasBackdrop: true,\n            backdropClass: 'cdk-overlay-transparent-backdrop',\n            positionStrategy: this.overlay\n                .position()\n                .flexibleConnectedTo(selectionRect)\n                .withPositions([\n                {\n                    offsetY: 8,\n                    originX: 'start',\n                    originY: 'bottom',\n                    overlayX: 'start',\n                    overlayY: 'top',\n                },\n            ]),\n        });\n    }\n    static fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.0.4\", ngImport: i0, type: ToolbarInlineService, deps: [], target: i0.FactoryTarget.Injectable });\n    static prov = i0.ngDeclareInjectable({ minVersion: \"12.0.0\", version: \"20.0.4\", ngImport: i0, type: ToolbarInlineService, providedIn: 'root' });\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.0.4\", ngImport: i0, type: ToolbarInlineService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root',\n                }]\n        }] });\n\nclass NgxEditorJs2Component {\n    inlineToolbarSerivce = inject(ToolbarInlineService);\n    editorJsService = inject(EditorJsService);\n    ngxEditorJs2Service = inject(NgxEditorJs2Service);\n    blocks = input([]);\n    blocksRequested = output();\n    requestBlocks = input.required({\n        transform: (value) => value && this.blocksRequested.emit(this.editorJsService.getBlocks$()),\n    });\n    bootstrapEditorJs$ = combineLatest([\n        inject(ToolFabService).toolbarComponentRef$,\n        this.ngxEditorJs2Service.loadBlocks$,\n        fromEvent(document, 'selectionchange').pipe(debounceTime(200), switchMap((event) => this.inlineToolbarSerivce.determineToDisplayInlineToolbarBlock(event)))\n    ]);\n    static fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.0.4\", ngImport: i0, type: NgxEditorJs2Component, deps: [], target: i0.FactoryTarget.Component });\n    static cmp = i0.ngDeclareComponent({ minVersion: \"17.1.0\", version: \"20.0.4\", type: NgxEditorJs2Component, isStandalone: true, selector: \"ngx-editor-js2\", inputs: { blocks: { classPropertyName: \"blocks\", publicName: \"blocks\", isSignal: true, isRequired: false, transformFunction: null }, requestBlocks: { classPropertyName: \"requestBlocks\", publicName: \"requestBlocks\", isSignal: true, isRequired: true, transformFunction: null } }, outputs: { blocksRequested: \"blocksRequested\" }, ngImport: i0, template: `\n    <editor-js\n      [blocks]=\"blocks()\"\n      [bootstrapEditorJs]=\"bootstrapEditorJs$ | async\"\n    ></editor-js>\n  `, isInline: true, dependencies: [{ kind: \"component\", type: EditorJsComponent, selector: \"editor-js\", inputs: [\"bootstrapEditorJs\", \"blocks\"] }, { kind: \"pipe\", type: AsyncPipe, name: \"async\" }] });\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.0.4\", ngImport: i0, type: NgxEditorJs2Component, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'ngx-editor-js2',\n                    imports: [EditorJsComponent, AsyncPipe],\n                    template: `\n    <editor-js\n      [blocks]=\"blocks()\"\n      [bootstrapEditorJs]=\"bootstrapEditorJs$ | async\"\n    ></editor-js>\n  `,\n                }]\n        }] });\n\n/*\n * Public API Surface of ngx-editor-js2\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { AutofocusDirective, CleanPasteDataDirective, ControlAccessorDirective, NGX_EDITORJS_OPTIONS, NgxEditorJs2Component, NgxEditorJs2Service, ToolbarFabDirective };\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\ntslib_1.__exportStar(require(\"@angular-architects/module-federation-runtime\"), exports);\n","import { AsyncPipe } from '@angular/common';\nimport { Component, inject, input, output } from '@angular/core';\nimport { toObservable } from '@angular/core/rxjs-interop';\nimport {\n  FormBuilder,\n  FormGroup,\n  ReactiveFormsModule,\n  Validators,\n} from '@angular/forms';\nimport { MatButton } from '@angular/material/button';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatInput } from '@angular/material/input';\nimport { map, mergeMap, of, startWith, tap, withLatestFrom } from 'rxjs';\n\ntype Value = {\n  url: string; // remoteEntry\n  remoteName: string; // remote name\n  exposedModule: string; // exposed module key (e.g. './WidgetComponent')\n};\ntype ViewModel = {\n  mfeLoaderConfigForm: FormGroup;\n  configFormErrorMessages: { [key: string]: string };\n  errorMessages: { [key: string]: string };\n};\n\n@Component({\n  selector: 'mfe-loader-config',\n  imports: [\n    MatInput,\n    MatButton,\n    MatFormFieldModule,\n    ReactiveFormsModule,\n    AsyncPipe,\n  ],\n  template: `\n    @if (viewModel$ | async; as vm) {\n    <form [formGroup]=\"vm.mfeLoaderConfigForm\">\n      <h2 mat-dialog-title>MFE Remote Configurations</h2>\n      <mat-form-field>\n        <mat-label>MFE Remote Name</mat-label>\n        <input matInput type=\"text\" formControlName=\"remoteName\" />\n        @if (vm.mfeLoaderConfigForm.get('remoteName')?.errors) {\n        <mat-error>{{ vm.configFormErrorMessages['remoteName'] }}</mat-error>\n        }\n      </mat-form-field>\n      <mat-form-field>\n        <mat-label>Remote URL</mat-label>\n        <input matInput type=\"text\" formControlName=\"url\" />\n        @if (vm.mfeLoaderConfigForm.get('url')?.errors) {\n        <mat-error>{{ vm.configFormErrorMessages['url'] }}</mat-error>\n        }\n      </mat-form-field>\n      <mat-form-field>\n        <mat-label>Exposed Module</mat-label>\n        <input matInput type=\"text\" formControlName=\"exposedModule\" />\n        @if (vm.mfeLoaderConfigForm.get('exposedModule')?.errors) {\n        <mat-error>{{ vm.configFormErrorMessages['exposedModule'] }}</mat-error>\n        }\n      </mat-form-field>\n      <div class=\"action-group\">\n        <button\n          type=\"button\"\n          mat-raised-button\n          (click)=\"updateMfeURL(vm.mfeLoaderConfigForm)\"\n          [disabled]=\"vm.mfeLoaderConfigForm.invalid\"\n        >\n          Save\n        </button>\n        <button type=\"button\" mat-raised-button (click)=\"closeConfig()\">\n          Cancel\n        </button>\n      </div>\n    </form>\n    }\n  `,\n  styles: [\n    `\n      :host {\n        border: 0.5px solid #ccc;\n        border-radius: 4px;\n        padding: 20px;\n        form {\n          display: flex;\n          flex-direction: column;\n          .action-group {\n            display: flex;\n            justify-content: flex-end;\n            gap: 10px;\n          }\n        }\n      }\n    `,\n  ],\n})\nexport class MfeLoaderConfigComponent {\n  formBuilder = inject(FormBuilder);\n\n  value = input<Value>({ url: '', remoteName: '', exposedModule: '' });\n  value$ = toObservable(this.value);\n\n  mfeValue = output<Value>();\n\n  viewModel$ = this.value$.pipe(\n    map((value) => ({\n      mfeLoaderConfigForm: this.formBuilder.group({\n        url: [value.url, [Validators.required]],\n        remoteName: [value.remoteName, [Validators.required]],\n        exposedModule: [value.exposedModule, [Validators.required]],\n      }),\n      errorMessages: {\n        required: 'Required',\n      },\n      configFormErrorMessages: {\n        url: '',\n        remoteName: '',\n        exposedModule: '',\n      },\n    })),\n    mergeMap((viewModel: ViewModel) =>\n      this.watchStatusChanges(viewModel).pipe(\n        startWith(null),\n        withLatestFrom(of(viewModel)),\n        map(([_status, vm]) => vm)\n      )\n    )\n  );\n\n  watchStatusChanges(viewModel: ViewModel) {\n    return viewModel.mfeLoaderConfigForm.statusChanges.pipe(\n      tap(() => this.setErrorsMessages(viewModel))\n    );\n  }\n\n  updateMfeURL(mfeLoaderConfigForm: FormGroup) {\n    this.mfeValue.emit(mfeLoaderConfigForm.value);\n  }\n\n  closeConfig() {\n    this.mfeValue.emit(\n      this.value().url\n        ? this.value()\n        : { url: '', remoteName: '', exposedModule: '' }\n    );\n  }\n\n  // ! Quick and Drity way to set error messages\n  // ! Breaks all my believes in \"clean code\"\n  setErrorsMessages({\n    mfeLoaderConfigForm,\n    configFormErrorMessages,\n    errorMessages,\n  }: ViewModel): void {\n    Object.keys(mfeLoaderConfigForm.controls).forEach((element) => {\n      const errors = mfeLoaderConfigForm.get(element)?.errors;\n      if (errors) {\n        const error = Object.keys(errors)[0];\n        configFormErrorMessages[element] = errorMessages[error];\n      }\n    });\n  }\n}\n","import { loadRemoteModule } from '@angular-architects/module-federation';\nimport { CdkDrag } from '@angular/cdk/drag-drop';\nimport { NgClass } from '@angular/common';\nimport {\n  Component,\n  input,\n  signal,\n  ViewChild,\n  ViewContainerRef,\n} from '@angular/core';\nimport { FormGroup, ReactiveFormsModule } from '@angular/forms';\nimport {\n  ControlAccessorDirective,\n  AutofocusDirective,\n  ToolbarFabDirective,\n  BlockOptionAction,\n} from '@tmdjr/ngx-editor-js2';\nimport { MfeLoaderConfigComponent } from './mfe-loader-config/mfe-loader-config.component';\nimport { MatFabButton } from '@angular/material/button';\nimport { MatIcon } from '@angular/material/icon';\n\ntype Value = {\n  url: string; // remoteEntry\n  remoteName: string; // remote name\n  exposedModule: string; // exposed module key (e.g. './WidgetComponent')\n};\n\n@Component({\n  selector: 'ngx-editor-js2-mfe-loader',\n  host: { class: 'cdk-drag-animating no-toolbar-inline' },\n  hostDirectives: [CdkDrag],\n  imports: [\n    ReactiveFormsModule,\n    ControlAccessorDirective,\n    AutofocusDirective,\n    ToolbarFabDirective,\n    MfeLoaderConfigComponent,\n    MatFabButton,\n    MatIcon,\n    NgClass,\n  ],\n  template: `\n    <ng-container [formGroup]=\"formGroup()\">\n      <span\n        controlAccessor\n        toolbarFab\n        class=\"mfe-container-overlay\"\n        [actionCallback]=\"actionCallbackBind\"\n        [autofocus]=\"autofocus()\"\n        [blockOptionActions]=\"blockOptionActions()\"\n        [formControlName]=\"formControlName()\"\n        [componentContextPositionIndex]=\"sortIndex()\"\n      ></span>\n      @if (!openOverlay()) {\n      <div class=\"mfe-container\" [ngClass]=\"savedAction()\">\n        <button mat-fab class=\"mfe-block-button\" (click)=\"openEditUrlOverlay()\">\n          <mat-icon>edit</mat-icon>\n        </button>\n      </div>\n      } @else {\n      <mfe-loader-config\n        [value]=\"value()\"\n        (mfeValue)=\"updateMfeRemote($event)\"\n      ></mfe-loader-config>\n      }\n      <ng-container #mfeHost></ng-container>\n    </ng-container>\n  `,\n  styles: `\n      :host {\n        position: relative;\n        display: flex;\n        flex-direction: column;\n        margin: 1.5rem 0;\n        .mfe-container-overlay {\n          display: flex;\n          height: 100%;\n          width: 100%;\n          position: absolute;\n        }\n\n        .mfe-container-overlay:hover ~ .mfe-container .mfe-block-button,\n        .mfe-block-button:hover {\n          display: block;\n        }\n\n        .mfe-container {\n          display: flex;\n          .mfe-block {\n            min-width: 0;\n          }\n\n          .mfe-block-button {\n            position: absolute;\n            top: 6px;\n            left: 6px;\n            display: none;\n          }\n        }\n      }\n  `,\n})\nexport class NgxEditorJs2MfeLoaderComponent {\n  @ViewChild('mfeHost', { read: ViewContainerRef, static: true })\n  private mfeHost!: ViewContainerRef;\n\n  sortIndex = input<number>(0);\n  componentInstanceName = 'NgxEditorJs2MfeLoaderComponent';\n  autofocus = input<boolean>(true);\n  formGroup = input.required<FormGroup>();\n  formControlName = input.required<string>();\n  blockOptionActions = input<BlockOptionAction[]>([\n    { action: 'medium', icon: 'density_small' },\n    { action: 'display-small', icon: 'density_medium' },\n    { action: 'display-large', icon: 'density_large' },\n  ]);\n\n  value = signal<Value>({ url: '', remoteName: '', exposedModule: '' });\n  savedAction = signal<string>('display-large');\n  actionCallbackBind = this.actionCallback.bind(this);\n\n  openOverlay = signal<boolean>(true);\n\n  ngOnInit() {\n    try {\n      const possibleSavedValue = this.formGroup().get(this.formControlName());\n\n      this.value.set(\n        JSON.parse(possibleSavedValue?.value ? possibleSavedValue.value : '{}')\n      );\n      this.value()?.url && this.openOverlay.set(false);\n    } catch (error) {\n      console.warn('Error parseing MFE Loader setting value', error);\n    }\n  }\n\n  ngAfterViewInit() {\n    const { url, remoteName, exposedModule } = this.value();\n    if (!url || !remoteName || !exposedModule) return;\n    this.updateMfeRemote(this.value());\n  }\n\n  actionCallback(action: string) {\n    this.savedAction.update(() => action);\n  }\n\n  openEditUrlOverlay() {\n    this.openOverlay.set(true);\n  }\n\n  async updateMfeRemote(value: Value) {\n    try {\n      const remoteComponent = await loadRemoteModule({\n        type: 'module',\n        remoteEntry: value.url,\n        exposedModule: './' + value.exposedModule,\n      });\n\n      this.mfeHost.clear();\n      this.mfeHost.createComponent(remoteComponent[value.remoteName]);\n    } catch (error) {\n      console.error('[MFE LOAD ERROR]', error);\n    }\n\n    this.value.set(value);\n    this.formGroup()\n      .get(this.formControlName())\n      ?.setValue(JSON.stringify(value));\n    this.openOverlay.set(false);\n  }\n}\n","/*\n * Public API Surface of ngx-editor-js2-mfe-loader\n */\n\nexport * from './lib/ngx-editor-js2-mfe-loader.component';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n","function asyncGeneratorStep(n, t, e, r, o, a, c) {\n  try {\n    var i = n[a](c),\n      u = i.value;\n  } catch (n) {\n    return void e(n);\n  }\n  i.done ? t(u) : Promise.resolve(u).then(r, o);\n}\nfunction _asyncToGenerator(n) {\n  return function () {\n    var t = this,\n      e = arguments;\n    return new Promise(function (r, o) {\n      var a = n.apply(t, e);\n      function _next(n) {\n        asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n);\n      }\n      function _throw(n) {\n        asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n);\n      }\n      _next(void 0);\n    });\n  };\n}\nexport { _asyncToGenerator as default };"],"names":["config","containerMap","remoteMap","isDefaultScopeInitialized","lookupExposedModule","_x","_x2","_lookupExposedModule","apply","arguments","_asyncToGenerator","key","exposedModule","container","factory","get","Module","initRemote","_x3","_x4","_initRemote","__webpack_init_sharing__","init","__webpack_share_scopes__","default","loadRemoteEntry","_x5","_x6","_loadRemoteEntry","remoteEntryOrOptions","remoteName","remoteEntry","loadRemoteScriptEntry","type","options","loadRemoteModuleEntry","_x7","_loadRemoteModuleEntry","Promise","resolve","then","_x8","_x9","_loadRemoteScriptEntry","reject","script","document","createElement","src","onerror","onload","window","body","appendChild","loadRemoteModule","_x0","_x1","_loadRemoteModule","optionsOrRemoteName","loadRemoteEntryOptions","hasManifest","Object","keys","length","manifestEntry","Error","undefined","setManifest","_x10","_setManifest","manifest","skipRemoteEntries","parseConfig","loadRemoteEntries","getManifest","initFederation","_x11","_initFederation","loadManifest","_x12","_loadManifest","configFile","result","fetch","ok","json","value","entry","_loadRemoteEntries","promises","push","all","i0","inject","ElementRef","input","forwardRef","HostListener","Directive","output","Component","signal","Injectable","ViewContainerRef","effect","InjectionToken","viewChild","EventEmitter","Renderer2","Output","i2","NG_VALUE_ACCESSOR","FormControl","ReactiveFormsModule","FormBuilder","FormsModule","startWith","combineLatest","map","firstValueFrom","of","from","tap","filter","defaultIfEmpty","Observable","lastValueFrom","forkJoin","iif","switchMap","mergeMap","BehaviorSubject","distinctUntilChanged","delay","exhaustMap","merge","fromEvent","debounceTime","MatRipple","i1$1","CdkDragHandle","CdkDrag","CdkDropList","i1","OverlayModule","Overlay","i1$2","MatIcon","MatIconModule","AsyncPipe","NgTemplateOutlet","NgClass","toObservable","MatFormField","MatLabel","MatInput","MatList","MatListItem","MatListModule","ComponentPortal","ToolbarBlockOptionsComponent_For_11_Conditional_1_Template","rf","ctx","text","blockOptionAction_r2","nextContext","$implicit","textInterpolate1","text","ToolbarBlockOptionsComponent_For_11_Conditional_2_Template","elementStart","elementEnd","advance","textInterpolate","icon","ToolbarBlockOptionsComponent_For_11_Template","_r1","getCurrentView","listener","ToolbarBlockOptionsComponent_For_11_Template_div_click_0_listener","restoreView","ctx_r2","resetView","handleAction","action","conditionalCreate","conditional","ToolbarBlocksComponent_Conditional_5_Conditional_1_Template","ToolbarBlocksComponent_Conditional_5_Conditional_2_For_1_Template","ToolbarBlocksComponent_Conditional_5_Conditional_2_For_1_Template_mat_list_item_click_0_listener","block_r2","addBlock","name","ToolbarBlocksComponent_Conditional_5_Conditional_2_Template","repeaterCreate","repeaterTrackByIndex","filteredBlocks_r4","repeater","ToolbarBlocksComponent_Conditional_5_Template","ToolbarComponent_ng_template_9_Template","_r2","ToolbarComponent_ng_template_9_Template_toolbar_blocks_addBlock_0_listener","$event","property","supportedBlocks","ToolbarComponent_ng_template_10_Template","_r4","ToolbarComponent_ng_template_10_Template_toolbar_block_options_handleAction_0_listener","ToolbarComponent_ng_template_10_Template_toolbar_block_options_moveBlockPosition_0_listener","moveBlockPosition","blockOptionActions","HeaderBlockComponent_Case_0_ng_container_1_Template","elementContainer","HeaderBlockComponent_Case_0_Template","template","sharedHeaderTemplate_r1","reference","HeaderBlockComponent_Case_1_ng_container_1_Template","HeaderBlockComponent_Case_1_Template","HeaderBlockComponent_Case_2_ng_container_1_Template","HeaderBlockComponent_Case_2_Template","HeaderBlockComponent_Case_3_ng_container_1_Template","HeaderBlockComponent_Case_3_Template","HeaderBlockComponent_Case_4_ng_container_1_Template","HeaderBlockComponent_Case_4_Template","HeaderBlockComponent_Case_5_ng_container_1_Template","HeaderBlockComponent_Case_5_Template","HeaderBlockComponent_ng_template_6_Template","element","tmp_2_0","ctx_r1","formGroup","formControlName","actionCallbackBind","autofocus","sortIndex","_c0","ToolbarInlineComponent_For_2_Template","ToolbarInlineComponent_For_2_Template_div_click_0_listener","item_r2","addInlineTag","ToolbarInlineComponent_Conditional_12_Template","twoWayListener","ToolbarInlineComponent_Conditional_12_Template_input_ngModelChange_1_listener","twoWayBindingSet","url","ToolbarInlineComponent_Conditional_12_Template_div_click_2_listener","createLink","twoWayProperty","ControlAccessorDirective","elementRef","defaultValue","onChange","onTouched","writeValue","nativeElement","innerHTML","registerOnChange","fn","registerOnTouched","onBlur","onInput","fac","ControlAccessorDirective_Factory","__ngFactoryType__","dir","defineDirective","selectors","hostBindings","ControlAccessorDirective_HostBindings","ControlAccessorDirective_blur_HostBindingHandler","ControlAccessorDirective_input_HostBindingHandler","inputs","features","ProvidersFeature","provide","useExisting","multi","ngDevMode","AutofocusDirective","ngAfterContentInit","focus","AutofocusDirective_Factory","MovePositionActions","ToolbarBlockOptionsComponent","Position","handleActionEmitter","alias","moveBlockPositionEmitter","movePosition","emit","ToolbarBlockOptionsComponent_Factory","cmp","defineComponent","outputs","decls","vars","consts","template","ToolbarBlockOptionsComponent_Template","ToolbarBlockOptionsComponent_Template_div_click_1_listener","UP","ToolbarBlockOptionsComponent_Template_div_click_4_listener","DELETE","ToolbarBlockOptionsComponent_Template_div_click_7_listener","DOWN","dependencies","styles","ToolbarBlocksComponent","addBlockEmitter","supportedBlocks$","blockCtrl","filter$","valueChanges","pipe","filteredBlocks$","blocks","filterString","replace","pattern","split","v","join","regex","RegExp","block","match","component","ToolbarBlocksComponent_Factory","ToolbarBlocksComponent_Template","pipe","pipeBind1","DefaultValueAccessor","NgControlStatus","FormControlDirective","ToolbarComponent","componentContextPositionIndex","required","actionCallback","addBlockCallback","moveBlockPositionCallback","openBlocks","openBlocksOption","openBlocksList","update","prev","openBlockOptionList","closeLists","set","ToolbarComponent_Factory","ToolbarComponent_Template","ToolbarComponent_Template_div_click_1_listener","ToolbarComponent_Template_div_click_5_listener","ToolbarComponent_Template_ng_template_overlayOutsideClick_9_listener","ToolbarComponent_Template_ng_template_overlayOutsideClick_10_listener","blockListTigger_r5","blockOptionListTigger_r6","CdkConnectedOverlay","CdkOverlayOrigin","BlockMovementService","componentRefMap","Map","clearComponentRefs","clear","getNgxEditorJsBlocks","Array","values","newComponentAttached","componentRef","instance","updateComponentIndices","ngxEditor","setInput","indexOf","hostView","moveBlockComponentPosition","index","componentRefs","find","totalComponents","currentIndex","newIndex","Math","max","min","move","removeBlockComponent","delete","successful","remove","BlockMovementService_Factory","prov","defineInjectable","token","providedIn","createUID","random","toString","substring","EditorJsService","formBuilder","blockMovementService","group","setNgxEditor","getBlocks$","observer","blockId","componentInstanceName","savedAction","dataClean","sort","a","b","next","complete","createNgxEditorJsBlockWithComponent","blockComponent","addBlockComponent","ngxEditorJsBlock","createFormGroupControl","attachComponent","control","formControl","addControl","controlName","createComponent","determineMovePositionAction","previousIndex","viewRef","removeControl","clearBlocks","EditorJsService_Factory","ToolFabService","ngxEditorJs2Service","NgxEditorJs2Service","editorJsService","componentContext","toolbarComponentRef$","asObservable","previous","current","viewContainerRef","bind","movePositionAction","ToolFabService_Factory","ToolbarFabDirective","toolFabService","onMouseEnter","constructor","ToolbarFabDirective_Factory","ToolbarFabDirective_HostBindings","ToolbarFabDirective_mouseenter_HostBindingHandler","CleanPasteDataDirective","onPaste","event","preventDefault","clipboardData","getData","execCommand","CleanPasteDataDirective_Factory","CleanPasteDataDirective_HostBindings","CleanPasteDataDirective_paste_HostBindingHandler","HeaderBlockComponent","selectedAction","HeaderBlockComponent_Factory","hostAttrs","HostDirectivesFeature","HeaderBlockComponent_Template","templateRefExtractor","tmp_1_0","NgControlStatusGroup","FormGroupDirective","FormControlName","ParagraphBlockComponent","ParagraphBlockComponent_Factory","ParagraphBlockComponent_Template","elementContainerStart","elementContainerEnd","NGX_EDITORJS_OPTIONS","consumerSupportedBlocks","optional","internalSupportedBlocks","internal","consumer","blocksToLoad","loadBlocks$","clearBlocksFromEditorJs","determineToloadDefaultBlocks","removeDuplicateBlocksWithSameIds","sortBlocks","combineSupportBlocks","createALookupMapForSupportedBlocks","supportedBlocksMap","findAndMarshalBlocksComponent","addBlocksToEditorJs","loadDefaultBlocks","sb","NgxEditorJs2Service_Factory","EditorJsComponent","bootstrapEditorJs","transform","read","drop","requestAnimationFrame","querySelectorAll","forEach","el","element","classList","offsetWidth","add","EditorJsComponent_Factory","viewQuery","EditorJsComponent_Query","viewQuerySignal","queryAdvance","EditorJsComponent_Template","EditorJsComponent_Template_div_cdkDropListDropped_0_listener","ToolbarInlineComponent","selection","closeOverlayEmitter","renderer","showURLInputField","savedRanges","tag","addClassTag","className","range","getRangeAt","deleteContents","insertNode","clearTags","openUrlInput","removeAllRanges","addRange","pop","ToolbarInlineComponent_Factory","ToolbarInlineComponent_Template","ToolbarInlineComponent_Template_div_click_3_listener","ToolbarInlineComponent_Template_div_click_6_listener","ToolbarInlineComponent_Template_div_click_9_listener","NgModel","ToolbarInlineService","overlay","overlayRef","determineToDisplayInlineToolbarBlock","_event","getSelection","rangeCount","hasAttached","dispose","parant","getSelectionParent","isSelectionInABlock","attachInlineToolbar","commonAncestorContainer","nodeType","Node","ELEMENT_NODE","parentElement","target","closest","getBoundingClientRect","selectionRect","createOverlay","inlineToolbar","attach","backdropClick","create","hasBackdrop","backdropClass","positionStrategy","position","flexibleConnectedTo","withPositions","offsetY","originX","originY","overlayX","overlayY","ToolbarInlineService_Factory","NgxEditorJs2Component","inlineToolbarSerivce","blocksRequested","requestBlocks","bootstrapEditorJs$","NgxEditorJs2Component_Factory","NgxEditorJs2Component_Template","encapsulation","defineProperty","exports","tslib_1","require","__exportStar","MfeLoaderConfigComponent","value$","mfeValue","viewModel$","mfeLoaderConfigForm","Validators","errorMessages","configFormErrorMessages","viewModel","watchStatusChanges","withLatestFrom","_status","vm","statusChanges","setErrorsMessages","updateMfeURL","closeConfig","controls","errors","error","MfeLoaderConfigComponent_Template","MatButton","MatFormFieldModule","MatError","NgNoValidate","NgxEditorJs2MfeLoaderComponent","mfeHost","openOverlay","ngOnInit","possibleSavedValue","JSON","parse","console","warn","ngAfterViewInit","updateMfeRemote","openEditUrlOverlay","_this","remoteComponent","setValue","stringify","NgxEditorJs2MfeLoaderComponent_Query","_t","NgxEditorJs2MfeLoaderComponent_Template","MatFabButton"],"sourceRoot":"webpack:///","x_google_ignoreList":[0,1,2,3,8]}