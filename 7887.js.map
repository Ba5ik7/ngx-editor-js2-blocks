{"version":3,"file":"7887.js","mappings":"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","sources":["./projects/ngx-editor-js2-image/src/lib/image-config/image-config.component.ts","./projects/ngx-editor-js2-image/src/lib/ngx-editor-js2-image.component.ts","./projects/ngx-editor-js2-image/src/public-api.ts","./projects/ngx-editor-js2-image/src/tmdjr-ngx-editor-js2-image.ts","./node_modules/@tmdjr/ngx-editor-js2/fesm2022/tmdjr-ngx-editor-js2.mjs"],"sourcesContent":["import { AsyncPipe } from '@angular/common';\nimport { Component, inject, input, output } from '@angular/core';\nimport { toObservable } from '@angular/core/rxjs-interop';\nimport {\n  FormBuilder,\n  FormGroup,\n  ReactiveFormsModule,\n  Validators,\n} from '@angular/forms';\nimport { MatButton } from '@angular/material/button';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatInput } from '@angular/material/input';\nimport { map, mergeMap, of, startWith, tap, withLatestFrom } from 'rxjs';\n\ntype Value = { url: string; title: string };\ntype ViewModel = {\n  imageConfigForm: FormGroup;\n  configFormErrorMessages: { [key: string]: string };\n  errorMessages: { [key: string]: string };\n};\n\n@Component({\n  selector: 'image-config',\n  imports: [\n    MatInput,\n    MatButton,\n    MatFormFieldModule,\n    ReactiveFormsModule,\n    AsyncPipe,\n  ],\n  template: `\n    <div class=\"image-block-modal\">\n      @if (viewModel$ | async; as vm) {\n      <form [formGroup]=\"vm.imageConfigForm\">\n        <h2 mat-dialog-title>Image Configurations</h2>\n        <mat-form-field>\n          <mat-label>Title</mat-label>\n          <input matInput type=\"text\" formControlName=\"title\" />\n          @if (vm.imageConfigForm.get('title')?.errors) {\n          <mat-error>{{ vm.configFormErrorMessages['title'] }}</mat-error>\n          }\n        </mat-form-field>\n        <mat-form-field>\n          <mat-label>URL</mat-label>\n          <input matInput type=\"text\" formControlName=\"url\" />\n          @if (vm.imageConfigForm.get('url')?.errors) {\n          <mat-error>{{ vm.configFormErrorMessages['url'] }}</mat-error>\n          }\n        </mat-form-field>\n        <div class=\"action-group\">\n          <button\n            type=\"button\"\n            mat-raised-button\n            (click)=\"updateImage(vm.imageConfigForm)\"\n            [disabled]=\"vm.imageConfigForm.invalid\"\n          >\n            Save\n          </button>\n          <button type=\"button\" mat-raised-button (click)=\"closeConfig()\">\n            Cancel\n          </button>\n        </div>\n      </form>\n      }\n    </div>\n  `,\n  styles: [\n    `\n      :host {\n        border: 0.5px solid #ccc;\n        border-radius: 4px;\n        padding: 20px;\n        form {\n          display: flex;\n          flex-direction: column;\n          .action-group {\n            display: flex;\n            justify-content: flex-end;\n            gap: 10px;\n          }\n        }\n      }\n    `,\n  ],\n})\nexport class ImageConfigComponent {\n  formBuilder = inject(FormBuilder);\n\n  value = input<Value>({ url: '', title: '' });\n  value$ = toObservable(this.value);\n\n  imageValue = output<Value>();\n\n  viewModel$ = this.value$.pipe(\n    map((value) => ({\n      imageConfigForm: this.formBuilder.group({\n        url: [value.url, [Validators.required]],\n        title: [value.title, [Validators.required]],\n      }),\n      errorMessages: {\n        required: 'Required',\n      },\n      configFormErrorMessages: {\n        url: '',\n        title: '',\n      },\n    })),\n    mergeMap((viewModel: ViewModel) =>\n      this.watchStatusChanges(viewModel).pipe(\n        startWith(null),\n        withLatestFrom(of(viewModel)),\n        map(([_status, vm]) => vm)\n      )\n    )\n  );\n\n  watchStatusChanges(viewModel: ViewModel) {\n    return viewModel.imageConfigForm.statusChanges.pipe(\n      tap(() => this.setErrorsMessages(viewModel))\n    );\n  }\n\n  updateImage(imageConfigForm: FormGroup) {\n    this.imageValue.emit(imageConfigForm.value);\n  }\n\n  closeConfig() {\n    this.imageValue.emit(\n      this.value().url ? this.value() : { url: '', title: '' }\n    );\n  }\n\n  // ! Quick and Drity way to set error messages\n  // ! Breaks all my believes in \"clean code\"\n  setErrorsMessages({\n    imageConfigForm,\n    configFormErrorMessages,\n    errorMessages,\n  }: ViewModel): void {\n    Object.keys(imageConfigForm.controls).forEach((element) => {\n      const errors = imageConfigForm.get(element)?.errors;\n      if (errors) {\n        const error = Object.keys(errors)[0];\n        configFormErrorMessages[element] = errorMessages[error];\n      }\n    });\n  }\n}\n","import { NgClass } from '@angular/common';\nimport { Component, input, signal } from '@angular/core';\nimport { MatFabButton } from '@angular/material/button';\nimport { MatIcon } from '@angular/material/icon';\nimport { FormGroup, ReactiveFormsModule } from '@angular/forms';\nimport {\n  AutofocusDirective,\n  BlockComponent,\n  BlockOptionAction,\n  ControlAccessorDirective,\n  ToolbarFabDirective,\n} from '@tmdjr/ngx-editor-js2';\nimport { CdkDrag } from '@angular/cdk/drag-drop';\nimport { ImageConfigComponent } from './image-config/image-config.component';\n\ntype Value = { url: string; title: string };\n\n@Component({\n  selector: 'ngx-editor-js2-image',\n  host: { class: 'cdk-drag-animating no-toolbar-inline' },\n  hostDirectives: [CdkDrag],\n  imports: [\n    ReactiveFormsModule,\n    ControlAccessorDirective,\n    AutofocusDirective,\n    ToolbarFabDirective,\n    ImageConfigComponent,\n    MatFabButton,\n    MatIcon,\n    NgClass,\n  ],\n  template: `\n    <ng-container [formGroup]=\"formGroup()\">\n      <span\n        controlAccessor\n        toolbarFab\n        class=\"image-container-overlay\"\n        [actionCallback]=\"actionCallbackBind\"\n        [autofocus]=\"autofocus()\"\n        [blockOptionActions]=\"blockOptionActions()\"\n        [formControlName]=\"formControlName()\"\n        [componentContextPositionIndex]=\"sortIndex()\"\n      ></span>\n      @if (!openOverlay()) {\n      <div class=\"image-container\" [ngClass]=\"savedAction()\">\n        <img\n          class=\"image-block\"\n          [src]=\"value().url\"\n          [title]=\"value().title\"\n          onerror=\"this.onerror=null;this.src='https://dummyimage.com/600x400/000/fff'\"\n        />\n        <button\n          mat-fab\n          class=\"image-block-button\"\n          (click)=\"openEditUrlOverlay()\"\n        >\n          <mat-icon>edit</mat-icon>\n        </button>\n      </div>\n      } @else {\n      <image-config\n        [value]=\"value()\"\n        (imageValue)=\"updateImage($event)\"\n      ></image-config>\n      }\n    </ng-container>\n  `,\n  styles: [\n    `\n      :host {\n        position: relative;\n        display: flex;\n        flex-direction: column;\n        margin: 1.5rem 0;\n        .flex-start {\n          justify-content: flex-start;\n        }\n        .flex-end {\n          justify-content: flex-end;\n        }\n        .center {\n          justify-content: center;\n        }\n        .stretch img {\n          width: 100%;\n        }\n        .image-container-overlay {\n          display: flex;\n          height: 100%;\n          width: 100%;\n          position: absolute;\n        }\n        .image-container-overlay:hover ~ .image-container .image-block-button,\n        .image-block-button:hover {\n          display: block;\n        }\n\n        .image-container {\n          display: flex;\n          .image-block {\n            min-width: 0;\n          }\n\n          .image-block-button {\n            position: absolute;\n            top: 6px;\n            left: 6px;\n            display: none;\n          }\n        }\n      }\n    `,\n  ],\n})\nexport class NgxEditorJs2ImageComponent implements BlockComponent {\n  sortIndex = input<number>(0);\n  componentInstanceName = 'NgxEditorJs2ImageComponent';\n  autofocus = input<boolean>(true);\n  formGroup = input.required<FormGroup>();\n  formControlName = input.required<string>();\n  blockOptionActions = input<BlockOptionAction[]>([\n    { action: 'flex-start', icon: 'format_align_left' },\n    { action: 'center', icon: 'format_align_center' },\n    { action: 'flex-end', icon: 'format_align_right' },\n    { action: 'stretch', icon: 'format_align_justify' },\n  ]);\n\n  value = signal<Value>({ url: '', title: '' });\n  savedAction = signal<string>('flex-start');\n  actionCallbackBind = this.actionCallback.bind(this);\n\n  openOverlay = signal<boolean>(true);\n\n  ngOnInit() {\n    try {\n      const possibleSavedValue = this.formGroup().get(this.formControlName());\n\n      this.value.set(\n        JSON.parse(possibleSavedValue?.value ? possibleSavedValue.value : '{}')\n      );\n      this.value()?.url && this.openOverlay.set(false);\n    } catch (error) {\n      console.warn('Error parseing Image setting value', error);\n    }\n  }\n\n  actionCallback(action: string) {\n    this.savedAction.update(() => action);\n  }\n\n  openEditUrlOverlay() {\n    this.openOverlay.set(true);\n  }\n\n  updateImage(value: Value) {\n    this.value.set(value);\n    this.formGroup()\n      .get(this.formControlName())\n      ?.setValue(JSON.stringify(value));\n    this.openOverlay.set(false);\n  }\n}\n","/*\n * Public API Surface of ngx-editor-js2-image\n */\n\nexport * from './lib/ngx-editor-js2-image.component';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n","import * as i0 from '@angular/core';\nimport { inject, ElementRef, input, forwardRef, Directive, HostListener, output, Component, signal, Injectable, ViewContainerRef, effect, InjectionToken, viewChild, EventEmitter, Renderer2, Output } from '@angular/core';\nimport * as i2 from '@angular/forms';\nimport { NG_VALUE_ACCESSOR, FormControl, ReactiveFormsModule, FormBuilder, FormsModule } from '@angular/forms';\nimport { startWith, combineLatest, map, firstValueFrom, of, from, tap, filter, defaultIfEmpty, Observable, lastValueFrom, forkJoin, iif, switchMap, mergeMap, BehaviorSubject, distinctUntilChanged, delay, exhaustMap, merge, fromEvent, debounceTime } from 'rxjs';\nimport { MatRipple } from '@angular/material/core';\nimport * as i1$1 from '@angular/cdk/drag-drop';\nimport { CdkDragHandle, CdkDrag, CdkDropList } from '@angular/cdk/drag-drop';\nimport * as i1 from '@angular/cdk/overlay';\nimport { OverlayModule, Overlay } from '@angular/cdk/overlay';\nimport * as i1$2 from '@angular/material/icon';\nimport { MatIcon, MatIconModule } from '@angular/material/icon';\nimport { AsyncPipe, NgSwitch, NgSwitchCase, NgTemplateOutlet, NgClass } from '@angular/common';\nimport { toObservable } from '@angular/core/rxjs-interop';\nimport { MatFormField, MatLabel } from '@angular/material/form-field';\nimport { MatInput } from '@angular/material/input';\nimport { MatList, MatListItem, MatListModule } from '@angular/material/list';\nimport { ComponentPortal } from '@angular/cdk/portal';\n\nclass ControlAccessorDirective {\n    elementRef = inject(ElementRef);\n    defaultValue = input();\n    onChange = () => { };\n    onTouched = () => { };\n    writeValue() {\n        this.elementRef.nativeElement.innerHTML = this.defaultValue() || '';\n    }\n    registerOnChange(fn) {\n        this.onChange = fn;\n    }\n    registerOnTouched(fn) {\n        this.onTouched = fn;\n    }\n    onBlur() {\n        this.onTouched();\n    }\n    onInput() {\n        this.onChange(this.elementRef.nativeElement.innerHTML);\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"19.1.5\", ngImport: i0, type: ControlAccessorDirective, deps: [], target: i0.ɵɵFactoryTarget.Directive });\n    static ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"17.1.0\", version: \"19.1.5\", type: ControlAccessorDirective, isStandalone: true, selector: \"[controlAccessor]\", inputs: { defaultValue: { classPropertyName: \"defaultValue\", publicName: \"defaultValue\", isSignal: true, isRequired: false, transformFunction: null } }, host: { listeners: { \"blur\": \"onBlur()\", \"input\": \"onInput()\" } }, providers: [\n            {\n                provide: NG_VALUE_ACCESSOR,\n                useExisting: forwardRef(() => ControlAccessorDirective),\n                multi: true,\n            },\n        ], ngImport: i0 });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"19.1.5\", ngImport: i0, type: ControlAccessorDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[controlAccessor]',\n                    providers: [\n                        {\n                            provide: NG_VALUE_ACCESSOR,\n                            useExisting: forwardRef(() => ControlAccessorDirective),\n                            multi: true,\n                        },\n                    ],\n                }]\n        }], propDecorators: { onBlur: [{\n                type: HostListener,\n                args: ['blur']\n            }], onInput: [{\n                type: HostListener,\n                args: ['input']\n            }] } });\n\nclass AutofocusDirective {\n    elementRef = inject(ElementRef);\n    autofocus = input(false);\n    ngAfterContentInit() {\n        this.autofocus() && this.elementRef.nativeElement.focus?.();\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"19.1.5\", ngImport: i0, type: AutofocusDirective, deps: [], target: i0.ɵɵFactoryTarget.Directive });\n    static ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"17.1.0\", version: \"19.1.5\", type: AutofocusDirective, isStandalone: true, selector: \"[autofocus]\", inputs: { autofocus: { classPropertyName: \"autofocus\", publicName: \"autofocus\", isSignal: true, isRequired: false, transformFunction: null } }, ngImport: i0 });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"19.1.5\", ngImport: i0, type: AutofocusDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[autofocus]',\n                }]\n        }] });\n\nvar MovePositionActions;\n(function (MovePositionActions) {\n    MovePositionActions[\"UP\"] = \"UP\";\n    MovePositionActions[\"DOWN\"] = \"DOWN\";\n    MovePositionActions[\"DELETE\"] = \"DELETE\";\n})(MovePositionActions || (MovePositionActions = {}));\n\nclass ToolbarBlockOptionsComponent {\n    Position = MovePositionActions;\n    blockOptionActions = input();\n    handleActionEmitter = output({ alias: 'handleAction' });\n    moveBlockPositionEmitter = output({\n        alias: 'moveBlockPosition',\n    });\n    movePosition(action) {\n        this.moveBlockPositionEmitter.emit(action);\n    }\n    handleAction(action) {\n        this.handleActionEmitter.emit(action);\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"19.1.5\", ngImport: i0, type: ToolbarBlockOptionsComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\n    static ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"17.0.0\", version: \"19.1.5\", type: ToolbarBlockOptionsComponent, isStandalone: true, selector: \"toolbar-block-options\", inputs: { blockOptionActions: { classPropertyName: \"blockOptionActions\", publicName: \"blockOptionActions\", isSignal: true, isRequired: false, transformFunction: null } }, outputs: { handleActionEmitter: \"handleAction\", moveBlockPositionEmitter: \"moveBlockPosition\" }, ngImport: i0, template: `\n    <div class=\"actions-panel mat-elevation-z24\">\n      <div class=\"action-btn\" matRipple (click)=\"movePosition(Position.UP)\">\n        <mat-icon>arrow_upward</mat-icon>\n      </div>\n      <div class=\"action-btn\" matRipple (click)=\"movePosition(Position.DELETE)\">\n        <mat-icon>delete</mat-icon>\n      </div>\n      <div class=\"action-btn\" matRipple (click)=\"movePosition(Position.DOWN)\">\n        <mat-icon>arrow_downward</mat-icon>\n      </div>\n      @for(blockOptionAction of blockOptionActions(); track $index) {\n      <div\n        class=\"action-btn\"\n        (click)=\"handleAction(blockOptionAction.action)\"\n        matRipple\n      >\n        @if (blockOptionAction.text) {\n        {{ blockOptionAction.text }}\n        } @else {\n        <mat-icon>{{ blockOptionAction.icon }}</mat-icon>\n        }\n      </div>\n      }\n    </div>\n  `, isInline: true, styles: [\":host .actions-panel{display:flex;flex-direction:row;flex-wrap:wrap;gap:1px;width:128px;max-height:128px;border-radius:4px;overflow:auto;background:var(--mat-sys-secondary)}:host .actions-panel .action-btn{cursor:pointer;width:42px;height:42px;display:flex;align-items:center;justify-content:center;border-radius:4px;color:var(--mat-sys-on-secondary);background:var(--mat-sys-secondary)}:host .actions-panel .action-btn:is(:hover,:focus){color:var(--mat-sys-secondary);background:var(--mat-sys-on-secondary)}\\n\"], dependencies: [{ kind: \"component\", type: MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }, { kind: \"directive\", type: MatRipple, selector: \"[mat-ripple], [matRipple]\", inputs: [\"matRippleColor\", \"matRippleUnbounded\", \"matRippleCentered\", \"matRippleRadius\", \"matRippleAnimation\", \"matRippleDisabled\", \"matRippleTrigger\"], exportAs: [\"matRipple\"] }] });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"19.1.5\", ngImport: i0, type: ToolbarBlockOptionsComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'toolbar-block-options', imports: [MatIcon, MatRipple], template: `\n    <div class=\"actions-panel mat-elevation-z24\">\n      <div class=\"action-btn\" matRipple (click)=\"movePosition(Position.UP)\">\n        <mat-icon>arrow_upward</mat-icon>\n      </div>\n      <div class=\"action-btn\" matRipple (click)=\"movePosition(Position.DELETE)\">\n        <mat-icon>delete</mat-icon>\n      </div>\n      <div class=\"action-btn\" matRipple (click)=\"movePosition(Position.DOWN)\">\n        <mat-icon>arrow_downward</mat-icon>\n      </div>\n      @for(blockOptionAction of blockOptionActions(); track $index) {\n      <div\n        class=\"action-btn\"\n        (click)=\"handleAction(blockOptionAction.action)\"\n        matRipple\n      >\n        @if (blockOptionAction.text) {\n        {{ blockOptionAction.text }}\n        } @else {\n        <mat-icon>{{ blockOptionAction.icon }}</mat-icon>\n        }\n      </div>\n      }\n    </div>\n  `, styles: [\":host .actions-panel{display:flex;flex-direction:row;flex-wrap:wrap;gap:1px;width:128px;max-height:128px;border-radius:4px;overflow:auto;background:var(--mat-sys-secondary)}:host .actions-panel .action-btn{cursor:pointer;width:42px;height:42px;display:flex;align-items:center;justify-content:center;border-radius:4px;color:var(--mat-sys-on-secondary);background:var(--mat-sys-secondary)}:host .actions-panel .action-btn:is(:hover,:focus){color:var(--mat-sys-secondary);background:var(--mat-sys-on-secondary)}\\n\"] }]\n        }] });\n\nclass ToolbarBlocksComponent {\n    addBlockEmitter = output({ alias: 'addBlock' });\n    supportedBlocks = input([]);\n    supportedBlocks$ = toObservable(this.supportedBlocks);\n    blockCtrl = new FormControl([]);\n    filter$ = this.blockCtrl.valueChanges.pipe(startWith(''));\n    filteredBlocks$ = combineLatest([this.supportedBlocks$, this.filter$]).pipe(map(([blocks, filterString]) => {\n        if (typeof filterString !== 'string')\n            filterString = '';\n        filterString = filterString.replace(/\\\\/g, '');\n        const pattern = filterString\n            ?.split('')\n            .map((v) => `(?=.*${v})`)\n            .join('');\n        const regex = new RegExp(`${pattern}`, 'gi');\n        // return blocks.filter(block => regex.exec(block));\n        return blocks.filter((block) => block.name.match(regex));\n    }));\n    addBlock(block) {\n        this.addBlockEmitter.emit(block?.component);\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"19.1.5\", ngImport: i0, type: ToolbarBlocksComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\n    static ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"17.0.0\", version: \"19.1.5\", type: ToolbarBlocksComponent, isStandalone: true, selector: \"toolbar-blocks\", inputs: { supportedBlocks: { classPropertyName: \"supportedBlocks\", publicName: \"supportedBlocks\", isSignal: true, isRequired: false, transformFunction: null } }, outputs: { addBlockEmitter: \"addBlock\" }, ngImport: i0, template: `\n    <div class=\"block-list-container mat-elevation-z24\">\n      <mat-form-field appearance=\"fill\" color=\"accent\">\n        <mat-label>Filter</mat-label>\n        <input\n          class=\"filter-text\"\n          matInput\n          [formControl]=\"blockCtrl\"\n          [autofocus]=\"true\"\n        />\n      </mat-form-field>\n      @if(filteredBlocks$ | async; as filteredBlocks) {\n      <mat-list class=\"block-list-panel\">\n        @if (filteredBlocks.length <= 0) {\n        <mat-list-item matRipple mat-list-item> No Results </mat-list-item>\n        } @else { @for(block of filteredBlocks; track $index) {\n        <mat-list-item matRipple mat-list-item (click)=\"addBlock(block)\">\n          {{ block.name }}\n        </mat-list-item>\n        } }\n      </mat-list>\n      }\n    </div>\n  `, isInline: true, styles: [\":host .mat-mdc-list-base{padding-top:0;margin-top:-14px}:host .block-list-container{background:var(--mat-sys-secondary-container);border-radius:4px}:host .block-list-panel{max-width:280px;max-height:240px;border-bottom-left-radius:4px;border-bottom-right-radius:4px;overflow:auto;color:var(--mat-sys-on-secondary-container)}:host mat-list-item{cursor:pointer;-webkit-user-select:none;user-select:none}:host mat-list-item:is(:hover,:focus){background:var(--mat-sys-surface-bright)}\\n\"], dependencies: [{ kind: \"component\", type: MatFormField, selector: \"mat-form-field\", inputs: [\"hideRequiredMarker\", \"color\", \"floatLabel\", \"appearance\", \"subscriptSizing\", \"hintLabel\"], exportAs: [\"matFormField\"] }, { kind: \"directive\", type: MatInput, selector: \"input[matInput], textarea[matInput], select[matNativeControl],      input[matNativeControl], textarea[matNativeControl]\", inputs: [\"disabled\", \"id\", \"placeholder\", \"name\", \"required\", \"type\", \"errorStateMatcher\", \"aria-describedby\", \"value\", \"readonly\", \"disabledInteractive\"], exportAs: [\"matInput\"] }, { kind: \"component\", type: MatList, selector: \"mat-list\", exportAs: [\"matList\"] }, { kind: \"component\", type: MatListItem, selector: \"mat-list-item, a[mat-list-item], button[mat-list-item]\", inputs: [\"activated\"], exportAs: [\"matListItem\"] }, { kind: \"directive\", type: MatRipple, selector: \"[mat-ripple], [matRipple]\", inputs: [\"matRippleColor\", \"matRippleUnbounded\", \"matRippleCentered\", \"matRippleRadius\", \"matRippleAnimation\", \"matRippleDisabled\", \"matRippleTrigger\"], exportAs: [\"matRipple\"] }, { kind: \"directive\", type: MatLabel, selector: \"mat-label\" }, { kind: \"ngmodule\", type: ReactiveFormsModule }, { kind: \"directive\", type: i2.DefaultValueAccessor, selector: \"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]\" }, { kind: \"directive\", type: i2.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { kind: \"directive\", type: i2.FormControlDirective, selector: \"[formControl]\", inputs: [\"formControl\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"], exportAs: [\"ngForm\"] }, { kind: \"pipe\", type: AsyncPipe, name: \"async\" }] });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"19.1.5\", ngImport: i0, type: ToolbarBlocksComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'toolbar-blocks', imports: [\n                        MatFormField,\n                        MatInput,\n                        MatList,\n                        MatListItem,\n                        MatRipple,\n                        MatLabel,\n                        ReactiveFormsModule,\n                        AsyncPipe,\n                    ], template: `\n    <div class=\"block-list-container mat-elevation-z24\">\n      <mat-form-field appearance=\"fill\" color=\"accent\">\n        <mat-label>Filter</mat-label>\n        <input\n          class=\"filter-text\"\n          matInput\n          [formControl]=\"blockCtrl\"\n          [autofocus]=\"true\"\n        />\n      </mat-form-field>\n      @if(filteredBlocks$ | async; as filteredBlocks) {\n      <mat-list class=\"block-list-panel\">\n        @if (filteredBlocks.length <= 0) {\n        <mat-list-item matRipple mat-list-item> No Results </mat-list-item>\n        } @else { @for(block of filteredBlocks; track $index) {\n        <mat-list-item matRipple mat-list-item (click)=\"addBlock(block)\">\n          {{ block.name }}\n        </mat-list-item>\n        } }\n      </mat-list>\n      }\n    </div>\n  `, styles: [\":host .mat-mdc-list-base{padding-top:0;margin-top:-14px}:host .block-list-container{background:var(--mat-sys-secondary-container);border-radius:4px}:host .block-list-panel{max-width:280px;max-height:240px;border-bottom-left-radius:4px;border-bottom-right-radius:4px;overflow:auto;color:var(--mat-sys-on-secondary-container)}:host mat-list-item{cursor:pointer;-webkit-user-select:none;user-select:none}:host mat-list-item:is(:hover,:focus){background:var(--mat-sys-surface-bright)}\\n\"] }]\n        }] });\n\nclass ToolbarComponent {\n    componentContextPositionIndex = input.required();\n    supportedBlocks = input.required();\n    blockOptionActions = input();\n    actionCallback = input(() => () => { });\n    formControlName = input();\n    addBlockCallback = input.required();\n    moveBlockPositionCallback = input.required();\n    openBlocks = signal(false);\n    openBlocksOption = signal(false);\n    openBlocksList() {\n        this.openBlocks.update((prev) => !prev);\n    }\n    openBlockOptionList() {\n        this.openBlocksOption.update((prev) => !prev);\n    }\n    moveBlockPosition(action) {\n        this.closeLists();\n        this.moveBlockPositionCallback()(action, this.componentContextPositionIndex());\n    }\n    handleAction(action) {\n        this.closeLists();\n        this.actionCallback()(action);\n    }\n    addBlock(block) {\n        this.closeLists();\n        firstValueFrom(this.addBlockCallback()(block, this.componentContextPositionIndex()));\n    }\n    closeLists() {\n        this.openBlocks.set(false);\n        this.openBlocksOption.set(false);\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"19.1.5\", ngImport: i0, type: ToolbarComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\n    static ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"17.1.0\", version: \"19.1.5\", type: ToolbarComponent, isStandalone: true, selector: \"toolbar\", inputs: { componentContextPositionIndex: { classPropertyName: \"componentContextPositionIndex\", publicName: \"componentContextPositionIndex\", isSignal: true, isRequired: true, transformFunction: null }, supportedBlocks: { classPropertyName: \"supportedBlocks\", publicName: \"supportedBlocks\", isSignal: true, isRequired: true, transformFunction: null }, blockOptionActions: { classPropertyName: \"blockOptionActions\", publicName: \"blockOptionActions\", isSignal: true, isRequired: false, transformFunction: null }, actionCallback: { classPropertyName: \"actionCallback\", publicName: \"actionCallback\", isSignal: true, isRequired: false, transformFunction: null }, formControlName: { classPropertyName: \"formControlName\", publicName: \"formControlName\", isSignal: true, isRequired: false, transformFunction: null }, addBlockCallback: { classPropertyName: \"addBlockCallback\", publicName: \"addBlockCallback\", isSignal: true, isRequired: true, transformFunction: null }, moveBlockPositionCallback: { classPropertyName: \"moveBlockPositionCallback\", publicName: \"moveBlockPositionCallback\", isSignal: true, isRequired: true, transformFunction: null } }, ngImport: i0, template: `\n    <div class=\"toolbar-buttons-container\">\n      <div\n        class=\"toolbar-buttons mat-elevation-z4\"\n        #blockListTigger=\"cdkOverlayOrigin\"\n        cdkOverlayOrigin\n        matRipple\n        (click)=\"openBlocksList()\"\n      >\n        <span class=\"material-icons\">add</span>\n      </div>\n      <div\n        class=\"toolbar-buttons mat-elevation-z4\"\n        #blockOptionListTigger=\"cdkOverlayOrigin\"\n        cdkDragHandle\n        cdkOverlayOrigin\n        matRipple\n        (click)=\"openBlockOptionList()\"\n      >\n        <span class=\"material-icons\">drag_indicator</span>\n      </div>\n    </div>\n\n    <!-- Block type search list -->\n    <ng-template\n      cdkConnectedOverlay\n      (overlayOutsideClick)=\"openBlocks.set(false)\"\n      [cdkConnectedOverlayOrigin]=\"blockListTigger\"\n      [cdkConnectedOverlayOpen]=\"openBlocks()\"\n      [cdkConnectedOverlayHasBackdrop]=\"true\"\n      [cdkConnectedOverlayOffsetY]=\"15\"\n      [cdkConnectedOverlayBackdropClass]=\"'cdk-overlay-transparent-backdrop'\"\n    >\n      <toolbar-blocks\n        [supportedBlocks]=\"supportedBlocks()\"\n        (addBlock)=\"addBlock($event)\"\n      ></toolbar-blocks>\n    </ng-template>\n\n    <!-- Options List-->\n    <ng-template\n      cdkConnectedOverlay\n      (overlayOutsideClick)=\"openBlocksOption.set(false)\"\n      [cdkConnectedOverlayOrigin]=\"blockOptionListTigger\"\n      [cdkConnectedOverlayOpen]=\"openBlocksOption()\"\n      [cdkConnectedOverlayHasBackdrop]=\"true\"\n      [cdkConnectedOverlayOffsetX]=\"-49\"\n      [cdkConnectedOverlayOffsetY]=\"15\"\n      [cdkConnectedOverlayBackdropClass]=\"'cdk-overlay-transparent-backdrop'\"\n    >\n      <toolbar-block-options\n        [blockOptionActions]=\"blockOptionActions()\"\n        (handleAction)=\"handleAction($event)\"\n        (moveBlockPosition)=\"moveBlockPosition($event)\"\n      ></toolbar-block-options>\n    </ng-template>\n  `, isInline: true, styles: [\":host .toolbar-buttons-container{position:relative;display:flex;gap:10px}:host .toolbar-buttons{cursor:pointer;width:30px;height:30px;display:flex;justify-content:center;align-items:center;border-radius:4px;margin-bottom:14px;-webkit-user-select:none;user-select:none;color:var(--mat-sys-on-tertiary-container);background:var(--mat-sys-tertiary-container)}:host .toolbar-buttons:is(:hover,:focus){background:var(--mat-sys-surface-bright)}@media (min-width: 768px){:host{position:absolute;margin-left:-80px;top:0}}\\n\"], dependencies: [{ kind: \"directive\", type: CdkDragHandle, selector: \"[cdkDragHandle]\", inputs: [\"cdkDragHandleDisabled\"] }, { kind: \"directive\", type: MatRipple, selector: \"[mat-ripple], [matRipple]\", inputs: [\"matRippleColor\", \"matRippleUnbounded\", \"matRippleCentered\", \"matRippleRadius\", \"matRippleAnimation\", \"matRippleDisabled\", \"matRippleTrigger\"], exportAs: [\"matRipple\"] }, { kind: \"ngmodule\", type: OverlayModule }, { kind: \"directive\", type: i1.CdkConnectedOverlay, selector: \"[cdk-connected-overlay], [connected-overlay], [cdkConnectedOverlay]\", inputs: [\"cdkConnectedOverlayOrigin\", \"cdkConnectedOverlayPositions\", \"cdkConnectedOverlayPositionStrategy\", \"cdkConnectedOverlayOffsetX\", \"cdkConnectedOverlayOffsetY\", \"cdkConnectedOverlayWidth\", \"cdkConnectedOverlayHeight\", \"cdkConnectedOverlayMinWidth\", \"cdkConnectedOverlayMinHeight\", \"cdkConnectedOverlayBackdropClass\", \"cdkConnectedOverlayPanelClass\", \"cdkConnectedOverlayViewportMargin\", \"cdkConnectedOverlayScrollStrategy\", \"cdkConnectedOverlayOpen\", \"cdkConnectedOverlayDisableClose\", \"cdkConnectedOverlayTransformOriginOn\", \"cdkConnectedOverlayHasBackdrop\", \"cdkConnectedOverlayLockPosition\", \"cdkConnectedOverlayFlexibleDimensions\", \"cdkConnectedOverlayGrowAfterOpen\", \"cdkConnectedOverlayPush\", \"cdkConnectedOverlayDisposeOnNavigation\"], outputs: [\"backdropClick\", \"positionChange\", \"attach\", \"detach\", \"overlayKeydown\", \"overlayOutsideClick\"], exportAs: [\"cdkConnectedOverlay\"] }, { kind: \"directive\", type: i1.CdkOverlayOrigin, selector: \"[cdk-overlay-origin], [overlay-origin], [cdkOverlayOrigin]\", exportAs: [\"cdkOverlayOrigin\"] }, { kind: \"component\", type: ToolbarBlockOptionsComponent, selector: \"toolbar-block-options\", inputs: [\"blockOptionActions\"], outputs: [\"handleAction\", \"moveBlockPosition\"] }, { kind: \"component\", type: ToolbarBlocksComponent, selector: \"toolbar-blocks\", inputs: [\"supportedBlocks\"], outputs: [\"addBlock\"] }] });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"19.1.5\", ngImport: i0, type: ToolbarComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'toolbar', imports: [\n                        CdkDragHandle,\n                        MatRipple,\n                        OverlayModule,\n                        ToolbarBlockOptionsComponent,\n                        ToolbarBlocksComponent,\n                    ], template: `\n    <div class=\"toolbar-buttons-container\">\n      <div\n        class=\"toolbar-buttons mat-elevation-z4\"\n        #blockListTigger=\"cdkOverlayOrigin\"\n        cdkOverlayOrigin\n        matRipple\n        (click)=\"openBlocksList()\"\n      >\n        <span class=\"material-icons\">add</span>\n      </div>\n      <div\n        class=\"toolbar-buttons mat-elevation-z4\"\n        #blockOptionListTigger=\"cdkOverlayOrigin\"\n        cdkDragHandle\n        cdkOverlayOrigin\n        matRipple\n        (click)=\"openBlockOptionList()\"\n      >\n        <span class=\"material-icons\">drag_indicator</span>\n      </div>\n    </div>\n\n    <!-- Block type search list -->\n    <ng-template\n      cdkConnectedOverlay\n      (overlayOutsideClick)=\"openBlocks.set(false)\"\n      [cdkConnectedOverlayOrigin]=\"blockListTigger\"\n      [cdkConnectedOverlayOpen]=\"openBlocks()\"\n      [cdkConnectedOverlayHasBackdrop]=\"true\"\n      [cdkConnectedOverlayOffsetY]=\"15\"\n      [cdkConnectedOverlayBackdropClass]=\"'cdk-overlay-transparent-backdrop'\"\n    >\n      <toolbar-blocks\n        [supportedBlocks]=\"supportedBlocks()\"\n        (addBlock)=\"addBlock($event)\"\n      ></toolbar-blocks>\n    </ng-template>\n\n    <!-- Options List-->\n    <ng-template\n      cdkConnectedOverlay\n      (overlayOutsideClick)=\"openBlocksOption.set(false)\"\n      [cdkConnectedOverlayOrigin]=\"blockOptionListTigger\"\n      [cdkConnectedOverlayOpen]=\"openBlocksOption()\"\n      [cdkConnectedOverlayHasBackdrop]=\"true\"\n      [cdkConnectedOverlayOffsetX]=\"-49\"\n      [cdkConnectedOverlayOffsetY]=\"15\"\n      [cdkConnectedOverlayBackdropClass]=\"'cdk-overlay-transparent-backdrop'\"\n    >\n      <toolbar-block-options\n        [blockOptionActions]=\"blockOptionActions()\"\n        (handleAction)=\"handleAction($event)\"\n        (moveBlockPosition)=\"moveBlockPosition($event)\"\n      ></toolbar-block-options>\n    </ng-template>\n  `, styles: [\":host .toolbar-buttons-container{position:relative;display:flex;gap:10px}:host .toolbar-buttons{cursor:pointer;width:30px;height:30px;display:flex;justify-content:center;align-items:center;border-radius:4px;margin-bottom:14px;-webkit-user-select:none;user-select:none;color:var(--mat-sys-on-tertiary-container);background:var(--mat-sys-tertiary-container)}:host .toolbar-buttons:is(:hover,:focus){background:var(--mat-sys-surface-bright)}@media (min-width: 768px){:host{position:absolute;margin-left:-80px;top:0}}\\n\"] }]\n        }] });\n\nclass BlockMovementService {\n    componentRefMap = new Map();\n    clearComponentRefs() {\n        this.componentRefMap.clear();\n    }\n    getNgxEditorJsBlocks() {\n        return of(Array.from(this.componentRefMap.values()));\n    }\n    newComponentAttached(componentRef) {\n        this.componentRefMap.set(componentRef.instance, componentRef);\n    }\n    updateComponentIndices(ngxEditor) {\n        return from(this.componentRefMap.values()).pipe(tap((componentRef) => componentRef.setInput('sortIndex', ngxEditor.indexOf(componentRef.hostView))));\n    }\n    moveBlockComponentPosition(ngxEditor, action, index) {\n        return of(Array.from(this.componentRefMap.values())).pipe(map((componentRefs) => componentRefs.find((componentRef) => ngxEditor.indexOf(componentRef.hostView) === index - 1)), filter((componentRef) => !!componentRef), map((componentRef) => ({\n            componentRef,\n            totalComponents: ngxEditor.length - 1,\n            currentIndex: ngxEditor.indexOf(componentRef.hostView),\n            newIndex: (index) => action === MovePositionActions.UP ? index - 1 : index + 1,\n        })), map(({ componentRef, totalComponents, currentIndex, newIndex }) => ({\n            componentRef,\n            currentIndex,\n            newIndex: Math.max(0, Math.min(newIndex(currentIndex), totalComponents)),\n        })), filter(({ currentIndex, newIndex }) => currentIndex !== newIndex), tap(({ componentRef, newIndex }) => {\n            ngxEditor.move(componentRef.hostView, newIndex);\n            componentRef.setInput('sortIndex', newIndex);\n            componentRef.setInput('autofocus', true);\n        }), defaultIfEmpty(false));\n    }\n    removeBlockComponent(ngxEditor, index, clear = false) {\n        return of(Array.from(this.componentRefMap.values())).pipe(filter((componentRefs) => clear || componentRefs.length !== 1), map((componentRefs) => componentRefs.find((componentRef) => ngxEditor.indexOf(componentRef.hostView) === index - 1)), map((componentRef) => this.componentRefMap.delete(componentRef?.instance ?? {})), tap((successful) => successful && ngxEditor.remove(index - 1)), defaultIfEmpty(false));\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"19.1.5\", ngImport: i0, type: BlockMovementService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\n    static ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"19.1.5\", ngImport: i0, type: BlockMovementService, providedIn: 'root' });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"19.1.5\", ngImport: i0, type: BlockMovementService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root',\n                }]\n        }] });\n\nconst createUID = () => Math.random().toString(36).substring(7);\nclass EditorJsService {\n    formBuilder = inject(FormBuilder);\n    blockMovementService = inject(BlockMovementService);\n    componentRefMap = new Map();\n    ngxEditor;\n    formGroup = this.formBuilder.group({});\n    // TODO - Handle this idiomatically\n    setNgxEditor(ngxEditor) {\n        this.ngxEditor = ngxEditor;\n    }\n    getBlocks$() {\n        return new Observable((observer) => {\n            lastValueFrom(this.blockMovementService.getNgxEditorJsBlocks().pipe(map((componentRefs) => componentRefs.map(({ instance }) => ({\n                blockId: instance.formControlName(),\n                sortIndex: instance.sortIndex(),\n                componentInstanceName: instance.componentInstanceName,\n                savedAction: instance.savedAction(),\n                dataClean: instance.formGroup().get(instance.formControlName())\n                    ?.value,\n            }))), map((blocks) => blocks.sort((a, b) => a.sortIndex - b.sortIndex)))).then((blocks) => {\n                observer.next(blocks);\n                observer.complete();\n            });\n        });\n    }\n    createNgxEditorJsBlockWithComponent(blockComponent, componentContextPositionIndex) {\n        return of({\n            blockId: createUID(),\n            sortIndex: componentContextPositionIndex,\n            componentInstanceName: blockComponent.name,\n            component: blockComponent,\n            // TODO - Force content-type for dataClean? JSON, HTML, etc.\n            // TODO - And maybe rename dataClean to just data?\n            dataClean: '',\n            autofocus: true,\n        });\n    }\n    addBlockComponent(ngxEditorJsBlock) {\n        return forkJoin([\n            this.createFormGroupControl(ngxEditorJsBlock),\n            this.attachComponent(ngxEditorJsBlock),\n            this.blockMovementService.updateComponentIndices(this.ngxEditor),\n        ]).pipe(map(() => void 0));\n    }\n    createFormGroupControl({ blockId, dataClean, }) {\n        return of(this.formBuilder.control(dataClean, [])).pipe(tap((formControl) => this.formGroup.addControl(blockId, formControl)));\n    }\n    attachComponent({ component, blockId, autofocus, savedAction, sortIndex: index, }) {\n        return of(blockId).pipe(map((controlName) => {\n            const componentRef = this.ngxEditor.createComponent(component, {\n                index,\n            });\n            componentRef.setInput('sortIndex', index);\n            componentRef.setInput('formGroup', this.formGroup);\n            componentRef.setInput('formControlName', controlName);\n            componentRef.setInput('autofocus', autofocus);\n            savedAction && componentRef.instance.actionCallback?.(savedAction);\n            this.blockMovementService.newComponentAttached(componentRef);\n            return componentRef;\n        }));\n    }\n    determineMovePositionAction(action, index, formControlName) {\n        return iif(() => action === MovePositionActions.DELETE, this.removeBlockComponent(index, formControlName), this.blockMovementService.moveBlockComponentPosition(this.ngxEditor, action, index)).pipe(switchMap(() => this.blockMovementService.updateComponentIndices(this.ngxEditor)));\n    }\n    moveBlockComponentPosition(previousIndex, currentIndex) {\n        return of(this.ngxEditor.get(previousIndex)).pipe(filter((viewRef) => !!viewRef), tap((viewRef) => {\n            this.ngxEditor.move(viewRef, currentIndex);\n        }), switchMap(() => this.blockMovementService.updateComponentIndices(this.ngxEditor)), defaultIfEmpty(false));\n    }\n    removeBlockComponent(index, formControlName, clear = false) {\n        return combineLatest([\n            this.blockMovementService.removeBlockComponent(this.ngxEditor, index, clear),\n            of(this.formGroup.removeControl(formControlName)),\n        ]);\n    }\n    clearBlocks() {\n        return this.blockMovementService.getNgxEditorJsBlocks().pipe(filter((componentRefs) => componentRefs.length > 0), map((componentRefs) => componentRefs.sort((a, b) => a.instance.sortIndex() - b.instance.sortIndex())), mergeMap((componentRefs) => forkJoin(Array.from(componentRefs.values()).map((componentRef) => this.removeBlockComponent(componentRef.instance.sortIndex() + 1, componentRef.instance.formControlName(), true)))), switchMap(() => this.blockMovementService.updateComponentIndices(this.ngxEditor)), tap(() => {\n            this.blockMovementService.clearComponentRefs();\n            this.ngxEditor.clear();\n        }), defaultIfEmpty(false));\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"19.1.5\", ngImport: i0, type: EditorJsService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\n    static ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"19.1.5\", ngImport: i0, type: EditorJsService, providedIn: 'root' });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"19.1.5\", ngImport: i0, type: EditorJsService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root',\n                }]\n        }] });\n\nclass ToolFabService {\n    ngxEditorJs2Service = inject(NgxEditorJs2Service);\n    editorJsService = inject(EditorJsService);\n    // I need to explain this in detail so the future me can understand this.\n    componentContext = new BehaviorSubject(null);\n    toolbarComponentRef$ = combineLatest({\n        componentContext: this.componentContext.asObservable(),\n        supportedBlocks: this.ngxEditorJs2Service.supportedBlocks$,\n    }).pipe(filter(({ componentContext }) => componentContext !== null), distinctUntilChanged(({ componentContext: previous }, { componentContext: current }) => previous.index !== current.index ||\n        previous.viewContainerRef !== current.viewContainerRef\n        ? (previous.viewContainerRef.clear(), false)\n        : true), map(({ componentContext, supportedBlocks }) => {\n        const { index, viewContainerRef, blockOptionActions, actionCallback, formControlName, } = componentContext;\n        // TODO We will need to create a ToolbarBottomRailComponent to handle the mobile view\n        const componentRef = viewContainerRef.createComponent(ToolbarComponent);\n        componentRef.setInput('componentContextPositionIndex', index + 1);\n        componentRef.setInput('supportedBlocks', supportedBlocks);\n        componentRef.setInput('blockOptionActions', blockOptionActions);\n        componentRef.setInput('actionCallback', actionCallback);\n        componentRef.setInput('formControlName', formControlName);\n        componentRef.setInput('addBlockCallback', this.addBlock.bind(this));\n        componentRef.setInput('moveBlockPositionCallback', this.movePositionAction.bind(this));\n        return componentRef;\n    }));\n    addBlock(block, index) {\n        return this.editorJsService\n            .createNgxEditorJsBlockWithComponent(block, index)\n            .pipe(switchMap((block) => this.editorJsService.addBlockComponent(block)));\n    }\n    movePositionAction(action, index, formControlName) {\n        return lastValueFrom(this.editorJsService.determineMovePositionAction(action, index, formControlName));\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"19.1.5\", ngImport: i0, type: ToolFabService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\n    static ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"19.1.5\", ngImport: i0, type: ToolFabService, providedIn: 'root' });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"19.1.5\", ngImport: i0, type: ToolFabService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root',\n                }]\n        }] });\n\nclass ToolbarFabDirective {\n    toolFabService = inject(ToolFabService);\n    viewContainerRef = inject(ViewContainerRef);\n    autofocus = input();\n    blockOptionActions = input();\n    actionCallback = input.required();\n    componentContextPositionIndex = input.required();\n    formControlName = input.required();\n    onMouseEnter() {\n        this.toolFabService.componentContext.next({\n            viewContainerRef: this.viewContainerRef,\n            blockOptionActions: this.blockOptionActions() ?? [],\n            actionCallback: this.actionCallback(),\n            index: this.componentContextPositionIndex(),\n            formControlName: this.formControlName(),\n        });\n    }\n    constructor() {\n        effect(() => {\n            this.autofocus() && this.onMouseEnter();\n        });\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"19.1.5\", ngImport: i0, type: ToolbarFabDirective, deps: [], target: i0.ɵɵFactoryTarget.Directive });\n    static ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"17.1.0\", version: \"19.1.5\", type: ToolbarFabDirective, isStandalone: true, selector: \"[toolbarFab]\", inputs: { autofocus: { classPropertyName: \"autofocus\", publicName: \"autofocus\", isSignal: true, isRequired: false, transformFunction: null }, blockOptionActions: { classPropertyName: \"blockOptionActions\", publicName: \"blockOptionActions\", isSignal: true, isRequired: false, transformFunction: null }, actionCallback: { classPropertyName: \"actionCallback\", publicName: \"actionCallback\", isSignal: true, isRequired: true, transformFunction: null }, componentContextPositionIndex: { classPropertyName: \"componentContextPositionIndex\", publicName: \"componentContextPositionIndex\", isSignal: true, isRequired: true, transformFunction: null }, formControlName: { classPropertyName: \"formControlName\", publicName: \"formControlName\", isSignal: true, isRequired: true, transformFunction: null } }, host: { listeners: { \"mouseenter\": \"onMouseEnter()\" } }, ngImport: i0 });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"19.1.5\", ngImport: i0, type: ToolbarFabDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[toolbarFab]',\n                }]\n        }], ctorParameters: () => [], propDecorators: { onMouseEnter: [{\n                type: HostListener,\n                args: ['mouseenter']\n            }] } });\n\nclass CleanPasteDataDirective {\n    onPaste(event) {\n        event.preventDefault();\n        const text = event.clipboardData?.getData('text/plain');\n        document.execCommand('insertText', false, text);\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"19.1.5\", ngImport: i0, type: CleanPasteDataDirective, deps: [], target: i0.ɵɵFactoryTarget.Directive });\n    static ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"19.1.5\", type: CleanPasteDataDirective, isStandalone: true, selector: \"[cleanPasteData]\", host: { listeners: { \"paste\": \"onPaste($event)\" } }, ngImport: i0 });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"19.1.5\", ngImport: i0, type: CleanPasteDataDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[cleanPasteData]',\n                }]\n        }], propDecorators: { onPaste: [{\n                type: HostListener,\n                args: ['paste', ['$event']]\n            }] } });\n\nclass HeaderBlockComponent {\n    sortIndex = input(0);\n    componentInstanceName = 'HeaderBlockComponent';\n    autofocus = input(true);\n    formGroup = input.required();\n    formControlName = input.required();\n    blockOptionActions = input([\n        { action: 'h1', text: 'H1' },\n        { action: 'h2', text: 'H2' },\n        { action: 'h3', text: 'H3' },\n        { action: 'h4', text: 'H4' },\n        { action: 'h5', text: 'H5' },\n        { action: 'h6', text: 'H6' },\n    ]);\n    savedAction = signal('h1');\n    actionCallbackBind = this.actionCallback.bind(this);\n    actionCallback(selectedAction) {\n        this.savedAction.set(selectedAction);\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"19.1.5\", ngImport: i0, type: HeaderBlockComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\n    static ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"17.1.0\", version: \"19.1.5\", type: HeaderBlockComponent, isStandalone: true, selector: \"header-block\", inputs: { sortIndex: { classPropertyName: \"sortIndex\", publicName: \"sortIndex\", isSignal: true, isRequired: false, transformFunction: null }, autofocus: { classPropertyName: \"autofocus\", publicName: \"autofocus\", isSignal: true, isRequired: false, transformFunction: null }, formGroup: { classPropertyName: \"formGroup\", publicName: \"formGroup\", isSignal: true, isRequired: true, transformFunction: null }, formControlName: { classPropertyName: \"formControlName\", publicName: \"formControlName\", isSignal: true, isRequired: true, transformFunction: null }, blockOptionActions: { classPropertyName: \"blockOptionActions\", publicName: \"blockOptionActions\", isSignal: true, isRequired: false, transformFunction: null } }, host: { classAttribute: \"cdk-drag-animating\" }, hostDirectives: [{ directive: i1$1.CdkDrag }], ngImport: i0, template: `\n    <ng-container [ngSwitch]=\"savedAction()\">\n      <h1 *ngSwitchCase=\"'h1'\">\n        <ng-container *ngTemplateOutlet=\"sharedHeaderTemplate\"></ng-container>\n      </h1>\n      <h2 *ngSwitchCase=\"'h2'\">\n        <ng-container *ngTemplateOutlet=\"sharedHeaderTemplate\"></ng-container>\n      </h2>\n      <h3 *ngSwitchCase=\"'h3'\">\n        <ng-container *ngTemplateOutlet=\"sharedHeaderTemplate\"></ng-container>\n      </h3>\n      <h4 *ngSwitchCase=\"'h4'\">\n        <ng-container *ngTemplateOutlet=\"sharedHeaderTemplate\"></ng-container>\n      </h4>\n      <h5 *ngSwitchCase=\"'h5'\">\n        <ng-container *ngTemplateOutlet=\"sharedHeaderTemplate\"></ng-container>\n      </h5>\n      <h6 *ngSwitchCase=\"'h6'\">\n        <ng-container *ngTemplateOutlet=\"sharedHeaderTemplate\"></ng-container>\n      </h6>\n    </ng-container>\n\n    <ng-template [formGroup]=\"formGroup()\" #sharedHeaderTemplate>\n      <span\n        controlAccessor\n        cleanPasteData\n        contentEditable\n        toolbarFab\n        [defaultValue]=\"formGroup().get(formControlName())?.value\"\n        [actionCallback]=\"actionCallbackBind\"\n        [blockOptionActions]=\"blockOptionActions()\"\n        [autofocus]=\"autofocus()\"\n        [formControlName]=\"formControlName()\"\n        [componentContextPositionIndex]=\"sortIndex()\"\n      ></span>\n    </ng-template>\n  `, isInline: true, styles: [\":host{display:block;position:relative}:host :is(h1,h2,h3,h4,h5,h6){margin:0}:host :is(h1,h2,h3,h4,h5,h6) span{display:block;line-height:inherit}:host h1>*{font:var(--mat-sys-display-large)}:host h2>*{font:var(--mat-sys-display-medium)}:host h3>*{font:var(--mat-sys-display-small)}:host h4>*{font:var(--mat-sys-headline-large)}:host h5>*{font:var(--mat-sys-headline-medium)}:host h6>*{font:var(--mat-sys-headline-small)}\\n\"], dependencies: [{ kind: \"ngmodule\", type: ReactiveFormsModule }, { kind: \"directive\", type: i2.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { kind: \"directive\", type: i2.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { kind: \"directive\", type: i2.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { kind: \"directive\", type: i2.FormControlName, selector: \"[formControlName]\", inputs: [\"formControlName\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"] }, { kind: \"directive\", type: ControlAccessorDirective, selector: \"[controlAccessor]\", inputs: [\"defaultValue\"] }, { kind: \"directive\", type: AutofocusDirective, selector: \"[autofocus]\", inputs: [\"autofocus\"] }, { kind: \"directive\", type: ToolbarFabDirective, selector: \"[toolbarFab]\", inputs: [\"autofocus\", \"blockOptionActions\", \"actionCallback\", \"componentContextPositionIndex\", \"formControlName\"] }, { kind: \"directive\", type: CleanPasteDataDirective, selector: \"[cleanPasteData]\" }, { kind: \"directive\", type: NgSwitch, selector: \"[ngSwitch]\", inputs: [\"ngSwitch\"] }, { kind: \"directive\", type: NgSwitchCase, selector: \"[ngSwitchCase]\", inputs: [\"ngSwitchCase\"] }, { kind: \"directive\", type: NgTemplateOutlet, selector: \"[ngTemplateOutlet]\", inputs: [\"ngTemplateOutletContext\", \"ngTemplateOutlet\", \"ngTemplateOutletInjector\"] }] });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"19.1.5\", ngImport: i0, type: HeaderBlockComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'header-block', host: { class: 'cdk-drag-animating' }, hostDirectives: [CdkDrag], imports: [\n                        ReactiveFormsModule,\n                        ControlAccessorDirective,\n                        AutofocusDirective,\n                        ToolbarFabDirective,\n                        CleanPasteDataDirective,\n                        NgSwitch,\n                        NgSwitchCase,\n                        NgTemplateOutlet,\n                    ], template: `\n    <ng-container [ngSwitch]=\"savedAction()\">\n      <h1 *ngSwitchCase=\"'h1'\">\n        <ng-container *ngTemplateOutlet=\"sharedHeaderTemplate\"></ng-container>\n      </h1>\n      <h2 *ngSwitchCase=\"'h2'\">\n        <ng-container *ngTemplateOutlet=\"sharedHeaderTemplate\"></ng-container>\n      </h2>\n      <h3 *ngSwitchCase=\"'h3'\">\n        <ng-container *ngTemplateOutlet=\"sharedHeaderTemplate\"></ng-container>\n      </h3>\n      <h4 *ngSwitchCase=\"'h4'\">\n        <ng-container *ngTemplateOutlet=\"sharedHeaderTemplate\"></ng-container>\n      </h4>\n      <h5 *ngSwitchCase=\"'h5'\">\n        <ng-container *ngTemplateOutlet=\"sharedHeaderTemplate\"></ng-container>\n      </h5>\n      <h6 *ngSwitchCase=\"'h6'\">\n        <ng-container *ngTemplateOutlet=\"sharedHeaderTemplate\"></ng-container>\n      </h6>\n    </ng-container>\n\n    <ng-template [formGroup]=\"formGroup()\" #sharedHeaderTemplate>\n      <span\n        controlAccessor\n        cleanPasteData\n        contentEditable\n        toolbarFab\n        [defaultValue]=\"formGroup().get(formControlName())?.value\"\n        [actionCallback]=\"actionCallbackBind\"\n        [blockOptionActions]=\"blockOptionActions()\"\n        [autofocus]=\"autofocus()\"\n        [formControlName]=\"formControlName()\"\n        [componentContextPositionIndex]=\"sortIndex()\"\n      ></span>\n    </ng-template>\n  `, styles: [\":host{display:block;position:relative}:host :is(h1,h2,h3,h4,h5,h6){margin:0}:host :is(h1,h2,h3,h4,h5,h6) span{display:block;line-height:inherit}:host h1>*{font:var(--mat-sys-display-large)}:host h2>*{font:var(--mat-sys-display-medium)}:host h3>*{font:var(--mat-sys-display-small)}:host h4>*{font:var(--mat-sys-headline-large)}:host h5>*{font:var(--mat-sys-headline-medium)}:host h6>*{font:var(--mat-sys-headline-small)}\\n\"] }]\n        }] });\n\nclass ParagraphBlockComponent {\n    sortIndex = input(0);\n    componentInstanceName = 'ParagraphBlockComponent';\n    autofocus = input(true);\n    formGroup = input.required();\n    formControlName = input.required();\n    blockOptionActions = input([\n        { action: 'small', icon: 'density_small' },\n        { action: 'medium', icon: 'density_medium' },\n        { action: 'large', icon: 'density_large' },\n        { action: 'title-small', text: 'TS' },\n        { action: 'title-medium', text: 'TM' },\n        { action: 'title-large', text: 'TL' },\n    ]);\n    savedAction = signal('medium');\n    actionCallbackBind = this.actionCallback.bind(this);\n    actionCallback(action) {\n        this.savedAction.update(() => action);\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"19.1.5\", ngImport: i0, type: ParagraphBlockComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\n    static ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"17.1.0\", version: \"19.1.5\", type: ParagraphBlockComponent, isStandalone: true, selector: \"paragraph-block\", inputs: { sortIndex: { classPropertyName: \"sortIndex\", publicName: \"sortIndex\", isSignal: true, isRequired: false, transformFunction: null }, autofocus: { classPropertyName: \"autofocus\", publicName: \"autofocus\", isSignal: true, isRequired: false, transformFunction: null }, formGroup: { classPropertyName: \"formGroup\", publicName: \"formGroup\", isSignal: true, isRequired: true, transformFunction: null }, formControlName: { classPropertyName: \"formControlName\", publicName: \"formControlName\", isSignal: true, isRequired: true, transformFunction: null }, blockOptionActions: { classPropertyName: \"blockOptionActions\", publicName: \"blockOptionActions\", isSignal: true, isRequired: false, transformFunction: null } }, host: { classAttribute: \"cdk-drag-animating\" }, hostDirectives: [{ directive: i1$1.CdkDrag }], ngImport: i0, template: `\n    <ng-container [formGroup]=\"formGroup()\">\n      <p\n        controlAccessor\n        contentEditable\n        toolbarFab\n        cleanPasteData\n        [ngClass]=\"savedAction()\"\n        [defaultValue]=\"formGroup().get(formControlName())?.value\"\n        [actionCallback]=\"actionCallbackBind\"\n        [autofocus]=\"autofocus()\"\n        [blockOptionActions]=\"blockOptionActions()\"\n        [formControlName]=\"formControlName()\"\n        [componentContextPositionIndex]=\"sortIndex()\"\n      ></p>\n    </ng-container>\n  `, isInline: true, styles: [\":host{display:block;position:relative}:host .small{font:var(--mat-sys-body-small)}:host .medium{font:var(--mat-sys-body-medium)}:host .large{font:var(--mat-sys-body-large)}:host .title-small{font:var(--mat-sys-title-small)}:host .title-medium{font:var(--mat-sys-title-medium)}:host .title-large{font:var(--mat-sys-title-large)}\\n\"], dependencies: [{ kind: \"ngmodule\", type: ReactiveFormsModule }, { kind: \"directive\", type: i2.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { kind: \"directive\", type: i2.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { kind: \"directive\", type: i2.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { kind: \"directive\", type: i2.FormControlName, selector: \"[formControlName]\", inputs: [\"formControlName\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"] }, { kind: \"directive\", type: ControlAccessorDirective, selector: \"[controlAccessor]\", inputs: [\"defaultValue\"] }, { kind: \"directive\", type: AutofocusDirective, selector: \"[autofocus]\", inputs: [\"autofocus\"] }, { kind: \"directive\", type: ToolbarFabDirective, selector: \"[toolbarFab]\", inputs: [\"autofocus\", \"blockOptionActions\", \"actionCallback\", \"componentContextPositionIndex\", \"formControlName\"] }, { kind: \"directive\", type: CleanPasteDataDirective, selector: \"[cleanPasteData]\" }, { kind: \"directive\", type: NgClass, selector: \"[ngClass]\", inputs: [\"class\", \"ngClass\"] }] });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"19.1.5\", ngImport: i0, type: ParagraphBlockComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'paragraph-block', host: { class: 'cdk-drag-animating' }, hostDirectives: [CdkDrag], imports: [\n                        ReactiveFormsModule,\n                        ControlAccessorDirective,\n                        AutofocusDirective,\n                        ToolbarFabDirective,\n                        CleanPasteDataDirective,\n                        NgClass,\n                    ], template: `\n    <ng-container [formGroup]=\"formGroup()\">\n      <p\n        controlAccessor\n        contentEditable\n        toolbarFab\n        cleanPasteData\n        [ngClass]=\"savedAction()\"\n        [defaultValue]=\"formGroup().get(formControlName())?.value\"\n        [actionCallback]=\"actionCallbackBind\"\n        [autofocus]=\"autofocus()\"\n        [blockOptionActions]=\"blockOptionActions()\"\n        [formControlName]=\"formControlName()\"\n        [componentContextPositionIndex]=\"sortIndex()\"\n      ></p>\n    </ng-container>\n  `, styles: [\":host{display:block;position:relative}:host .small{font:var(--mat-sys-body-small)}:host .medium{font:var(--mat-sys-body-medium)}:host .large{font:var(--mat-sys-body-large)}:host .title-small{font:var(--mat-sys-title-small)}:host .title-medium{font:var(--mat-sys-title-medium)}:host .title-large{font:var(--mat-sys-title-large)}\\n\"] }]\n        }] });\n\nconst NGX_EDITORJS_OPTIONS = new InjectionToken('NGX_EDITORJS_OPTIONS');\nclass NgxEditorJs2Service {\n    editorJsService = inject(EditorJsService);\n    consumerSupportedBlocks = new BehaviorSubject(inject(NGX_EDITORJS_OPTIONS, { optional: true })?.consumerSupportedBlocks ??\n        []);\n    internalSupportedBlocks = new BehaviorSubject([\n        {\n            name: 'Paragraph',\n            component: ParagraphBlockComponent,\n            componentInstanceName: 'ParagraphBlockComponent',\n        },\n        {\n            name: 'Header',\n            component: HeaderBlockComponent,\n            componentInstanceName: 'HeaderBlockComponent',\n        },\n    ]);\n    supportedBlocks$ = combineLatest([\n        this.internalSupportedBlocks.asObservable(),\n        this.consumerSupportedBlocks.asObservable(),\n    ]).pipe(map(([internal, consumer]) => [...internal, ...consumer]));\n    blocksToLoad = new BehaviorSubject([]);\n    loadBlocks$ = this.blocksToLoad.asObservable().pipe(delay(0), exhaustMap((blocks) => this.clearBlocksFromEditorJs(blocks)), map(([blocks]) => this.determineToloadDefaultBlocks(blocks)), map((blocks) => this.removeDuplicateBlocksWithSameIds(blocks)), map((blocks) => this.sortBlocks(blocks)), switchMap((blocks) => this.combineSupportBlocks(blocks)), map(([blocks, supportedBlocks]) => this.createALookupMapForSupportedBlocks(blocks, supportedBlocks)), map(({ blocks, supportedBlocksMap }) => this.findAndMarshalBlocksComponent(blocks, supportedBlocksMap)), mergeMap((blocks) => this.addBlocksToEditorJs(blocks).pipe(map(() => blocks))));\n    clearBlocksFromEditorJs(blocks) {\n        return forkJoin([of(blocks), this.editorJsService.clearBlocks()]);\n    }\n    determineToloadDefaultBlocks(blocks) {\n        return blocks.length > 0 ? blocks : this.loadDefaultBlocks();\n    }\n    loadDefaultBlocks() {\n        return [\n            {\n                blockId: 'tmdjr',\n                sortIndex: 0,\n                componentInstanceName: 'HeaderBlockComponent',\n                dataClean: \"Let's get started... 🚀\",\n                savedAction: 'h1',\n            },\n        ];\n    }\n    removeDuplicateBlocksWithSameIds(blocks) {\n        return Array.from(new Map(blocks.map((block) => [block.blockId, block])).values());\n    }\n    sortBlocks(blocks) {\n        return blocks.sort((a, b) => a.sortIndex - b.sortIndex);\n    }\n    combineSupportBlocks(blocks) {\n        return combineLatest([of(blocks), this.supportedBlocks$]);\n    }\n    createALookupMapForSupportedBlocks(blocks, supportedBlocks) {\n        return {\n            blocks,\n            supportedBlocksMap: new Map(supportedBlocks.map((sb) => [sb.componentInstanceName, sb.component])),\n        };\n    }\n    findAndMarshalBlocksComponent(blocks, supportedBlocksMap) {\n        return blocks.map((block) => ({\n            ...block,\n            component: supportedBlocksMap.get(block.componentInstanceName) ??\n                HeaderBlockComponent,\n        }));\n    }\n    addBlocksToEditorJs(blocks) {\n        return combineLatest(blocks.map((block) => this.editorJsService.addBlockComponent(block)));\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"19.1.5\", ngImport: i0, type: NgxEditorJs2Service, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\n    static ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"19.1.5\", ngImport: i0, type: NgxEditorJs2Service, providedIn: 'root' });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"19.1.5\", ngImport: i0, type: NgxEditorJs2Service, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root',\n                }]\n        }] });\n\nclass EditorJsComponent {\n    editorJsService = inject(EditorJsService);\n    ngxEditorJs2Service = inject(NgxEditorJs2Service);\n    bootstrapEditorJs = input();\n    blocks = input.required({\n        transform: (value) => this.ngxEditorJs2Service.blocksToLoad.next(value),\n    });\n    ngxEditor = viewChild.required('ngxEditor', { read: ViewContainerRef });\n    constructor() {\n        effect(() => {\n            this.editorJsService.setNgxEditor(this.ngxEditor());\n        });\n    }\n    // * DEBUGGING\n    // ngOnInit() {\n    //   this.editorJsService.formGroup.valueChanges.subscribe((value) => {\n    //     console.log('[formGroup.value] : ', value);\n    //   });\n    //   this.editorJsService.blockComponents$.subscribe((components) => {\n    //     console.log('[components] : ', components);\n    //   });\n    // }\n    drop(event) {\n        lastValueFrom(this.editorJsService.moveBlockComponentPosition(event.previousIndex, event.currentIndex)).then(() => {\n            // DRAG ANIMATION HOT FIX\n            // Wait for Angular to update the DOM, then remove the animation class\n            requestAnimationFrame(() => {\n                document.querySelectorAll('.cdk-drag-animating').forEach((el) => {\n                    const element = el;\n                    element.classList.remove('cdk-drag-animating'); // Ensure old class is removed\n                    void element.offsetWidth; // Force reflow\n                    element.classList.add('cdk-drag-animating'); // Re-add for next drag\n                });\n            });\n        });\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"19.1.5\", ngImport: i0, type: EditorJsComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\n    static ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"17.2.0\", version: \"19.1.5\", type: EditorJsComponent, isStandalone: true, selector: \"editor-js\", inputs: { bootstrapEditorJs: { classPropertyName: \"bootstrapEditorJs\", publicName: \"bootstrapEditorJs\", isSignal: true, isRequired: false, transformFunction: null }, blocks: { classPropertyName: \"blocks\", publicName: \"blocks\", isSignal: true, isRequired: true, transformFunction: null } }, viewQueries: [{ propertyName: \"ngxEditor\", first: true, predicate: [\"ngxEditor\"], descendants: true, read: ViewContainerRef, isSignal: true }], ngImport: i0, template: `\n    <div cdkDropList class=\"block-list\" (cdkDropListDropped)=\"drop($event)\">\n      <ng-container #ngxEditor></ng-container>\n    </div>\n  `, isInline: true, styles: [\":host{display:block}:host .block-list{min-height:60px}\\n\"], dependencies: [{ kind: \"directive\", type: CdkDropList, selector: \"[cdkDropList], cdk-drop-list\", inputs: [\"cdkDropListConnectedTo\", \"cdkDropListData\", \"cdkDropListOrientation\", \"id\", \"cdkDropListLockAxis\", \"cdkDropListDisabled\", \"cdkDropListSortingDisabled\", \"cdkDropListEnterPredicate\", \"cdkDropListSortPredicate\", \"cdkDropListAutoScrollDisabled\", \"cdkDropListAutoScrollStep\", \"cdkDropListElementContainer\"], outputs: [\"cdkDropListDropped\", \"cdkDropListEntered\", \"cdkDropListExited\", \"cdkDropListSorted\"], exportAs: [\"cdkDropList\"] }] });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"19.1.5\", ngImport: i0, type: EditorJsComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'editor-js', imports: [CdkDropList], template: `\n    <div cdkDropList class=\"block-list\" (cdkDropListDropped)=\"drop($event)\">\n      <ng-container #ngxEditor></ng-container>\n    </div>\n  `, styles: [\":host{display:block}:host .block-list{min-height:60px}\\n\"] }]\n        }], ctorParameters: () => [] });\n\nclass ToolbarInlineComponent {\n    // @Input() selection!: Selection;\n    selection = input.required();\n    closeOverlayEmitter = new EventEmitter();\n    renderer = inject(Renderer2);\n    url = '';\n    showURLInputField = signal(false);\n    savedRanges = [];\n    options = [\n        { icon: 'format_bold', action: 'bold' },\n        { icon: 'format_italic', action: 'italic' },\n        { icon: 'format_underlined', action: 'underline' },\n        { icon: 'strikethrough_s', action: 'strikethrough' },\n        { icon: 'format_list_bulleted', action: 'insertUnorderedList' },\n        { icon: 'format_list_numbered', action: 'insertOrderedList' },\n        { icon: 'highlight', action: 'highlightColor' },\n        { icon: 'format_align_left', action: 'justifyLeft' },\n        { icon: 'format_align_center', action: 'justifyCenter' },\n        { icon: 'format_align_right', action: 'justifyRight' },\n        { icon: 'format_align_justify', action: 'justifyFull' },\n    ];\n    addInlineTag(tag) {\n        // https://stackoverflow.com/questions/60581285/execcommand-is-now-obsolete-whats-the-alternative\n        document.execCommand(tag);\n        this.closeOverlayEmitter.emit();\n    }\n    addClassTag(tag, className) {\n        const range = this.selection().getRangeAt(0);\n        const element = this.renderer.createElement(tag);\n        element.className = className ?? '';\n        element.innerHTML = range.toString();\n        range.deleteContents();\n        range.insertNode(element);\n        this.closeOverlayEmitter.emit();\n    }\n    clearTags() {\n        document.execCommand('removeFormat');\n        document.execCommand('unlink');\n        this.closeOverlayEmitter.emit();\n    }\n    openUrlInput() {\n        this.savedRanges.push(this.selection().getRangeAt(0));\n        this.showURLInputField.set(true);\n    }\n    createLink() {\n        this.selection().removeAllRanges();\n        this.selection().addRange(this.savedRanges.pop());\n        document.execCommand('createLink', false, this.url);\n        this.closeOverlayEmitter.emit();\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"19.1.5\", ngImport: i0, type: ToolbarInlineComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\n    static ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"17.0.0\", version: \"19.1.5\", type: ToolbarInlineComponent, isStandalone: true, selector: \"toolbar-inline\", inputs: { selection: { classPropertyName: \"selection\", publicName: \"selection\", isSignal: true, isRequired: true, transformFunction: null } }, outputs: { closeOverlayEmitter: \"closeOverlay\" }, host: { classAttribute: \"mat-elevation-z24\" }, ngImport: i0, template: `\n    <div class=\"panel\">\n      @for (item of options; track $index) {\n      <div class=\"inline-option\" (click)=\"addInlineTag(item.action)\">\n        <mat-icon>{{ item.icon }}</mat-icon>\n      </div>\n      }\n      <div class=\"inline-option\" (click)=\"addClassTag('code', 'inline-code')\">\n        <mat-icon>code</mat-icon>\n      </div>\n      <div class=\"inline-option\" (click)=\"openUrlInput()\">\n        <mat-icon>insert_link</mat-icon>\n      </div>\n      <div class=\"inline-option\" (click)=\"clearTags()\">\n        <mat-icon>format_clear</mat-icon>\n      </div>\n    </div>\n\n    @if(showURLInputField()) {\n    <div class=\"panel\">\n      <input\n        type=\"text\"\n        placeholder=\"Enter URL\"\n        class=\"block-option-input\"\n        [(ngModel)]=\"url\"\n      />\n      <div class=\"inline-option\" (click)=\"createLink()\">\n        <mat-icon>add</mat-icon>\n      </div>\n    </div>\n    }\n  `, isInline: true, styles: [\":host{color:var(--mat-sys-on-secondary);background:var(--mat-sys-secondary);border-radius:8px}:host .panel{display:flex;width:230px;flex-wrap:wrap;gap:1px}:host .inline-option{cursor:pointer;width:32px;height:32px;display:flex;align-items:center;justify-content:center}:host .block-option-input{width:197px;height:32px;border:none;outline:none;color:var(--mat-sys-on-secondary);background-color:transparent;box-sizing:border-box}\\n\"], dependencies: [{ kind: \"ngmodule\", type: MatListModule }, { kind: \"ngmodule\", type: MatIconModule }, { kind: \"component\", type: i1$2.MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }, { kind: \"ngmodule\", type: FormsModule }, { kind: \"directive\", type: i2.DefaultValueAccessor, selector: \"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]\" }, { kind: \"directive\", type: i2.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { kind: \"directive\", type: i2.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }] });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"19.1.5\", ngImport: i0, type: ToolbarInlineComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'toolbar-inline', imports: [MatListModule, MatIconModule, FormsModule], host: { class: 'mat-elevation-z24' }, template: `\n    <div class=\"panel\">\n      @for (item of options; track $index) {\n      <div class=\"inline-option\" (click)=\"addInlineTag(item.action)\">\n        <mat-icon>{{ item.icon }}</mat-icon>\n      </div>\n      }\n      <div class=\"inline-option\" (click)=\"addClassTag('code', 'inline-code')\">\n        <mat-icon>code</mat-icon>\n      </div>\n      <div class=\"inline-option\" (click)=\"openUrlInput()\">\n        <mat-icon>insert_link</mat-icon>\n      </div>\n      <div class=\"inline-option\" (click)=\"clearTags()\">\n        <mat-icon>format_clear</mat-icon>\n      </div>\n    </div>\n\n    @if(showURLInputField()) {\n    <div class=\"panel\">\n      <input\n        type=\"text\"\n        placeholder=\"Enter URL\"\n        class=\"block-option-input\"\n        [(ngModel)]=\"url\"\n      />\n      <div class=\"inline-option\" (click)=\"createLink()\">\n        <mat-icon>add</mat-icon>\n      </div>\n    </div>\n    }\n  `, styles: [\":host{color:var(--mat-sys-on-secondary);background:var(--mat-sys-secondary);border-radius:8px}:host .panel{display:flex;width:230px;flex-wrap:wrap;gap:1px}:host .inline-option{cursor:pointer;width:32px;height:32px;display:flex;align-items:center;justify-content:center}:host .block-option-input{width:197px;height:32px;border:none;outline:none;color:var(--mat-sys-on-secondary);background-color:transparent;box-sizing:border-box}\\n\"] }]\n        }], propDecorators: { closeOverlayEmitter: [{\n                type: Output,\n                args: ['closeOverlay']\n            }] } });\n\nclass ToolbarInlineService {\n    overlay = inject(Overlay);\n    overlayRef;\n    determineToDisplayInlineToolbarBlock(_event) {\n        return of(window.getSelection()).pipe(filter((selection) => selection !== null), filter((selection) => selection.rangeCount > 0), filter((selection) => selection.toString().length > 0), filter((selection) => selection.toString() !== ''), tap(() => this.overlayRef?.hasAttached() && this.overlayRef.dispose()), // So hacky tired to do this properly\n        map((selection) => ({\n            selection,\n            parant: this.getSelectionParent(selection),\n        })), filter(({ parant }) => this.isSelectionInABlock(parant)), exhaustMap(({ selection }) => this.attachInlineToolbar(selection)));\n    }\n    getSelectionParent(selection) {\n        const range = selection.getRangeAt(0);\n        return range.commonAncestorContainer.nodeType === Node.ELEMENT_NODE\n            ? range.commonAncestorContainer\n            : range.commonAncestorContainer.parentElement;\n    }\n    isSelectionInABlock(target) {\n        // ! TODO: This is a hacky way to determine if the selection is in a block\n        // ! Need to also check if the block wants to display the inline toolbar\n        return (!!target &&\n            (target.closest('.no-toolbar-inline') !== null\n                ? false\n                : target.closest('ngx-editor-js2') !== null\n                    ? true\n                    : false));\n    }\n    attachInlineToolbar(selection) {\n        return of(selection.getRangeAt(0)).pipe(map((range) => range.getBoundingClientRect()), map((selectionRect) => this.createOverlay(selectionRect)), \n        // So hacky tired to do this properly\n        // passing the refs down the pipe adds a bug\n        // user selects text with a drag\n        // (mousedown → mousemove → wait → mousemove → mouseup)\n        tap((overlayRef) => (this.overlayRef = overlayRef)), map((overlayRef) => {\n            const inlineToolbar = overlayRef.attach(new ComponentPortal(ToolbarInlineComponent));\n            inlineToolbar.setInput('selection', selection);\n            lastValueFrom(merge(overlayRef.backdropClick(), inlineToolbar.instance.closeOverlayEmitter).pipe(tap(() => overlayRef.dispose()), tap(() => selection.removeAllRanges())));\n            return true;\n        }));\n    }\n    createOverlay(selectionRect) {\n        return this.overlay.create({\n            hasBackdrop: true,\n            backdropClass: 'cdk-overlay-transparent-backdrop',\n            positionStrategy: this.overlay\n                .position()\n                .flexibleConnectedTo(selectionRect)\n                .withPositions([\n                {\n                    offsetY: 8,\n                    originX: 'start',\n                    originY: 'bottom',\n                    overlayX: 'start',\n                    overlayY: 'top',\n                },\n            ]),\n        });\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"19.1.5\", ngImport: i0, type: ToolbarInlineService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\n    static ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"19.1.5\", ngImport: i0, type: ToolbarInlineService, providedIn: 'root' });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"19.1.5\", ngImport: i0, type: ToolbarInlineService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root',\n                }]\n        }] });\n\nclass NgxEditorJs2Component {\n    inlineToolbarSerivce = inject(ToolbarInlineService);\n    editorJsService = inject(EditorJsService);\n    ngxEditorJs2Service = inject(NgxEditorJs2Service);\n    blocks = input([]);\n    blocksRequested = output();\n    requestBlocks = input.required({\n        transform: (_v) => this.blocksRequested.emit(this.editorJsService.getBlocks$()),\n    });\n    bootstrapEditorJs$ = combineLatest([\n        inject(ToolFabService).toolbarComponentRef$,\n        this.ngxEditorJs2Service.loadBlocks$,\n        fromEvent(document, 'selectionchange').pipe(debounceTime(200), switchMap((event) => this.inlineToolbarSerivce.determineToDisplayInlineToolbarBlock(event)))\n    ]);\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"19.1.5\", ngImport: i0, type: NgxEditorJs2Component, deps: [], target: i0.ɵɵFactoryTarget.Component });\n    static ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"17.1.0\", version: \"19.1.5\", type: NgxEditorJs2Component, isStandalone: true, selector: \"ngx-editor-js2\", inputs: { blocks: { classPropertyName: \"blocks\", publicName: \"blocks\", isSignal: true, isRequired: false, transformFunction: null }, requestBlocks: { classPropertyName: \"requestBlocks\", publicName: \"requestBlocks\", isSignal: true, isRequired: true, transformFunction: null } }, outputs: { blocksRequested: \"blocksRequested\" }, ngImport: i0, template: `\n    <editor-js\n      [blocks]=\"blocks()\"\n      [bootstrapEditorJs]=\"bootstrapEditorJs$ | async\"\n    ></editor-js>\n  `, isInline: true, dependencies: [{ kind: \"component\", type: EditorJsComponent, selector: \"editor-js\", inputs: [\"bootstrapEditorJs\", \"blocks\"] }, { kind: \"pipe\", type: AsyncPipe, name: \"async\" }] });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"19.1.5\", ngImport: i0, type: NgxEditorJs2Component, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'ngx-editor-js2',\n                    imports: [EditorJsComponent, AsyncPipe],\n                    template: `\n    <editor-js\n      [blocks]=\"blocks()\"\n      [bootstrapEditorJs]=\"bootstrapEditorJs$ | async\"\n    ></editor-js>\n  `,\n                }]\n        }] });\n\n/*\n * Public API Surface of ngx-editor-js2\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { AutofocusDirective, CleanPasteDataDirective, ControlAccessorDirective, NGX_EDITORJS_OPTIONS, NgxEditorJs2Component, NgxEditorJs2Service, ToolbarFabDirective };\n"],"names":["ImageConfigComponent","formBuilder","inject","FormBuilder","value","input","url","title","value$","toObservable","imageValue","output","viewModel$","pipe","map","imageConfigForm","group","Validators","required","errorMessages","configFormErrorMessages","mergeMap","viewModel","watchStatusChanges","startWith","withLatestFrom","of","_status","vm","statusChanges","tap","setErrorsMessages","updateImage","emit","closeConfig","Object","keys","controls","forEach","element","errors","get","error","ɵcmp","selectors","inputs","outputs","decls","vars","consts","template","ImageConfigComponent_Template","rf","ctx","MatInput","MatButton","MatFormFieldModule","i1","MatFormField","MatLabel","MatError","ReactiveFormsModule","i2","ɵNgNoValidate","DefaultValueAccessor","NgControlStatus","NgControlStatusGroup","FormGroupDirective","FormControlName","AsyncPipe","styles","NgxEditorJs2ImageComponent","sortIndex","componentInstanceName","autofocus","formGroup","formControlName","blockOptionActions","action","icon","signal","savedAction","actionCallbackBind","actionCallback","bind","openOverlay","ngOnInit","possibleSavedValue","set","JSON","parse","console","warn","update","openEditUrlOverlay","setValue","stringify","hostAttrs","features","i1$1","CdkDrag","NgxEditorJs2ImageComponent_Template","ControlAccessorDirective","AutofocusDirective","ToolbarFabDirective","MatFabButton","MatIcon","NgClass","i0","ElementRef","forwardRef","Directive","HostListener","Component","Injectable","ViewContainerRef","effect","InjectionToken","viewChild","EventEmitter","Renderer2","Output","NG_VALUE_ACCESSOR","FormControl","FormsModule","combineLatest","firstValueFrom","from","filter","defaultIfEmpty","Observable","lastValueFrom","forkJoin","iif","switchMap","BehaviorSubject","distinctUntilChanged","delay","exhaustMap","merge","fromEvent","debounceTime","MatRipple","CdkDragHandle","CdkDropList","OverlayModule","Overlay","i1$2","MatIconModule","NgSwitch","NgSwitchCase","NgTemplateOutlet","MatList","MatListItem","MatListModule","ComponentPortal","ToolbarBlockOptionsComponent_For_11_Conditional_1_Template","ɵɵtext","blockOptionAction_r2","ɵɵnextContext","$implicit","ɵɵtextInterpolate1","text","ToolbarBlockOptionsComponent_For_11_Conditional_2_Template","ɵɵelementStart","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","ToolbarBlockOptionsComponent_For_11_Template","_r1","ɵɵgetCurrentView","ɵɵlistener","ToolbarBlockOptionsComponent_For_11_Template_div_click_0_listener","ɵɵrestoreView","ctx_r2","ɵɵresetView","handleAction","ɵɵtemplate","ɵɵconditional","ToolbarBlocksComponent_Conditional_5_Conditional_1_Template","ToolbarBlocksComponent_Conditional_5_Conditional_2_For_1_Template","ToolbarBlocksComponent_Conditional_5_Conditional_2_For_1_Template_mat_list_item_click_0_listener","block_r2","addBlock","name","ToolbarBlocksComponent_Conditional_5_Conditional_2_Template","ɵɵrepeaterCreate","ɵɵrepeaterTrackByIndex","filteredBlocks_r4","ɵɵrepeater","ToolbarBlocksComponent_Conditional_5_Template","length","ToolbarComponent_ng_template_9_Template","_r2","ToolbarComponent_ng_template_9_Template_toolbar_blocks_addBlock_0_listener","$event","ɵɵproperty","supportedBlocks","ToolbarComponent_ng_template_10_Template","_r4","ToolbarComponent_ng_template_10_Template_toolbar_block_options_handleAction_0_listener","ToolbarComponent_ng_template_10_Template_toolbar_block_options_moveBlockPosition_0_listener","moveBlockPosition","HeaderBlockComponent_h1_1_ng_container_1_Template","ɵɵelementContainer","HeaderBlockComponent_h1_1_Template","sharedHeaderTemplate_r1","ɵɵreference","HeaderBlockComponent_h2_2_ng_container_1_Template","HeaderBlockComponent_h2_2_Template","HeaderBlockComponent_h3_3_ng_container_1_Template","HeaderBlockComponent_h3_3_Template","HeaderBlockComponent_h4_4_ng_container_1_Template","HeaderBlockComponent_h4_4_Template","HeaderBlockComponent_h5_5_ng_container_1_Template","HeaderBlockComponent_h5_5_Template","HeaderBlockComponent_h6_6_ng_container_1_Template","HeaderBlockComponent_h6_6_Template","HeaderBlockComponent_ng_template_7_Template","ɵɵelement","tmp_2_0","ctx_r1","_c0","ToolbarInlineComponent_For_2_Template","ToolbarInlineComponent_For_2_Template_div_click_0_listener","item_r2","addInlineTag","ToolbarInlineComponent_Conditional_12_Template","ɵɵtwoWayListener","ToolbarInlineComponent_Conditional_12_Template_input_ngModelChange_1_listener","ɵɵtwoWayBindingSet","ToolbarInlineComponent_Conditional_12_Template_div_click_2_listener","createLink","ɵɵtwoWayProperty","elementRef","defaultValue","onChange","onTouched","writeValue","nativeElement","innerHTML","registerOnChange","fn","registerOnTouched","onBlur","onInput","ɵfac","ControlAccessorDirective_Factory","__ngFactoryType__","ɵdir","ɵɵdefineDirective","type","hostBindings","ControlAccessorDirective_HostBindings","ControlAccessorDirective_blur_HostBindingHandler","ControlAccessorDirective_input_HostBindingHandler","ɵɵProvidersFeature","provide","useExisting","multi","ngDevMode","ngAfterContentInit","focus","AutofocusDirective_Factory","MovePositionActions","ToolbarBlockOptionsComponent","Position","handleActionEmitter","alias","moveBlockPositionEmitter","movePosition","ToolbarBlockOptionsComponent_Factory","ɵɵdefineComponent","ToolbarBlockOptionsComponent_Template","ToolbarBlockOptionsComponent_Template_div_click_1_listener","UP","ToolbarBlockOptionsComponent_Template_div_click_4_listener","DELETE","ToolbarBlockOptionsComponent_Template_div_click_7_listener","DOWN","dependencies","ToolbarBlocksComponent","addBlockEmitter","supportedBlocks$","blockCtrl","filter$","valueChanges","filteredBlocks$","blocks","filterString","replace","pattern","split","v","join","regex","RegExp","block","match","component","ToolbarBlocksComponent_Factory","ToolbarBlocksComponent_Template","ɵɵpipe","ɵɵpipeBind1","FormControlDirective","ToolbarComponent","componentContextPositionIndex","addBlockCallback","moveBlockPositionCallback","openBlocks","openBlocksOption","openBlocksList","prev","openBlockOptionList","closeLists","ToolbarComponent_Factory","ToolbarComponent_Template","ToolbarComponent_Template_div_click_1_listener","ToolbarComponent_Template_div_click_5_listener","ToolbarComponent_Template_ng_template_overlayOutsideClick_9_listener","ToolbarComponent_Template_ng_template_overlayOutsideClick_10_listener","blockListTigger_r5","blockOptionListTigger_r6","CdkConnectedOverlay","CdkOverlayOrigin","BlockMovementService","componentRefMap","Map","clearComponentRefs","clear","getNgxEditorJsBlocks","Array","values","newComponentAttached","componentRef","instance","updateComponentIndices","ngxEditor","setInput","indexOf","hostView","moveBlockComponentPosition","index","componentRefs","find","totalComponents","currentIndex","newIndex","Math","max","min","move","removeBlockComponent","delete","successful","remove","BlockMovementService_Factory","ɵprov","ɵɵdefineInjectable","token","factory","providedIn","createUID","random","toString","substring","EditorJsService","blockMovementService","setNgxEditor","getBlocks$","observer","blockId","dataClean","sort","a","b","then","next","complete","createNgxEditorJsBlockWithComponent","blockComponent","addBlockComponent","ngxEditorJsBlock","createFormGroupControl","attachComponent","control","formControl","addControl","controlName","createComponent","determineMovePositionAction","previousIndex","viewRef","removeControl","clearBlocks","EditorJsService_Factory","ToolFabService","ngxEditorJs2Service","NgxEditorJs2Service","editorJsService","componentContext","toolbarComponentRef$","asObservable","previous","current","viewContainerRef","movePositionAction","ToolFabService_Factory","toolFabService","onMouseEnter","constructor","ToolbarFabDirective_Factory","ToolbarFabDirective_HostBindings","ToolbarFabDirective_mouseenter_HostBindingHandler","CleanPasteDataDirective","onPaste","event","preventDefault","clipboardData","getData","document","execCommand","CleanPasteDataDirective_Factory","CleanPasteDataDirective_HostBindings","CleanPasteDataDirective_paste_HostBindingHandler","HeaderBlockComponent","selectedAction","HeaderBlockComponent_Factory","ɵɵHostDirectivesFeature","HeaderBlockComponent_Template","ɵɵelementContainerStart","ɵɵelementContainerEnd","ɵɵtemplateRefExtractor","ParagraphBlockComponent","ParagraphBlockComponent_Factory","ParagraphBlockComponent_Template","NGX_EDITORJS_OPTIONS","consumerSupportedBlocks","optional","internalSupportedBlocks","internal","consumer","blocksToLoad","loadBlocks$","clearBlocksFromEditorJs","determineToloadDefaultBlocks","removeDuplicateBlocksWithSameIds","sortBlocks","combineSupportBlocks","createALookupMapForSupportedBlocks","supportedBlocksMap","findAndMarshalBlocksComponent","addBlocksToEditorJs","loadDefaultBlocks","sb","NgxEditorJs2Service_Factory","EditorJsComponent","bootstrapEditorJs","transform","read","drop","requestAnimationFrame","querySelectorAll","el","classList","offsetWidth","add","EditorJsComponent_Factory","viewQuery","EditorJsComponent_Query","ɵɵviewQuerySignal","ɵɵqueryAdvance","EditorJsComponent_Template","EditorJsComponent_Template_div_cdkDropListDropped_0_listener","ToolbarInlineComponent","selection","closeOverlayEmitter","renderer","showURLInputField","savedRanges","options","tag","addClassTag","className","range","getRangeAt","createElement","deleteContents","insertNode","clearTags","openUrlInput","push","removeAllRanges","addRange","pop","ToolbarInlineComponent_Factory","ToolbarInlineComponent_Template","ToolbarInlineComponent_Template_div_click_3_listener","ToolbarInlineComponent_Template_div_click_6_listener","ToolbarInlineComponent_Template_div_click_9_listener","NgModel","ToolbarInlineService","overlay","overlayRef","determineToDisplayInlineToolbarBlock","_event","window","getSelection","rangeCount","hasAttached","dispose","parant","getSelectionParent","isSelectionInABlock","attachInlineToolbar","commonAncestorContainer","nodeType","Node","ELEMENT_NODE","parentElement","target","closest","getBoundingClientRect","selectionRect","createOverlay","inlineToolbar","attach","backdropClick","create","hasBackdrop","backdropClass","positionStrategy","position","flexibleConnectedTo","withPositions","offsetY","originX","originY","overlayX","overlayY","ToolbarInlineService_Factory","NgxEditorJs2Component","inlineToolbarSerivce","blocksRequested","requestBlocks","_v","bootstrapEditorJs$","NgxEditorJs2Component_Factory","NgxEditorJs2Component_Template","encapsulation"],"sourceRoot":"webpack:///","x_google_ignoreList":[4]}